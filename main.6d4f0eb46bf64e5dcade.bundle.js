(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Canvas}));__webpack_require__(14),__webpack_require__(22),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),rdk__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(45),_symbols_Node__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(234),_symbols_Edge__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(130),_symbols_Arrow__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(233),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(37),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__),_utils_CanvasProvider__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(73),framer_motion__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(35),_Canvas_module_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(354),_Canvas_module_css__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_Canvas_module_css__WEBPACK_IMPORTED_MODULE_12__);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var InternalCanvas=Object(react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((function(_ref,ref){var _layout$edges,_layout$children,className=_ref.className,_ref$height=_ref.height,height=void 0===_ref$height?"100%":_ref$height,_ref$width=_ref.width,width=void 0===_ref$width?"100%":_ref$width,readonly=_ref.readonly,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$arrow=_ref.arrow,arrow=void 0===_ref$arrow?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_symbols_Arrow__WEBPACK_IMPORTED_MODULE_8__.b,{}):_ref$arrow,_ref$node=_ref.node,node=void 0===_ref$node?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_symbols_Node__WEBPACK_IMPORTED_MODULE_6__.a,{}):_ref$node,_ref$edge=_ref.edge,edge=void 0===_ref$edge?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_symbols_Edge__WEBPACK_IMPORTED_MODULE_7__.a,{}):_ref$edge,_ref$dragEdge=_ref.dragEdge,dragEdge=void 0===_ref$dragEdge?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_symbols_Edge__WEBPACK_IMPORTED_MODULE_7__.a,{add:null}):_ref$dragEdge,_ref$onMouseEnter=_ref.onMouseEnter,onMouseEnter=void 0===_ref$onMouseEnter?function(){}:_ref$onMouseEnter,_ref$onMouseLeave=_ref.onMouseLeave,onMouseLeave=void 0===_ref$onMouseLeave?function(){}:_ref$onMouseLeave,_ref$onCanvasClick=_ref.onCanvasClick,onCanvasClick=void 0===_ref$onCanvasClick?function(){}:_ref$onCanvasClick,id=Object(rdk__WEBPACK_IMPORTED_MODULE_5__.useId)(),_useCanvas=Object(_utils_CanvasProvider__WEBPACK_IMPORTED_MODULE_10__.b)(),pannable=_useCanvas.pannable,dragCoords=_useCanvas.dragCoords,layout=_useCanvas.layout,containerRef=_useCanvas.containerRef,svgRef=_useCanvas.svgRef,canvasHeight=_useCanvas.canvasHeight,canvasWidth=_useCanvas.canvasWidth,xy=_useCanvas.xy,zoom=_useCanvas.zoom,setZoom=_useCanvas.setZoom,zoomIn=_useCanvas.zoomIn,zoomOut=_useCanvas.zoomOut,centerCanvas=_useCanvas.centerCanvas,fitCanvas=_useCanvas.fitCanvas,rest=_objectWithoutProperties(_useCanvas,["pannable","dragCoords","layout","containerRef","svgRef","canvasHeight","canvasWidth","xy","zoom","setZoom","zoomIn","zoomOut","centerCanvas","fitCanvas"]);Object(react__WEBPACK_IMPORTED_MODULE_4__.useImperativeHandle)(ref,(function(){return Object.assign({},rest,{zoom:zoom,xy:xy,layout:layout,canvasHeight:canvasHeight,containerRef:containerRef,canvasWidth:canvasWidth,svgRef:svgRef,centerCanvas:centerCanvas,setZoom:setZoom,zoomIn:zoomIn,zoomOut:zoomOut,fitCanvas:fitCanvas})}));var obj,key,value,renderNode=Object(react__WEBPACK_IMPORTED_MODULE_4__.useCallback)((function(_ref2){var children=_ref2.children,n=_objectWithoutProperties(_ref2,["children"]),element="function"==typeof node?node(n):node;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(rdk__WEBPACK_IMPORTED_MODULE_5__.CloneElement,Object.assign({element:element,id:"".concat(id,"-node-").concat(n.id),disabled:disabled,children:element.props.children,nodes:children,childEdge:edge,childNode:node},n),n.id)}),[node,edge,disabled,id]),renderEdge=Object(react__WEBPACK_IMPORTED_MODULE_4__.useCallback)((function(e){var element="function"==typeof edge?edge(e):edge;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(rdk__WEBPACK_IMPORTED_MODULE_5__.CloneElement,Object.assign({element:element,id:"".concat(id,"-edge-").concat(e.id),disabled:disabled},e),e.id)}),[edge,disabled,id]),mount=Object(react__WEBPACK_IMPORTED_MODULE_4__.useRef)(!1);return Object(react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)((function(){!mount.current&&null!==layout&&xy[0]>0&&xy[1]>0&&(mount.current=!0)}),[layout,xy]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{height:height,width:width},className:classnames__WEBPACK_IMPORTED_MODULE_9___default()(_Canvas_module_css__WEBPACK_IMPORTED_MODULE_12___default.a.container,className,(obj={},key=_Canvas_module_css__WEBPACK_IMPORTED_MODULE_12___default.a.pannable,value=pannable,key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj)),ref:containerRef,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",id:id,ref:svgRef,height:canvasHeight,width:canvasWidth,onClick:onCanvasClick,children:[null!==arrow&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("defs",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(rdk__WEBPACK_IMPORTED_MODULE_5__.CloneElement,Object.assign({element:arrow},arrow))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.motion.g,{initial:{opacity:0,scale:0,transition:{translateX:!1,translateY:!1}},animate:{opacity:1,translateX:xy[0],translateY:xy[1],scale:zoom,transition:{velocity:100,translateX:{duration:mount.current?.3:0},translateY:{duration:mount.current?.3:0},opacity:{duration:.8},when:"beforeChildren"}},children:[null==layout||null===(_layout$edges=layout.edges)||void 0===_layout$edges?void 0:_layout$edges.map(renderEdge),null==layout||null===(_layout$children=layout.children)||void 0===_layout$children?void 0:_layout$children.map(renderNode),null!==dragCoords&&!readonly&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(rdk__WEBPACK_IMPORTED_MODULE_5__.CloneElement,{element:dragEdge,id:"".concat(id,"-drag"),disabled:!0,sections:dragCoords})]})]})})})),Canvas=Object(react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((function(_ref3,ref){var _ref3$selections=_ref3.selections,selections=void 0===_ref3$selections?[]:_ref3$selections,_ref3$readonly=_ref3.readonly,readonly=void 0!==_ref3$readonly&&_ref3$readonly,_ref3$fit=_ref3.fit,fit=void 0!==_ref3$fit&&_ref3$fit,_ref3$nodes=_ref3.nodes,nodes=void 0===_ref3$nodes?[]:_ref3$nodes,_ref3$edges=_ref3.edges,edges=void 0===_ref3$edges?[]:_ref3$edges,_ref3$maxHeight=_ref3.maxHeight,maxHeight=void 0===_ref3$maxHeight?2e3:_ref3$maxHeight,_ref3$maxWidth=_ref3.maxWidth,maxWidth=void 0===_ref3$maxWidth?2e3:_ref3$maxWidth,_ref3$direction=_ref3.direction,direction=void 0===_ref3$direction?"DOWN":_ref3$direction,_ref3$pannable=_ref3.pannable,pannable=void 0===_ref3$pannable||_ref3$pannable,_ref3$zoom=_ref3.zoom,zoom=void 0===_ref3$zoom?1:_ref3$zoom,_ref3$center=_ref3.center,center=void 0===_ref3$center||_ref3$center,_ref3$zoomable=_ref3.zoomable,zoomable=void 0===_ref3$zoomable||_ref3$zoomable,_ref3$minZoom=_ref3.minZoom,minZoom=void 0===_ref3$minZoom?-.5:_ref3$minZoom,_ref3$maxZoom=_ref3.maxZoom,maxZoom=void 0===_ref3$maxZoom?1:_ref3$maxZoom,_ref3$onNodeLink=_ref3.onNodeLink,onNodeLink=void 0===_ref3$onNodeLink?function(){}:_ref3$onNodeLink,_ref3$onNodeLinkCheck=_ref3.onNodeLinkCheck,onNodeLinkCheck=void 0===_ref3$onNodeLinkCheck?function(){}:_ref3$onNodeLinkCheck,_ref3$onLayoutChange=_ref3.onLayoutChange,onLayoutChange=void 0===_ref3$onLayoutChange?function(){}:_ref3$onLayoutChange,_ref3$onZoomChange=_ref3.onZoomChange,onZoomChange=void 0===_ref3$onZoomChange?function(){}:_ref3$onZoomChange,layoutOptions=_ref3.layoutOptions,rest=_objectWithoutProperties(_ref3,["selections","readonly","fit","nodes","edges","maxHeight","maxWidth","direction","pannable","zoom","center","zoomable","minZoom","maxZoom","onNodeLink","onNodeLinkCheck","onLayoutChange","onZoomChange","layoutOptions"]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_utils_CanvasProvider__WEBPACK_IMPORTED_MODULE_10__.a,{layoutOptions:layoutOptions,nodes:nodes,edges:edges,zoom:zoom,center:center,minZoom:minZoom,maxZoom:maxZoom,fit:fit,maxHeight:maxHeight,maxWidth:maxWidth,direction:direction,pannable:pannable,zoomable:zoomable,readonly:readonly,onLayoutChange:onLayoutChange,selections:selections,onZoomChange:onZoomChange,onNodeLink:onNodeLink,onNodeLinkCheck:onNodeLinkCheck,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InternalCanvas,Object.assign({ref:ref},rest))})}));try{Canvas.displayName="Canvas",Canvas.__docgenInfo={description:"",displayName:"Canvas",props:{nodes:{defaultValue:{value:"[]"},description:"Nodes to render on the canvas.",name:"nodes",required:!1,type:{name:"NodeData<any>[]"}},edges:{defaultValue:{value:"[]"},description:"Edges to render on the canvas.",name:"edges",required:!1,type:{name:"EdgeData<any>[]"}},selections:{defaultValue:{value:"[]"},description:"Key of node/edge ids for selection.",name:"selections",required:!1,type:{name:"string[]"}},direction:{defaultValue:{value:"DOWN"},description:"Direction of the canvas layout.",name:"direction",required:!1,type:{name:"enum",value:[{value:'"LEFT"'},{value:'"RIGHT"'},{value:'"DOWN"'},{value:'"UP"'}]}},pannable:{defaultValue:{value:!0},description:"Whether the canvas is pannable or not.",name:"pannable",required:!1,type:{name:"boolean"}},zoomable:{defaultValue:{value:!0},description:"Whether the canvas is zoomable or not.",name:"zoomable",required:!1,type:{name:"boolean"}},center:{defaultValue:{value:!0},description:"Center the canvas on load or not.",name:"center",required:!1,type:{name:"boolean"}},fit:{defaultValue:{value:!1},description:"Fit the canvas on load.",name:"fit",required:!1,type:{name:"boolean"}},maxHeight:{defaultValue:{value:2e3},description:"Max height of the canvas scrollable area.",name:"maxHeight",required:!1,type:{name:"number"}},maxWidth:{defaultValue:{value:2e3},description:"Max width of the canvas scrollable area.",name:"maxWidth",required:!1,type:{name:"number"}},zoom:{defaultValue:{value:1},description:"Zoom factor.",name:"zoom",required:!1,type:{name:"number"}},minZoom:{defaultValue:{value:-.5},description:"Min zoom factor.",name:"minZoom",required:!1,type:{name:"number"}},maxZoom:{defaultValue:{value:1},description:"Max zoom factor.",name:"maxZoom",required:!1,type:{name:"number"}},layoutOptions:{defaultValue:null,description:"ELKJS Layout Options",name:"layoutOptions",required:!1,type:{name:"ElkCanvasLayoutOptions"}},onNodeLink:{defaultValue:{value:"() => undefined"},description:"Callback to check if a node is linkable or not.",name:"onNodeLink",required:!1,type:{name:"(fromNode: NodeData<any>, toNode: NodeData<any>, fromPort?: PortData) => void"}},onNodeLinkCheck:{defaultValue:{value:"() => undefined"},description:"Callback when a node is linked.",name:"onNodeLinkCheck",required:!1,type:{name:"(fromNode: NodeData<any>, toNode: NodeData<any>, fromPort?: PortData) => boolean"}},onZoomChange:{defaultValue:{value:"() => undefined"},description:"When the zoom changes.",name:"onZoomChange",required:!1,type:{name:"(zoom: number) => void"}},onLayoutChange:{defaultValue:{value:"() => undefined"},description:"When the layout changes.",name:"onLayoutChange",required:!1,type:{name:"(layout: ElkRoot) => void"}},className:{defaultValue:null,description:"CSS classname for the container.",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:!1},description:"Disable all events or not.",name:"disabled",required:!1,type:{name:"boolean"}},height:{defaultValue:{value:"100%"},description:"Static height of the canvas.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:{value:"100%"},description:"Static width of the canvas.",name:"width",required:!1,type:{name:"number"}},readonly:{defaultValue:{value:!1},description:"Whether you can drag connections or not.",name:"readonly",required:!1,type:{name:"boolean"}},dragEdge:{defaultValue:{value:"<Edge add={null} />"},description:"Element of the draw edge.",name:"dragEdge",required:!1,type:{name:"ReactElement<EdgeProps, FC<Partial<EdgeProps>>>"}},arrow:{defaultValue:{value:"<MarkerArrow />"},description:"Arrow shown on the edges.",name:"arrow",required:!1,type:{name:"ReactElement<MarkerArrowProps, FC<Partial<MarkerArrowProps>>>"}},node:{defaultValue:{value:"<Node />"},description:"Node or node callback to return element.",name:"node",required:!1,type:{name:"ReactElement<NodeProps, FC<Partial<NodeProps>>> | ((node: NodeProps) => ReactElement<NodeProps, FC<Partial<NodeProps>>>)"}},edge:{defaultValue:{value:"<Edge />"},description:"Edge or edge callback to return element.",name:"edge",required:!1,type:{name:"ReactElement<EdgeProps, FC<Partial<EdgeProps>>> | ((edge: EdgeProps) => ReactElement<NodeProps, FC<Partial<EdgeProps>>>)"}},onMouseEnter:{defaultValue:{value:"() => undefined"},description:"When the canvas had a mouse enter.",name:"onMouseEnter",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onMouseLeave:{defaultValue:{value:"() => undefined"},description:"When the canvas had a mouse leave.",name:"onMouseLeave",required:!1,type:{name:"(event: MouseEvent<HTMLDivElement, MouseEvent>) => void"}},onCanvasClick:{defaultValue:{value:"() => undefined"},description:"When the canvas was clicked.",name:"onCanvasClick",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>) => void"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<CanvasRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Canvas.tsx#Canvas"]={docgenInfo:Canvas.__docgenInfo,name:"Canvas",path:"src/Canvas.tsx#Canvas"})}catch(__react_docgen_typescript_loader_error){}},106:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1156);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1130:function(module,exports,__webpack_require__){"use strict";__webpack_require__(9),__webpack_require__(43),__webpack_require__(50),__webpack_require__(41),__webpack_require__(52),__webpack_require__(1131),__webpack_require__(1132),__webpack_require__(11),__webpack_require__(51);var _clientApi=__webpack_require__(70),_clientLogger=__webpack_require__(48),_configFilename=__webpack_require__(1189);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1133:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(396).configure)([__webpack_require__(1134),__webpack_require__(1172),__webpack_require__(1173)],module,!1)}).call(this,__webpack_require__(136)(module))},1134:function(module,exports,__webpack_require__){var map={"./Advanced/CustomNodes.stories.mdx":1135,"./Advanced/ExtendedUtils.stories.mdx":1136,"./Advanced/Refs.stories.mdx":1137,"./Advanced/SharedState.stories.mdx":1138,"./Advanced/Styling.stories.mdx":1139,"./Advanced/Utils.stories.mdx":1140,"./Community.stories.mdx":1141,"./Contributing.stories.mdx":1142,"./GettingStarted/Basics.stories.mdx":1143,"./GettingStarted/Components.stories.mdx":1144,"./GettingStarted/DataShapes.stories.mdx":1164,"./GettingStarted/Installing.stories.mdx":1165,"./GettingStarted/LinkingNodes.stories.mdx":1166,"./GettingStarted/SSRSupport.stories.mdx":1167,"./Helpers/Proximity.stories.mdx":1168,"./Helpers/Selection.stories.mdx":1169,"./Helpers/Undo.stories.mdx":1170,"./Introduction.stories.mdx":1171};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1134},1135:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Advanced/Custom nodes",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"custom-nodes"},"Custom nodes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Using HTML within a ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"Node")," component relies on the SVG ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject",target:"_blank",rel:"nofollow noopener noreferrer"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"a"},"foreignObject")),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},"You do not need to use ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"xmlns")," (XML NameSpace) in the first ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"div")," within ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject"),", it's only required when the SVG is a whole document.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"rendering-different-kindstypes-of-nodes"},"Rendering different kinds/types of nodes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,'Most apps will need to render different kinds of nodes. The way to go is to use a Node "',Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow/blob/734018e8135523fccc2c01077294bca0a32ddfbe/src/components/nodes/NodeRouter.tsx#L43",target:"_blank",rel:"nofollow noopener noreferrer"}),"Router"),"\" component, which checks what the node's type is, and renders the related React component."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"how-does-foreignobject-render-in-html"},"How does ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"foreignObject")," render in HTML?"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"While using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject")," allows building components using usual HTML/CSS, there are a few quirks to consider."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-html"}),"\x3c!-- \"g\" is a graph representing a Node \"container\" --\x3e\n<g cursor='initial' opacity='1' style='transform: translateX(1702px) translateY(495.333px) translateZ(0px); transform-origin: 100px 50px;'>\n  \x3c!-- \"rect\" is a rectangle representing the reaflow \"Node\" component, it's what events are bound to --\x3e\n  <rect tabindex='-1' class='Node-module_rect__1Eal3 node-svg-rect node-information-svg-rect' height='100' width='200' rx='2' ry='2' opacity='1' style='stroke-width: 0; fill: white; color: black; cursor: auto;'></rect>\n\n  \x3c!-- \"foreignObject\" is the root containing your custom HTML for the node --\x3e\n  <foreignObject id='node-foreignObject-2ca8efe0-75ed-11eb-8896-7bd259f8797e' class='information-node-container node-container css-1ncbppe-BaseNode' width='200' height='100'>\n    \x3c!-- The first div, should use \"position: fixed\" for children to display properly --\x3e\n    <div class='node'>\n      Node content\n    </div>\n  </foreignObject>\n\n  \x3c!-- Ports --\x3e\n  <g>\n    <rect height='29' width='29' x='-14.5' y='35.5' class='Port-module_clicker__ZivO1'></rect>\n    <rect class='Port-module_port__30o1q 2ca8a1c0-75ed-11eb-8896-7bd259f8797e port' height='15' width='15' rx='15' ry='15' opacity='1' style='fill: white; stroke: white; transform: translateX(-7.5px) translateY(42.5px) scale(1) translateZ(0px); transform-origin: 7.5px 7.5px;'></rect>\n  </g>\n  <g>\n    <rect height='29' width='29' x='185.5' y='35.5' class='Port-module_clicker__ZivO1'></rect>\n    <rect class='Port-module_port__30o1q 2ca8c8d0-75ed-11eb-8896-7bd259f8797e port' height='15' width='15' rx='15' ry='15' opacity='1' style='fill: white; stroke: white; transform: translateX(192.5px) translateY(42.5px) scale(1) translateZ(0px); transform-origin: 7.5px 7.5px;'></rect>\n  </g>\n  <g></g>\n</g>\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"known-issues-and-workarounds"},"Known issues and workarounds"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"use-position-fixed-in-the-first-div"},"Use ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h3"},"position: fixed")," in the first div"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"You must apply ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"position: fixed")," to the first ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"div")," element contained by the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject"),", otherwise any child element using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"position")," ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/reaviz/reaflow/issues/44#issuecomment-776883460",target:"_blank",rel:"nofollow noopener noreferrer"}),"will not be displayed"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"This issue was the reason why ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"react-select")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"ChakraUI Select")," components wouldn't display properly.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"z-index-doesnt-have-any-effect-on-svg-elements"},"Z-index doesn't have any effect on SVG elements"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject")," is still a SVG element, and it is displayed on top of the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"rect")," (which represents the Node component created by reaflow)."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"It is not possible to re-order SVG elements using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"z-index"),'.\nThe rule of display on the Z index being "the last element is displayed on top of the other element".'),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"the-foreignobject-will-steal-events-onclick-onenter-onleave-etc-that-are-bound-to-the-rect-node"},"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h3"},"foreignObject")," will steal events (onClick, onEnter, onLeave, etc.) that are bound to the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h3"},"rect")," (Node)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Because the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject")," displays on top of the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"rect"),' element, it will "steal" events such as onClick, onEnter/onLeave (mouse).'),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Those events are provided by default by Reaflow ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"Canvas")," to its ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"Node")," components.\nThus, by using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject"),", ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"p"},"none of the built-in Node events will work anymore"),", ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/reaviz/reaflow/discussions/34",target:"_blank",rel:"nofollow noopener noreferrer"}),"unless you set ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"a"},"pointer-events: none")," to the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"a"},"foreignObject")," element"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Although, even if you disable ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"pointer-events"),", depending on your Node component UI, it might only work for part of the component."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Many built-in behaviors will be affected because of this, such as:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Dragging an edge from a node",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Dragging won't work if the click doesn't happen on the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"rect")))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Selecting nodes",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"The click won't work it doesn't happen on the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"rect")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Using shortcuts for multiple selection ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://github.com/reaviz/reaflow/issues/50",target:"_blank",rel:"nofollow noopener noreferrer"}),"won't work because keyboard events won't be captured"))))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"That's why, in addition to disabling ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"pointer-events"),", ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"p"},"you might also want ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"strong"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow/blob/272a23604e0a11ef0726e19091be58ffd5861d62/src/components/nodes/BaseNode.tsx#L357-L360",target:"_blank",rel:"nofollow noopener noreferrer"}),"to forward the native events"))," (onClick, onEnter, onLeave, onKeyPress, etc.) to the main div (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},".node")," above)."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"By forwarding those events to the first ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"div"),", you'll work around most of the above-mentioned issues."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"enteringleaving-a-node"},"Entering/leaving a node"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Depending on how complicated your HTML is within the nodes themselves, it might be tough to detect whether you're in a node or not."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"When not using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject"),", it is really straightforward, but when the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"foreignObject")," contains complex HTML structure, the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"onEnter/onLeave")," events applied to main ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"div")," will trigger when hovering other elements within that node, leading to a tons of false-positive events."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"At this time, there was no viable solution being reported to work around this issue."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"community-examples"},"Community examples"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow",target:"_blank",rel:"nofollow noopener noreferrer"}),"Vadorequest/poc-nextjs-reaflow")," uses custom nodes UI, and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow/blob/287141b94145eec18fb02aab8f00676ae92f1310/src/components/nodes/BaseNode.tsx#L279-L418",target:"_blank",rel:"nofollow noopener noreferrer"}),"all nodes relies on ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"a"},"foreignObject")))))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Advanced/Custom nodes",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1136:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Advanced/Custom Utils",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"extended-utils"},"Extended utils"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The built-in utils will not cover all use-cases."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below are a few examples of advanced use-cases ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"p"},"with first-class support for connecting nodes through their ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"strong"},"ports")),", built on top of the default built-in utils."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("em",{parentName:"p"},"Courtesy of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"em"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow/blob/91275644e9c3d0ed8cf7c2c80d49ef526b5e5069/src/utils/nodes.ts",target:"_blank",rel:"nofollow noopener noreferrer"}),"Vadorequest/poc-nextjs-reaflow"),"."))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import BaseEdgeData from '../types/BaseEdgeData';\nimport BaseNodeData from '../types/BaseNodeData';\nimport BasePortData from '../types/BasePortData';\nimport { CanvasDataset } from '../types/CanvasDataset';\nimport { createEdge } from './edges';\nimport {\n  getDefaultFromPort,\n  getDefaultToPort,\n} from './ports';\n\n/**\n * Add a node and optional edge, and automatically link their ports.\n *\n * Automatically connects the fromNode (left node) using its EAST port (right side) to the newNode (right node) using it's WEST port (left side).\n *\n * Similar to reaflow.addNodeAndEdge utility.\n */\nexport function addNodeAndEdgeThroughPorts(\n  nodes: BaseNodeData[],\n  edges: BaseEdgeData[],\n  newNode: BaseNodeData,\n  fromNode?: BaseNodeData,\n  toNode?: BaseNodeData,\n  fromPort?: BasePortData,\n  toPort?: BasePortData,\n): CanvasDataset {\n  // The default destination node is the newly created node\n  toNode = toNode || newNode;\n\n  const newEdge: BaseEdgeData = createEdge(\n    fromNode,\n    toNode,\n    getDefaultFromPort(fromNode, fromPort),\n    getDefaultToPort(toNode, toPort),\n  );\n\n  return {\n    nodes: [...nodes, newNode],\n    edges: [\n      ...edges,\n      ...(fromNode ?\n        [\n          newEdge,\n        ]\n        : []),\n    ],\n  };\n}\n\n/**\n * Helper function for upserting a node in a edge (split the edge in 2 and put the node in between), and automatically link their ports.\n *\n * Automatically connects the left edge to the newNode using it's WEST port (left side).\n * Automatically connects the right edge to the newNode using it's EAST port (right side).\n *\n * Similar to reaflow.upsertNode utility.\n */\nexport function upsertNodeThroughPorts(\n  nodes: BaseNodeData[],\n  edges: BaseEdgeData[],\n  edge: BaseEdgeData,\n  newNode: BaseNodeData,\n): CanvasDataset {\n  const oldEdgeIndex = edges.findIndex(e => e.id === edge.id);\n  const edgeBeforeNewNode = {\n    ...edge,\n    id: `${edge.from}-${newNode.id}`,\n    to: newNode.id,\n  };\n  const edgeAfterNewNode = {\n    ...edge,\n    id: `${newNode.id}-${edge.to}`,\n    from: newNode.id,\n  };\n\n  if (edge.fromPort && edge.toPort) {\n    const fromLeftNodeToWestPort: BasePortData | undefined = newNode?.ports?.find((port: BasePortData) => port?.side === 'WEST');\n    const fromRightNodeToEastPort: BasePortData | undefined = newNode?.ports?.find((port: BasePortData) => port?.side === 'EAST');\n\n    edgeBeforeNewNode.fromPort = edge.fromPort;\n    edgeBeforeNewNode.toPort = fromLeftNodeToWestPort?.id || `${newNode.id}-to`;\n\n    edgeAfterNewNode.fromPort = fromRightNodeToEastPort?.id || `${newNode.id}-from`;\n    edgeAfterNewNode.toPort = edge.toPort;\n  }\n\n  edges.splice(oldEdgeIndex, 1, edgeBeforeNewNode, edgeAfterNewNode);\n\n  return {\n    nodes: [...nodes, newNode],\n    edges: [...edges],\n  };\n}\n\n/**\n * Removes a node between two edges and merges the two edges into one, and automatically link their ports.\n *\n * Similar to reaflow.removeAndUpsertNodes utility.\n */\nexport function removeAndUpsertNodesThroughPorts(\n  nodes: BaseNodeData[],\n  edges: BaseEdgeData[],\n  removeNodes: BaseNodeData | BaseNodeData[],\n  onNodeLinkCheck?: (\n    newNodes: BaseNodeData[],\n    newEdges: BaseEdgeData[],\n    from: BaseNodeData,\n    to: BaseNodeData,\n    port?: BasePortData,\n  ) => undefined | boolean,\n): CanvasDataset {\n  if (!Array.isArray(removeNodes)) {\n    removeNodes = [removeNodes];\n  }\n\n  const nodeIds = removeNodes.map((n) => n.id);\n  const newNodes = nodes.filter((n) => !nodeIds.includes(n.id));\n  const newEdges = edges.filter(\n    (e: BaseEdgeData) => !nodeIds.includes(e?.from as string) && !nodeIds.includes(e?.to as string),\n  );\n\n  for (const nodeId of nodeIds) {\n    const sourceEdges = edges.filter((e) => e.to === nodeId);\n    const targetEdges = edges.filter((e) => e.from === nodeId);\n\n    for (const sourceEdge of sourceEdges) {\n      for (const targetEdge of targetEdges) {\n        const sourceNode = nodes.find((n) => n.id === sourceEdge.from);\n        const targetNode = nodes.find((n) => n.id === targetEdge.to);\n\n        if (sourceNode && targetNode) {\n          const canLink = onNodeLinkCheck?.(\n            newNodes,\n            newEdges,\n            sourceNode,\n            targetNode,\n          );\n\n          if (canLink === undefined || canLink) {\n            const fromPort: BasePortData | undefined = sourceNode?.ports?.find((port: BasePortData) => port?.side === 'EAST');\n            const toPort: BasePortData | undefined = targetNode?.ports?.find((port: BasePortData) => port?.side === 'WEST');\n\n            newEdges.push({\n              id: `${sourceNode.id}-${targetNode.id}`,\n              from: sourceNode.id,\n              to: targetNode.id,\n              parent: sourceNode?.parent,\n              fromPort: fromPort?.id,\n              toPort: toPort?.id,\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return {\n    edges: newEdges,\n    nodes: newNodes,\n  };\n}\n\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Advanced/Custom Utils",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1137:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Advanced/Refs",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"refs"},"Refs"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"You can get a reference to the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"Canvas")," instance to perform various\nfunctions externally."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"export const MyCanvas: FC = () => {\n  const ref = useRef<CanvasRef | null>(null);\n\n  useEffect(() => {\n    // Refs give you ability to do things like:\n    // ref.current?.centerCanvas()\n  }, [ref]);\n\n  return <Canvas ref={ref} />;\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"ref")," will expose the following interface:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface CanvasRef {\n  /**\n   * Canvas SVG ref.\n   */\n  svgRef: RefObject<SVGSVGElement>;\n\n  /**\n   * X/Y offset.\n   */\n  xy: [number, number];\n\n  /**\n   * Scroll offset.\n   */\n  scrollXY: [number, number];\n\n  /**\n   * ELK Layout object.\n   */\n  layout: ElkRoot;\n\n  /**\n   * Ref to container div.\n   */\n  containerRef: RefObject<HTMLDivElement | null>;\n\n  /**\n   * Height of the svg.\n   */\n  canvasHeight?: number;\n\n  /**\n   * Width of the svg.\n   */\n  canvasWidth?: number;\n\n  /**\n   * Width of the container div.\n   */\n  containerWidth?: number;\n\n  /**\n   * Height of the container div.\n   */\n  containerHeight?: number;\n\n  /**\n   * Center the canvas to the viewport.\n   */\n  centerCanvas?: () => void;\n\n  /**\n   * Fit the canvas to the viewport.\n   */\n  fitCanvas?: () => void;\n\n  /**\n   * Set a zoom factor of the canvas.\n   */\n  setZoom?: (factor: number) => void;\n\n  /**\n   * Zoom in on the canvas.\n   */\n  zoomIn?: () => void;\n\n  /**\n   * Zoom out on the canvas.\n   */\n  zoomOut?: () => void;\n}\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Advanced/Refs",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1138:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Advanced/Shared state",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"shared-state"},"Shared state"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"This Storybook demo showcases ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"React.useState")," as state manager, because it's very simple to comprehend and simple apps could actually use it for real."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Although, as your app growths, you might need to have some ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"p"},"shared state")," and use a shared State manager (Redux, Recoil, xState, MobX, etc.)."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"what-state-manager-should-be-used-with-reaflow"},"What state manager should be used with reaflow?"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Reaflow is store-agnostic and doesn't recommend any store manager in particular. The choice is yours."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"If you're unfamiliar with React State managers, we recommend watching ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://www.youtube.com/watch?v=u_o09PD_qAs&feature=emb_logo&ab_channel=LeeRobinson",target:"_blank",rel:"nofollow noopener noreferrer"}),"What State Management Library Should I Use with React?"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"immutability-when-using-reactusestate"},"Immutability when using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"React.useState")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},"If you're using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"React.useState"),", be careful about immutability.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"While React ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useState")," will not throw when mutate the state directly, it won't actually work."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import React, { useState } from 'react';\nimport { NodeData } from 'reaflow';\n\nconst [nodes, setNodes] = useState<NodeData[]>([]);\n\n...\n\nconst newNodes = nodes; // DO NOT DO THAT\nnewNodes[0] = { id: '1' };\nconsole.log('updateCurrentNode new nodes', newNodes); // Will print the expected object\n\nsetNodes(newNodes); // Will not crash, but won't actually mutate the state for real\n\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"You must not mutate the state directly ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"nodes"),", but clone it first."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import cloneDeep from 'lodash.clonedeep';\n\nconst newNodes = nodes; // DO NOT DO THAT\nconst newNodes = cloneDeep(nodes); // Do that instead\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"You can use the library of your choice to clone the state, ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"lodash.clonedeep")," is a good choice."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/reaviz/reaflow/issues/43#issuecomment-774012401",target:"_blank",rel:"nofollow noopener noreferrer"}),"This is not a bug, it's expected"),". Although, it is very confusing because ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"newNodes")," shows the expected value in the console.\nIt would be a better developer experience for React to throw an exception when mutating the state directly. ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("em",{parentName:"p"},"(it's what ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"em"},"recoil")," does)"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"community-examples"},"Community examples"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow",target:"_blank",rel:"nofollow noopener noreferrer"}),"Vadorequest/poc-nextjs-reaflow")," uses ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"strong"},{href:"https://recoiljs.org/",target:"_blank",rel:"nofollow noopener noreferrer"}),"Recoil"))," as shared State Manager.")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Advanced/Shared state",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1139:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Advanced/Styling",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"custom-styling"},"Custom Styling"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The Nodes, Edges, Arrows and Ports can all be overriden to pass custom attributes\nto them to allow for custom styling. Below is an example of some of the possibilities\nyou can achieve."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{style:{height:500,width:700,position:"relative",margin:"0 auto",background:"white"}},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Story,{id:"demos-basic--styling",mdxType:"Story"})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"In the above example, we override the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"node"),", ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"edge")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"arrow")," properties\nin the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"Canvas")," component as shown below (abbreviated for demonstration purposes):"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import { Canvas, Node, Edge, Port, MarkerArrow } from 'reaflow';\n\nexport const CustomCanvas: FC = () => (\n  <Canvas\n    nodes={[]}\n    edges={[]}\n    node={\n      <Node\n        style={{ stroke: '#1a192b', fill: 'white', strokeWidth: 1 }}\n        label={<Label style={{ fill: 'black' }} />}\n        port={<Port style={{ fill: 'blue', stroke: 'white' }} rx={10} ry={10} />}\n      />\n    }\n    arrow={<MarkerArrow style={{ fill: '#b1b1b7' }} />}\n    edge={<Edge className=\"edge\" />}\n  />\n);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,'This allows us to set custom properties on these components or even\noverride them all together with our own component. This allows for\ntotal control over the child components without loosing all the "magic"\nunder the hood that controls them.'))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Advanced/Styling",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1140:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Advanced/Utils",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"utils"},"Utils"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"There a variety of common interactions you want to make\nwith the canvas and graph. reaflow has some helpers out of\nthe box to help manage those typical operations. Those\nhelpers are broken up into two categories:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"CRUD - Dealing with manipulating nodes/edges"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Graph Dealing with traversing the graph")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},"Those helpers are very generic and meant to help people getting started, but they're not meant to cover specific use-cases."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},"You should copy them and adapt them to your own needs if they don't cover your needs. ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/reaviz/reaflow/issues/47#issuecomment-775919579",target:"_blank",rel:"nofollow noopener noreferrer"}),"See discussion"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},"There are advanced examples in ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"/?path=/story/docs-advanced-custom-utils--page"}),"Custom Utils")," page.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"crud"},"CRUD"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"upsert-node"},"Upsert Node"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"upsertNode")," function helps you insert a new\nnode between two other nodes."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"upsertNode(\n  nodes: NodeData[],\n  edges: EdgeData[],\n  edge: EdgeData,\n  newNode: NodeData\n) => { nodes: NodeData[]; edges: EdgeData[]; }\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { upsertNode} from 'reaflow';\n\nconst id = `node-${Math.random()}`;\nconst newNode = {\n  id,\n  text: id\n};\n\nconst results = upsertNode(nodes, edges, edge, newNode);\nsetNodes(results.nodes);\nsetEdges(results.edges);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"remove-node"},"Remove Node"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"removeNode")," function helps you remove a node\nand all related edges."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"removeNode(\n  nodes: NodeData[],\n  edges: EdgeData[],\n  removeNodes: string | string[]\n) => { nodes: NodeData[]; edges: EdgeData[]; }\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { removeNode } from 'reaflow';\n\nconst results = removeNode(nodes, edges, nodeIds);\nsetNodes(results.nodes);\nsetEdges(results.edges);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"node-removal-and-upsert"},"Node Removal and Upsert"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"removeAndUpsertNodes")," helper allows you to remove a node\nthat has existing ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"to")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"from")," edges and link the child\nedges from the node remove to the parent of the node removed."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"removeAndUpsertNodes(\n  nodes: NodeData[],\n  edges: EdgeData[],\n  removeNodes: NodeData | NodeData[],\n  onNodeLinkCheck?: (\n    newNodes: NodeData[],\n    newEdges: EdgeData[],\n    from: NodeData,\n    to: NodeData,\n    port?: PortData\n  ) => undefined | boolean\n) => { nodes: NodeData[]; edges: EdgeData[]; }\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { removeAndUpsertNodes } from 'reaflow';\n\nconst result = removeAndUpsertNodes(nodes, edges, node);\nsetNodes(results.nodes);\nsetEdges(results.edges);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"add-node-and-optional-edge"},"Add Node and Optional Edge"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"addNodeAndEdge")," helper is a shortcut function to add a\nnode to a nodes array and a optional edge."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"addNodeAndEdge(\n  nodes: NodeData[],\n  edges: EdgeData[],\n  node: NodeData,\n  toNode?: NodeData\n) => { nodes: NodeData[]; edges: EdgeData[]; }\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { addNodeAndEdge } from 'reaflow';\n\nconst result = addNodeAndEdge(\n  nodes,\n  edges,\n  {\n    id,\n    text: id\n  },\n  enteredNode\n);\n\nsetNodes(results.nodes);\nsetEdges(results.edges);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"remove-edge"},"Remove Edge"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"removeEdge")," function simplifies removing a single\nor array of edges."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"removeEdge(\n  edges: EdgeData[],\n  edge: EdgeData | EdgeData[]\n) => EdgeData[]\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { removeEdge } from 'reaflow';\n\nconst newEdges = removeEdge(\n  edges,\n  edgesToRemove\n);\n\nsetEdges(newEdges);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"graph"},"Graph"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"detecting-circulars"},"Detecting Circulars"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"detectCircular")," function helps you determine if\nthe source node will create a circular link if connected\nto the target node."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"detectCircular(\n  nodes: NodeData[],\n  edges: EdgeData[],\n  fromNode: NodeData,\n  toNode: NodeData\n) => boolean;\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { detectCircular } from 'reaflow';\n\nconst has = detectCircular(nodes, edges, fromNode, toNode);\nif (!has) {\n  // Do something\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"parent-node-traversal"},"Parent Node Traversal"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"getParentsForNodeId")," function helps you find all the\nparent nodes for a given node id."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"getParentsForNodeId(\n  nodes: NodeData[],\n  edges: EdgeData[],\n  nodeId: string\n) => NodeData[];\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { getParentsForNodeId } from 'reaflow';\n\nconst nodes = getParentsForNodeId(nodes, edges, node.id);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h5",{id:"has-link"},"Has Link"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"hasLink")," function helps you determine if\nthe source node already has a link to the target node."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The signature for this looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"hasLink(\n  edges: EdgeData[],\n  fromNode: NodeData,\n  toNode: NodeData\n) => boolean;\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is an example usage:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { hasLink } from 'reaflow';\n\nconst has = hasLink(edges, fromNode, toNode);\nif (!has) {\n  // Do something\n}\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Advanced/Utils",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1141:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Community",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"community"},"Community"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"community-showcases"},"Community showcases"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},"Examples of apps made with Reaflow by the community")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow",target:"_blank",rel:"nofollow noopener noreferrer"}),"POC Next.js + Reaflow"),': Uses Reaflow to build a "',Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"li"},"decision tree"),'".\nAdvanced use-case with different kinds of nodes with heavy usage of ',Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"foreignObject")," to display actual HTML within the nodes themselves.\nHosted on Vercel and built with Next.js 10.")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Community",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1142:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Contributing",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"contributing"},"Contributing"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"getting-started"},"Getting started"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn install")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn start")," opens Storybook documentation on ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"http://localhost:9009",target:"_blank",rel:"nofollow noopener noreferrer"}),"localhost:9009"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"using-the-reaflow-package-locally-as-a-dependency"},"Using the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"reaflow")," package locally as a dependency"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"If you're working on some app ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"p"},"that uses ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"strong"},"reaflow")," as a dependency"),", and if you want to quickly update the code of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow")," locally (without publishing changes to NPM), you basically have two choices:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://git-scm.com/book/en/v2/Git-Tools-Submodules",target:"_blank",rel:"nofollow noopener noreferrer"}),"Use Git submodules")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Use ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://docs.npmjs.com/cli/v6/commands/npm-link",target:"_blank",rel:"nofollow noopener noreferrer"}),"NPM"),"/",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://classic.yarnpkg.com/en/docs/cli/link/",target:"_blank",rel:"nofollow noopener noreferrer"}),"Yarn")," ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"link")," feature")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"At this time, we don't have an official recommandation about which one to use, it's up to you."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h3",{id:"using-link"},"Using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h3"},"link")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Using NPM/Yarn link will link your dependencies on your main project to your local ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow")," folder."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",{parentName:"blockquote"},':warning: Beware: The "link" might break quite often when installing new dependencies on your main project, and you\'ll need to unlink and link back again to fix it.')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h4",{id:"configuration-example-with-yarn"},"Configuration example (with Yarn):"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ol",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ol"},"From your local ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"reaflow")," folder, run ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn install")," and then ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn link:reaflow"),", which will create the links in yarn"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ol"},"From your main project folder, run ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn link reaflow && yarn link react && yarn link react-dom"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("em",{parentName:"li"},"We suggest adding it as a command in your package.json: ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"em"},'"link:reaflow": "yarn link reaflow && yarn link react && yarn link react-dom"'))," - ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"li"},{href:"https://github.com/Vadorequest/poc-nextjs-reaflow/blob/cf8499008c4b70946d82803741401fac48264a5b/package.json#L8",target:"_blank",rel:"nofollow noopener noreferrer"}),"See example"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ol",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"li"},"If you edit the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"strong"},"reaflow")," files")," and need to recompile the project then run ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn build:watch")," from your local ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"reaflow")," folder (changes will be applied immediately, you'll benefit from hot-reloading, etc.)")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Once everything is linked, your main project will use the files in your local ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow")," folder.\nWhile ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"yarn build:watch")," is running, your changes from ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow")," will automatically apply to your main project."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h4",{id:"warning-when-the-link-breaks"},":warning When the link breaks"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"When you install new dependencies in your main project, it might break the links with ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"To fix it, you'll need to remove your ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"node_modules")," folder and reinstall all packages ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",{parentName:"p"},"on both")," your main project and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow"),", starting with ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ol",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ol"},"From ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"reaflow")," folder: ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"rm -rf node_modules && yarn && yarn link:reaflow")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ol"},"From your main project folder: ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"rm -rf node_modules && yarn && yarn link:reaflow"))))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Contributing",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1143:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Getting Started/Basics",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"basics"},"Basics"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"your-first-diagram"},"Your First Diagram"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Let's build our first diagram by defining some ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"nodes")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"edges"),".\nNodes are the blocks and edges are the relationships between the blocks."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The data shapes require one property of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"id")," but you can pass ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"text"),"\nor ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"icon")," to them to show some sort of indication what it represents.\nThe ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"id")," property can be any ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"string")," but for demonstration purposes\nwe are going to use some basic strings."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const nodes = [\n  {\n    id: '1',\n    text: '1'\n  },\n  {\n    id: '2',\n    text: '2'\n  }\n];\n\nconst edges = [\n  {\n    id: '1-2',\n    from: '1',\n    to: '2'\n  }\n];\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"These shapes above will create two elements ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"1")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"2")," and create\na relationship between them. Once we have this defined, we can simply\npass these properties to the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"Canvas")," and it will do the rest!"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import React from 'react';\nimport { Canvas } from 'reaflow';\n\nexport const MyDiagram = () => (\n  <Canvas\n    nodes={nodes}\n    edges={edges}\n  />\n);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"This will render a graph like this:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{style:{height:500,width:700,position:"relative",margin:"0 auto",background:"white"}},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Story,{id:"demos-basic--simple",mdxType:"Story"})))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Getting Started/Basics",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(95);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Getting Started/Components",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"components"},"Components"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The library uses a variety of components internally that you can\ncustomize."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Canvas - The root component"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Node - The node element component"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Edge - The connector between nodes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Port - The exit points of a node"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Marker Arrow - The shape used to connect show direction on the edges"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Add - The shape used on edges to show dropping between edges"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Remove - The shape used on nodes and edges to remove each"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Label - The component used by nodes and edges to show text"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Icon - The component used by nodes to show an icon")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below are the props from each component."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"canvas"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Canvas")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Canvas,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"node"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Node")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Node,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"edge"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Edge")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Edge,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"port"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Port")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Port,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"markerarrow"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"MarkerArrow")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.MarkerArrow,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"add"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Add")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Add,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"remove"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Remove")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Remove,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"label"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Label")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Label,mdxType:"ArgsTable"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"icon"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"h2"},"Icon")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.ArgsTable,{of:_src__WEBPACK_IMPORTED_MODULE_6__.Icon,mdxType:"ArgsTable"}))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Getting Started/Components",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1151:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,"._30o1qkk0B-sSW6gEiQr6H- {\n  stroke: #0d0e17;\n  fill: #3e405a;\n  stroke-width: 2px;\n  shape-rendering: geometricPrecision;\n  pointer-events: none;\n}\n\n.ZivO1tMZRGf1LfkHNxqgg {\n  opacity: 0;\n}\n\n.ZivO1tMZRGf1LfkHNxqgg:not(._1SC1tJgOCQqSFBEBIScqeS) {\n    cursor: crosshair;\n  }\n",""]),exports.locals={port:"_30o1qkk0B-sSW6gEiQr6H-",clicker:"ZivO1tMZRGf1LfkHNxqgg",disabled:"_1SC1tJgOCQqSFBEBIScqeS"},module.exports=exports},1152:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,"._126dDI2dokua60dzvLL2Ih {\n  fill: #d6e7ff;\n  pointer-events: none;\n  font-size: 14px;\n  text-rendering: geometricPrecision;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n",""]),exports.locals={text:"_126dDI2dokua60dzvLL2Ih"},module.exports=exports},1153:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,"._2x11N7F6mJFXs00znp8VzE {\n  stroke: black;\n  pointer-events: none;\n}\n\n._19JsknJXP36-UMyk5N7ZPP {\n  will-change: transform, opacity;\n}\n\n._2AwP8KjVNLImIVAWF67umJ {\n  cursor: pointer;\n  opacity: 0;\n}\n\n._3vmn2mGALYjA2UcpLJvWS4 {\n  shape-rendering: geometricPrecision;\n  fill: #ff005d;\n  border-radius: 2px;\n  pointer-events: none;\n}\n",""]),exports.locals={deleteX:"_2x11N7F6mJFXs00znp8VzE",container:"_19JsknJXP36-UMyk5N7ZPP",drop:"_2AwP8KjVNLImIVAWF67umJ",rect:"_3vmn2mGALYjA2UcpLJvWS4"},module.exports=exports},1154:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,"._30sKViHqDNqAlKclB8aaEO {\n  stroke: black;\n  pointer-events: none;\n}\n\n._1RcJge4eX-Wi_VQ85yDEjP {\n  will-change: transform, opacity;\n}\n\n.W1fxuCPHh2rNEP3ryk154 {\n  cursor: pointer;\n  opacity: 0;\n}\n\n._3JiVn-c7Fu6_onC_n5_ndk {\n  shape-rendering: geometricPrecision;\n  fill: #46FECB;\n  border-radius: 2px;\n  pointer-events: none;\n}\n",""]),exports.locals={plus:"_30sKViHqDNqAlKclB8aaEO",container:"_1RcJge4eX-Wi_VQ85yDEjP",drop:"W1fxuCPHh2rNEP3ryk154",rect:"_3JiVn-c7Fu6_onC_n5_ndk"},module.exports=exports},1155:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,".RbmGhjeKViH1fTdbDmXq3._20ZofhejlNjUVNF4_O9jHc {\n    pointer-events: none;\n  }\n  .RbmGhjeKViH1fTdbDmXq3:not(.MVwASvrsssTBh-IIdDYbz):hover .u3LT22Z1a-qEpnoD0pC1d, .RbmGhjeKViH1fTdbDmXq3:not(._20ZofhejlNjUVNF4_O9jHc):hover .u3LT22Z1a-qEpnoD0pC1d {\n        stroke: #a5a9e2;\n      }\n  .RbmGhjeKViH1fTdbDmXq3:not(.MVwASvrsssTBh-IIdDYbz):hover .u3LT22Z1a-qEpnoD0pC1d._2dt5EhcyzaGUt9onE9_KJ-, .RbmGhjeKViH1fTdbDmXq3:not(._20ZofhejlNjUVNF4_O9jHc):hover .u3LT22Z1a-qEpnoD0pC1d._2dt5EhcyzaGUt9onE9_KJ- {\n          stroke: #46fecb;\n        }\n  .RbmGhjeKViH1fTdbDmXq3:not(.MVwASvrsssTBh-IIdDYbz):hover .u3LT22Z1a-qEpnoD0pC1d.ZG2og3KhWYaChGCqtC1L6, .RbmGhjeKViH1fTdbDmXq3:not(._20ZofhejlNjUVNF4_O9jHc):hover .u3LT22Z1a-qEpnoD0pC1d.ZG2og3KhWYaChGCqtC1L6 {\n          stroke: #ff005d;\n          stroke-dasharray: 4 2;\n        }\n  .RbmGhjeKViH1fTdbDmXq3:not(.MVwASvrsssTBh-IIdDYbz) ._3cdd0ALDJZQpfsnrnQdXvp, .RbmGhjeKViH1fTdbDmXq3:not(._20ZofhejlNjUVNF4_O9jHc) ._3cdd0ALDJZQpfsnrnQdXvp {\n      cursor: pointer;\n    }\n  .RbmGhjeKViH1fTdbDmXq3 .u3LT22Z1a-qEpnoD0pC1d {\n    fill: transparent;\n    stroke: #485a74;\n    pointer-events: none;\n    shape-rendering: geometricPrecision;\n    stroke-width: 1pt;\n  }\n  .RbmGhjeKViH1fTdbDmXq3 ._3cdd0ALDJZQpfsnrnQdXvp {\n    fill: none;\n    stroke: transparent;\n    stroke-width: 15px;\n  }\n  .RbmGhjeKViH1fTdbDmXq3 ._3cdd0ALDJZQpfsnrnQdXvp:focus {\n      outline: none;\n    }\n",""]),exports.locals={edge:"RbmGhjeKViH1fTdbDmXq3",disabled:"_20ZofhejlNjUVNF4_O9jHc",selectionDisabled:"MVwASvrsssTBh-IIdDYbz",path:"u3LT22Z1a-qEpnoD0pC1d",active:"_2dt5EhcyzaGUt9onE9_KJ-",deleteHovered:"ZG2og3KhWYaChGCqtC1L6",clicker:"_3cdd0ALDJZQpfsnrnQdXvp"},module.exports=exports},1156:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,"._1Eal34jxPMO8rLhSeu8f85 {\n  fill: #2b2c3e;\n  transition: stroke 100ms ease-in-out;\n  stroke: #475872;\n  shape-rendering: geometricPrecision;\n  stroke-width: 1pt;\n}\n\n  ._1Eal34jxPMO8rLhSeu8f85:not(._2zufGUs1-bkvHke_ZiUlNB),\n  ._1Eal34jxPMO8rLhSeu8f85:not(.bZzf8WiaECTiHQ6PUA4JA) {\n    cursor: pointer;\n  }\n\n  ._1Eal34jxPMO8rLhSeu8f85:not(._2zufGUs1-bkvHke_ZiUlNB):hover, ._1Eal34jxPMO8rLhSeu8f85:not(.bZzf8WiaECTiHQ6PUA4JA):hover {\n      stroke: #a5a9e2;\n    }\n\n  ._1Eal34jxPMO8rLhSeu8f85:not(._2zufGUs1-bkvHke_ZiUlNB)._24AvgFeXXziRO6-2N6LxQT, ._1Eal34jxPMO8rLhSeu8f85:not(.bZzf8WiaECTiHQ6PUA4JA)._24AvgFeXXziRO6-2N6LxQT {\n      stroke: #a5a9e2;\n    }\n\n  ._1Eal34jxPMO8rLhSeu8f85:not(._2zufGUs1-bkvHke_ZiUlNB)._1b2HCBwO0S6fX2ugz4JMSS, ._1Eal34jxPMO8rLhSeu8f85:not(.bZzf8WiaECTiHQ6PUA4JA)._1b2HCBwO0S6fX2ugz4JMSS {\n      stroke: #46fecb;\n    }\n\n  ._1Eal34jxPMO8rLhSeu8f85:not(._2zufGUs1-bkvHke_ZiUlNB).p6w5xB60RrzyIYAnNHYrk, ._1Eal34jxPMO8rLhSeu8f85:not(.bZzf8WiaECTiHQ6PUA4JA).p6w5xB60RrzyIYAnNHYrk {\n      stroke: #ff005d;\n    }\n\n  ._1Eal34jxPMO8rLhSeu8f85:not(._2zufGUs1-bkvHke_ZiUlNB)._36-dVV7BBoDKJMhZRV1f2y, ._1Eal34jxPMO8rLhSeu8f85:not(.bZzf8WiaECTiHQ6PUA4JA)._36-dVV7BBoDKJMhZRV1f2y {\n      stroke: #ff005d !important;\n      stroke-dasharray: 4 2;\n    }\n\n  ._1Eal34jxPMO8rLhSeu8f85:focus {\n    outline: none;\n  }\n\n  ._1Eal34jxPMO8rLhSeu8f85._1kq65i9rHOogEIM3qapjej {\n    fill: transparent;\n    stroke: #475872;\n  }\n",""]),exports.locals={rect:"_1Eal34jxPMO8rLhSeu8f85",selectionDisabled:"_2zufGUs1-bkvHke_ZiUlNB",disabled:"bZzf8WiaECTiHQ6PUA4JA",dragging:"_24AvgFeXXziRO6-2N6LxQT",active:"_1b2HCBwO0S6fX2ugz4JMSS",unlinkable:"p6w5xB60RrzyIYAnNHYrk",deleteHovered:"_36-dVV7BBoDKJMhZRV1f2y",children:"_1kq65i9rHOogEIM3qapjej"},module.exports=exports},1157:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,".aEgOTSNHBNm4ENOoIr4tY {\n  pointer-events: none;\n  shape-rendering: geometricPrecision;\n  fill: #485a74;\n}\n",""]),exports.locals={arrow:"aEgOTSNHBNm4ENOoIr4tY"},module.exports=exports},1158:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,"._22cN4iabHDHl7gGaeBq5N6._1d7xdpY-wTL0h2d1B9MYCJ {\n    overflow: auto;\n  }\n  ._22cN4iabHDHl7gGaeBq5N6:focus {\n    outline: none;\n  }\n\n.dragging {\n  cursor: crosshair;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",""]),exports.locals={container:"_22cN4iabHDHl7gGaeBq5N6",pannable:"_1d7xdpY-wTL0h2d1B9MYCJ"},module.exports=exports},1159:function(module,exports,__webpack_require__){(exports=__webpack_require__(105)(!1)).push([module.i,"._36fxLZDjescMBDWZBInKJq {\n  pointer-events: none;\n}\n",""]),exports.locals={icon:"_36fxLZDjescMBDWZBInKJq"},module.exports=exports},1164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Getting Started/Data Shapes",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"data-shapes"},"Data Shapes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The graph is made up of 3 basic data shape objects you\ncan pass to the graph."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"NodeData")," - The element block which renders"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"EdgeData")," - The link between Nodes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"PortData")," - A specific enter/exit block to link between Nodes")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"node"},"Node"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface NodeData<T = any> {\n  /**\n   * Unique ID for the node.\n   */\n  id: string;\n\n  /**\n   * Whether the node is disabled or not.\n   */\n  disabled?: boolean;\n\n  /**\n   * Text label for the node.\n   */\n  text?: any;\n\n  /**\n   * Optional height attribute. If not passed with calculate\n   * default sizes using text.\n   */\n  height?: number;\n\n  /**\n   * Optional width attribute. If not passed with calculate\n   * default sizes using text.\n   */\n  width?: number;\n\n  /**\n   * Parent node id for nesting.\n   */\n  parent?: string;\n\n  /**\n   * List of ports.\n   */\n  ports?: PortData[];\n\n  /**\n   * Icon for the node.\n   */\n  icon?: IconData;\n\n  /**\n   * Padding for the node.\n   */\n  nodePadding?: number | [number, number] | [number, number, number, number];\n\n  /**\n   * Data for the node.\n   */\n  data?: T;\n\n  /**\n   * CSS classname for the node.\n   */\n  className?: string;\n\n  /**\n   * ELK layout options.\n   */\n  layoutOptions?: ElkNodeLayoutOptions;\n\n  /**\n   * Whether the node can be clicked.\n   */\n  selectionDisabled?: boolean;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The node also has a ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"IconData")," shape:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface IconData {\n  /**\n   * URL for the icon.\n   */\n  url: string;\n\n  /**\n   * Height of the icon.\n   */\n  height: number;\n\n  /**\n   * Width of the icon.\n   */\n  width: number;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"edge"},"Edge"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface EdgeData<T = any> {\n  /**\n   * Unique ID of the edge.\n   */\n  id: string;\n\n  /**\n   * Whether the edge is disabled or not.\n   */\n  disabled?: boolean;\n\n  /**\n   * Text label for the edge.\n   */\n  text?: any;\n\n  /**\n   * ID of the from node.\n   */\n  from?: string;\n\n  /**\n   * ID of the to node.\n   */\n  to?: string;\n\n  /**\n   * Optional ID of the from port.\n   */\n  fromPort?: string;\n\n  /**\n   * Optional ID of the to port.\n   */\n  toPort?: string;\n\n  /**\n   * Data about the edge.\n   */\n  data?: T;\n\n  /**\n   * CSS Classname for the edge.\n   */\n  className?: string;\n\n  /**\n   * Optional arrow head type.\n   */\n  arrowHeadType?: any;\n\n  /**\n   * Parent of the edge for nesting.\n   */\n  parent?: string;\n\n  /**\n   * Whether the edge can be clicked.\n   */\n  selectionDisabled?: boolean;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"port"},"Port"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface PortData {\n  /**\n   * Unique ID of the port.\n   */\n  id: string;\n\n  /**\n   * Height of the port.\n   */\n  height: number;\n\n  /**\n   * Width of the port.\n   */\n  width: number;\n\n  /**\n   * Whether the port is visually hidden or not.\n   */\n  hidden?: boolean;\n\n  /**\n   * Classname for the port.\n   */\n  className?: string;\n\n  /**\n   * Alignment of the port.\n   */\n  alignment?: 'CENTER';\n\n  /**\n   * Side the port is located.\n   */\n  side: 'NORTH' | 'SOUTH' | 'EAST' | 'WEST';\n\n  /**\n   * Port is disabled.\n   */\n  disabled?: boolean;\n}\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Getting Started/Data Shapes",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1165:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Getting Started/Installing",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"getting-started"},"Getting Started"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"installing"},"Installing"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"You can install REAFLOW with ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://www.npmjs.com/package/reaflow",target:"_blank",rel:"nofollow noopener noreferrer"}),"NPM")," or Yarn."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"NPM: ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"npm install reaflow --save")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"YARN: ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn add reaflow"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"compatibility"},"Compatibility"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"REAFLOW is compatible with React v16+ and works with ReactDOM. React Native is not supported at this time."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"developing"},"Developing"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"If you want to run the project locally, its really easy!"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The project uses Storybook for its demos and development\nenvironment. To run it locally:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},"Clone repo"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn install")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"yarn start"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Once started the browser will open to the storybook url.\nFrom here you can tweak the charts and see them build\nand reload in real time."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"We use Rollup to build and package for distribution.\nYou can run this by doing ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"yarn build")," and it will\ncreate a ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"dist")," folder with the type definitions, bundled\njavascript and css files."))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Getting Started/Installing",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1166:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Getting Started/Linking Nodes",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"linking-nodes"},"Linking Nodes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"reaflow allows users to edit graphs by adding/removing and\nlinking nodes together dynamically. There are 2 event handlers\nyou can subscribe to for checking if a node can be linked\nand performing the actual link."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"onNodeLinkCheck")," - Function you can implement to return true/false if node can link"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"onNodeLink")," - Function you implement to perform the actual link")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is a example showing how one might use these two functions together:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import React, { useState } from 'react';\nimport { Canvas, hasLink, NodeData, EdgeData } from 'reaflow';\n\nexport default () => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n      text: '2'\n    }\n  ]);\n  const [edges, setEdges] = useState<EdgeData[]>([]);\n\n  return (\n    <Canvas\n      nodes={nodes}\n      edges={edges}\n      onNodeLinkCheck={(from: NodeData, to: NodeData) => {\n        return !hasLink(edges, from, to);\n      }}\n      onNodeLink={(from, to) => {\n        const id = `${from.id}-${to.id}`;\n\n        setEdges([\n          ...edges,\n          {\n            id,\n            from: from.id,\n            to: to.id\n          }\n        ]);\n      }}\n    />\n  )\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"In the example, we take advantage of one of the\nhelpers in the library called ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"hasLink")," which will\nreturn if the node is already linked."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"In order to actually add the link, you can\nimplement the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"onNodeLink")," which is a function\nthat should set a new edge with pointers to the\nsource and target node."))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Getting Started/Linking Nodes",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1167:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Getting Started/SSR Support",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"ssr-support"},"SSR Support"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The Next.js framework supports SSR, but the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"Canvas")," component shouldn't be rendered on the server.\n",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("em",{parentName:"p"},"It won't crash the app, but it'd print a lot of noisy warnings (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"em"},"useEffect"),", etc.) on the server, though.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"pages/index.tsx"),":"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport { Canvas } from 'reaflow';\n\nconst Page = () => (\n  <div style={{position: 'relative', width: '100vw', height: '100vh'}}>\n    <div style={{position: 'absolute', top: 0, bottom: 0, left: 0, right: 0, 'backgroundColor': '#F5F5F5'}}>\n      {\n        // Don't render the Canvas on the server\n        typeof window !== 'undefined' && (\n          <Canvas\n            maxWidth={800} // Use small canvas dimensions to make sure the nodes appear on screen immediately\n            maxHeight={600}\n            nodes={[\n              {\n                id: '1',\n                text: '1'\n              },\n              {\n                id: '2',\n                text: '2'\n              }\n            ]}\n            edges={[\n              {\n                id: '1-2',\n                from: '1',\n                to: '2'\n              }\n            ]}\n          />\n        )\n      }\n    </div>\n  </div>\n);\n\nexport default Page;\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Getting Started/SSR Support",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1168:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Helpers/Proximity",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"proximity"},"Proximity"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useProximity")," hook allows you to use the distance\nfrom a node to link them rather than when the mouse\nenter/leaves the node. This is most useful for editor\nstyle interfaces when a user is dragging a element\nonto the canvas and wants to drop the node intelligently."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"getting-started"},"Getting Started"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"To get started, let's import the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useProximity")," hook\nand setup a drag and drop interface using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"framer-motion"),".\nBelow we will create a simple example ( referrer to demo for\nfunctional demo ) and walk through each step. The example\nmight seem large but it's meant to be overly verbose for\neducational purposes."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import React, { useState, useRef } from 'react';\nimport { useProximity, CanvasRef, addNodeAndEdge, Canvas, EdgeData, NodeData } from 'reaflow';\nimport { useDragControls } from 'framer-motion';\n\nconst App = () => {\n  // This is the controls from framer-motion for dragging\n  const dragControls = useDragControls();\n\n  // We need to create a reference to the canvas so we can pass\n  // it to the hook so it has knowledge about the canvas\n  const canvasRef = useRef<CanvasRef | null>(null);\n\n  // We need to determine if we can drop the element onto the canvas\n  const [droppable, setDroppable] = useState<boolean>(false);\n\n  // Let's save the node that we have \"entered\" so that when the user\n  // ends the drag we can link it\n  const [enteredNode, setEnteredNode] = useState<NodeData | null>(null);\n\n  // Just some empty arrays for demo purposes, this would normally\n  // be whatever your graph contains\n  const [edges, setEdges] = useState<EdgeData[]>([]);\n  const [nodes, setNodes] = useState<NodeData[]>([]);\n\n  const {\n    // Drag event handlers we need to hook into our drag\n    onDragStart: onProximityDragStart,\n    onDrag: onProximityDrag,\n    onDragEnd: onProximityDragEnd\n  } = useProximity({\n    // The ref we defined above\n    canvasRef,\n    onMatchChange: (match: string | null) => {\n      // If there is a match, let's find the node in\n      // our models here\n      let matchNode: NodeData | null = null;\n      if (match) {\n        matchNode = nodes.find(n => n.id === match);\n      }\n\n      // Now let's set the matched node\n      setEnteredNode(matchNode);\n\n      // We set this seperately from the enteredNode because\n      // you might want to do some validation on whether you can drop or not\n      setDroppable(matchNode !== null);\n    }\n  });\n\n  const onDragStart = (event) => {\n    // Call the hook's drag start\n    onProximityDragStart(event);\n\n    // Have the drag snap to our cursor\n    dragControls.start(event, { snapToCursor: true });\n  };\n\n  const onDragEnd = (event) => {\n    // Call our proximity to let it know we are done dragging\n    onProximityDragEnd(event);\n\n    // If its droppable let's add it to the canvas\n    if (droppable) {\n      // Let's use our addNodeAndEdge helper function\n      const result = addNodeAndEdge(\n        nodes,\n        edges,\n        // Make this whatever you want to drop\n        {\n          id: 'random',\n          text: 'random'\n        },\n        // Let's add it using the closest node\n        enteredNode\n      );\n\n      // Update our edges and nodes\n      setNodes(result.nodes);\n      setEdges(result.edges);\n    }\n\n    // Reset the drop state\n    setDroppable(false);\n    setEnteredNode(null);\n  };\n\n  return (\n    <div>\n      <motion.div className=\"block\" onMouseDown={onDragStart}>\n        Drag Me!\n      </motion.div>\n      <motion.div\n        drag\n        dragControls={dragControls}\n        onDrag={onProximityDrag}\n        onDragEnd={onDragEnd}\n      >\n        {activeDrag && (\n          <div>\n            Dragger!\n          </div>\n        )}\n      </motion.div>\n      <Canvas\n        ref={canvasRef}\n        nodes={nodes}\n        edges={edges}\n      />\n    </div>\n  )\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Note: You don't have to use ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"framer-motion")," but since ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"reaflow"),"\nuses it internally its probably best to stick with that."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"interfaces"},"Interfaces"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useProximity")," hook accepts the following properties:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface ProximityProps {\n  /**\n   * Disable proximity or not.\n   */\n  disabled?: boolean;\n\n  /**\n   * Min distance required before match is made. Default is 40.\n   */\n  minDistance?: number;\n\n  /**\n   * Ref pointer to the canvas.\n   */\n  canvasRef?: RefObject<CanvasRef>;\n\n  /**\n   * Distance from the match.\n   */\n  onDistanceChange?: (distance: number | null) => void;\n\n  /**\n   * When a match state has changed.\n   */\n  onMatchChange?: (matche: string | null, distance: number | null) => void;\n\n  /**\n   * When the pointer intersects a node.\n   */\n  onIntersects?: (matche: string | null) => void;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"and it returns the following interface:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface ProximityResult {\n  /**\n   * The matched id of the node.\n   */\n  match: string | null;\n\n  /**\n   * Event for drag started.\n   */\n  onDragStart: (event: PointerEvent) => void;\n\n  /**\n   * Event for active dragging.\n   */\n  onDrag: (event: PointerEvent) => void;\n\n  /**\n   * Event for drag ended.\n   */\n  onDragEnd: (event: PointerEvent) => void;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"how-it-works"},"How it works"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Under the hood it will coorelate the mouse pointer position\nto the canvas ( including offset and zoom ) using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/thelonious/kld-affine",target:"_blank",rel:"nofollow noopener noreferrer"}),"kld-affine"),"\nwhich is a geometric matrices library."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Next as the user drags it will measure the distance of all the nodes\nrelative to the mouse pointer position and if find the node with\nthe closest distance and determine if it falls in the threshold\nwhich by default is ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"40"),"."))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Helpers/Proximity",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1169:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Helpers/Selection",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"selection"},"Selection"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Out of the box, reaflow supports selection handled either manually or\nsemi-automatic with hotkeys using a hook and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/reaviz/reakeys",target:"_blank",rel:"nofollow noopener noreferrer"}),"reakeys"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"selection-hook"},"Selection Hook"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useSelection")," hooks will automatically manage selection state and hotkeys\nfor you. To set it up, simply import the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useSelection")," hook and pass the hook\nthe ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"nodes"),", ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"edges")," and any default selections you like."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The hook accepts the following:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface SelectionProps {\n  /**\n   * Current selections.\n   */\n  selections?: string[];\n\n  /**\n   * Node datas.\n   */\n  nodes?: NodeData[];\n\n  /**\n   * Edge datas.\n   */\n  edges?: EdgeData[];\n\n  /**\n   * Disabled or not.\n   */\n  disabled?: boolean;\n\n  /**\n   * On selection change.\n   */\n  onSelection?: (value: string[]) => void;\n\n  /**\n   * On data change.\n   */\n  onDataChange?: (nodes: NodeData[], edges: EdgeData[]) => void;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"and returns the following:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface SelectionResult {\n  /**\n   * Selections id array.\n   */\n  selections: string[];\n\n  /**\n   * Clear selections method.\n   */\n  clearSelections: (value?: string[]) => void;\n\n  /**\n   * A selection method.\n   */\n  addSelection: (value: string) => void;\n\n  /**\n   * Remove selection method.\n   */\n  removeSelection: (value: string) => void;\n\n  /**\n   * Toggle existing selection on/off method.\n   */\n  toggleSelection: (value: string) => void;\n\n  /**\n   * Set internal selections.\n   */\n  setSelections: (value: string[]) => void;\n\n  /**\n   * On click event pass through.\n   */\n  onClick?: (\n    event: React.MouseEvent<SVGGElement, MouseEvent>,\n    data: any\n  ) => void;\n\n  /**\n   * On canvas click event pass through.\n   */\n  onCanvasClick?: (event?: React.MouseEvent<SVGGElement, MouseEvent>) => void;\n\n  /**\n   * On keydown event pass through.\n   */\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The hotkeys that are bound via this hook are:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"ctrl/meta + a"),": Select all nodes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"escape"),": Defoucs selections"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"ctrl/meta + click"),": Toggle node selection"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"li"},"backspace"),": Remove selected nodes")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Below is a typical setup of where you define the selection hook."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"import { NodeData, EdgeData, useSelection } from 'reaflow';\n\nconst [nodes, setNodes] = useState<NodeData[]>([\n  {\n    id: '1',\n    text: 'Node 1'\n  },\n  {\n    id: '2',\n    text: 'Node 2'\n  }\n]);\n\nconst [edges, setEdges] = useState<EdgeData[]>([\n  {\n    id: '1-2',\n    from: '1',\n    to: '2'\n  }\n]);\n\nconst { selections, onCanvasClick, onClick, onKeyDown, clearSelections } = useSelection({\n  nodes,\n  edges,\n  onDataChange: (n, e) => {\n    console.info('Data changed', n, e);\n    setNodes(n);\n    setEdges(e);\n  },\n  onSelection: (s) => {\n    console.info('Selection', s);\n  }\n});\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Once defined you can pass these onto the canvas like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"<Canvas\n  nodes={nodes}\n  edges={edges}\n  selections={selections}\n  node={\n    <Node\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n      onRemove={(event, node) => {\n        const result = removeAndUpsertNodes(nodes, edges, node);\n        setEdges(result.edges);\n        setNodes(result.nodes);\n        clearSelections();\n      }}\n    />\n  }\n  edge={\n    <Edge\n      onClick={onClick}\n    />\n  }\n  onCanvasClick={onCanvasClick}\n/>\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"and the hook will handle setting the rest up for you. In the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"onSelection"),"\nblock you can define custom rules for selection as well."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"manual-selection-management"},"Manual Selection Management"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"If you don't wish to use the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useSelection")," hook you can handle the selections\nyourself manually. This is as simple as defining a state for the selections\nand just passing it on."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import { NodeData, EdgeData } from 'reaflow';\n\nconst [selections, setSelections] = useState<string[]>([]);\n\nconst [nodes] = useState<NodeData[]>([\n  {\n    id: '1',\n    text: 'Node 1'\n  },\n  {\n    id: '2',\n    text: 'Node 2'\n  }\n]);\n\nconst [edges] = useState<EdgeData[]>([\n  {\n    id: '1-2',\n    from: '1',\n    to: '2'\n  }\n]);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"then similar to how we passed the selections with the hook, we do the same\nthing with the manual selection state."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"<Canvas\n  nodes={nodes}\n  edges={edges}\n  selections={selections}\n  node={\n    <Node\n      onClick={(event, node) => {\n        console.log('Selecting Node', event, node);\n        setSelections([node.id]);\n      }}\n    />\n  }\n  edge={\n    <Edge\n      onClick={(event, edge) => {\n        console.log('Selecting Edge', event, edge);\n        setSelections([edge.id]);\n      }}\n    />\n  }\n  onCanvasClick={(event) => {\n    console.log('Canvas Clicked', event);\n    setSelections([]);\n  }}\n  onLayoutChange={layout => console.log('Layout', layout)}\n/>\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Helpers/Selection",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1170:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Helpers/Undo Redo",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"undo-redo"},"Undo Redo"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Out of the box, reaflow supports undo and redo functionality. This can be\ndone optionally using the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useUndo")," hook. It also supports hotkeys using\n",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/reaviz/reakeys",target:"_blank",rel:"nofollow noopener noreferrer"}),"reakeys"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h2",{id:"getting-started"},"Getting Started"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"useUndo")," hooks will automatically manage the history of the\nnodes and edges, all you need to do is manage the current state.\nThe hook accepts the following arguments:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface UndoProps {\n  /**\n   * Current node datas.\n   */\n  nodes: NodeData[];\n\n  /**\n   * Current edge datas.\n   */\n  edges: EdgeData[];\n\n  /**\n   * Max history count.\n   */\n  maxHistory?: number;\n\n  /**\n   * Disabled or not.\n   */\n  disabled?: boolean;\n\n  /**\n   * On undo/redo event handler.\n   */\n  onUndoRedo: (state: UndoRedoEvent) => void;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"To implement the hook all you need to do is import it like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import { useUndo, EdgeData, Canvas, NodeData } from 'reaflow';\n\nconst MyApp = () => {\n  const [nodes, setNodes] = useState<NodeData[]>([]);\n  const [edges, setEdges] = useState<EdgeData[]>([]);\n\n  const { undo, redo, canUndo, canRedo } = useUndo({\n    nodes,\n    edges,\n    onUndoRedo: (state: UndoRedoEvent) => {\n      console.log('Undo / Redo', state);\n      // Note: This is where YOUR state comes into play\n      setEdges(state.edges);\n      setNodes(state.nodes);\n    }\n  });\n\n  return <Canvas nodes={nodes} edges={edges} />;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"UndoRedoEvent")," interface looks like:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface UndoRedoEvent {\n  /**\n   * Updated node datas.\n   */\n  nodes?: NodeData[];\n\n  /**\n   * Updated edge datas.\n   */\n  edges?: EdgeData[];\n\n  /**\n   * Type of change.\n   */\n  type: 'undo' | 'redo' | 'clear';\n\n  /**\n   * Whether you can undo now.\n   */\n  canUndo: boolean;\n\n  /**\n   * Whether you can redo now.\n   */\n  canRedo: boolean;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Now anytime you make a change to the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"nodes")," or ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"edges")," the\nhook will update the internal history and then you can\ncall ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"undo")," or ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"redo")," functions to retrieve those states."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"The hook returns other properties such as:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"export interface UndoResult {\n  /**\n   * Can undo or not.\n   */\n  canUndo: boolean;\n\n  /**\n   * Can redo or not.\n   */\n  canRedo: boolean;\n\n  /**\n   * Count of existing changes.\n   */\n  count: () => number;\n\n  /**\n   * Clear state.\n   */\n  clear: () => void;\n\n  /**\n   * Get history of state.\n   */\n  history: () => { nodes: NodeData[]; edges: EdgeData[] }[];\n\n  /**\n   * Perform an redo.\n   */\n  redo: () => void;\n\n  /**\n   * Perform a undo.\n   */\n  undo: () => void;\n}\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Helpers/Undo Redo",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1171:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(13),__webpack_require__(4),__webpack_require__(11),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Docs/Introduction",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{style:{margin:"0 auto",maxWidth:"600px",color:"white",textAlign:"center"}},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",null,"🕸 reaflow"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("br",null),"Node-based Visualizations for React",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{href:"https://github.com/reaviz/reaflow/workflows/build/"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:"https://github.com/reaviz/reaflow/workflows/build/badge.svg?branch=master"})),"  ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{href:"https://npm.im/reaflow"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:"https://img.shields.io/npm/v/reaflow.svg"})),"  ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{href:"https://npm.im/reaflow"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:"https://badgen.net/npm/dw/reaflow"})),"  ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{href:"https://github.com/reaviz/reaflow/blob/master/LICENSE"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:"https://badgen.now.sh/badge/license/apache2"})),"  ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{href:"https://bundlephobia.com/result?p=reaflow"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:"https://badgen.net/bundlephobia/minzip/reaflow"})),"  ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{href:"https://discord.gg/tt8wGExq35"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:"https://img.shields.io/discord/773948315037073409?label=discord"})),"  ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{href:"https://github.com/reaviz/reaflow"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{alt:"GitHub stars",src:"https://img.shields.io/github/stars/reaviz/reaflow?style=social"})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"  REAFLOW is a modular diagram engine for build static or interactive editors.\nThe library is feature rich and modular allowing for displaying complex\nvisualizations with total customizability.")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1172:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1172},1173:function(module,exports,__webpack_require__){var map={"./Basic.stories.tsx":1174,"./Controls.stories.tsx":1175,"./Edge.stories.tsx":1176,"./Editor.stories.tsx":1177,"./Layouts.stories.tsx":1178,"./Nested.stories.tsx":1179,"./Node.stories.tsx":1180,"./Port.stories.tsx":1181,"./Proximity.stories.tsx":1182,"./Selection.stories.tsx":1183,"./Undo.stories.tsx":1184};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1173},1174:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple})),__webpack_require__.d(__webpack_exports__,"Readonly",(function(){return Readonly})),__webpack_require__.d(__webpack_exports__,"Disabled",(function(){return Disabled})),__webpack_require__.d(__webpack_exports__,"CustomElements",(function(){return CustomElements})),__webpack_require__.d(__webpack_exports__,"Refs",(function(){return Refs})),__webpack_require__.d(__webpack_exports__,"Events",(function(){return Events})),__webpack_require__.d(__webpack_exports__,"Styling",(function(){return Styling}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);__webpack_exports__.default={parameters:{storySource:{source:"import React, { useEffect, useRef, useState } from 'react';\nimport { Canvas, CanvasRef } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add, NodeProps, EdgeProps } from '../src/symbols';\n\nexport default {\n  title: 'Demos/Basic',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Simple = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Readonly = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      readonly={true}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Disabled = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      disabled={true}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const CustomElements = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '2',\n          text: 'Mother',\n          data: {\n            gender: 'female'\n          }\n        },\n        {\n          id: '3',\n          text: 'Daughter',\n          data: {\n            gender: 'female'\n          }\n        },\n        {\n          id: '4',\n          text: 'Son',\n          data: {\n            gender: 'male'\n          }\n        },\n      ]}\n      edges={[\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        }\n      ]}\n      node={(node: NodeProps) => (\n        <Node\n          {...node}\n          onClick={() => console.log(node.properties.data)}\n          style={{ fill: node.properties.data?.gender === 'male' ? 'blue' : 'red' }}\n        />\n      )}\n      edge={(edge: EdgeProps) => (\n        <Edge\n          {...edge}\n          style={{ stroke: edge.id === '2-4' ? 'blue' : 'red' }}\n        />\n      )}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Refs = () => {\n  const ref = useRef<CanvasRef | null>(null);\n\n  useEffect(() => {\n    console.log('Reference:', ref);\n  }, [ref]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <button\n        style={{ position: 'absolute', top: 10, left: 10, zIndex: 999 }}\n        onClick={() => ref.current?.centerCanvas()}\n      >\n        Center\n      </button>\n      <Canvas\n        ref={ref}\n        nodes={[\n          {\n            id: '1',\n            text: 'Node 1'\n          },\n          {\n            id: '2',\n            text: 'Node 2'\n          }\n        ]}\n        edges={[\n          {\n            id: '1-2',\n            from: '1',\n            to: '2'\n          }\n        ]}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const Events = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      node={\n        <Node\n          port={\n            <Port\n              onEnter={(event, port) => {\n                console.log('Enter Port', event, port);\n              }}\n              onLeave={(event, port) => {\n                console.log('Leave Port', event, port);\n              }}\n            />\n          }\n          onEnter={(event, node) => {\n            console.log('Enter Node', event, node);\n          }}\n          onLeave={(event, node) => {\n            console.log('Leave Node', event, node);\n          }}\n          onKeyDown={(event, node) => {\n            console.log('Keydown Node', event, node);\n          }}\n          onClick={(event, node) => {\n            console.log('Selecting Node', event, node);\n          }}\n          onRemove={(event, node) => {\n            console.log('Remove Node', event, node);\n          }}\n        />\n      }\n      edge={\n        <Edge\n          onEnter={(event, edge) => {\n            console.log('Enter Edge', event, edge);\n          }}\n          onLeave={(event, edge) => {\n            console.log('Leave Edge', event, edge);\n          }}\n          onKeyDown={(event, edge) => {\n            console.log('Keydown Edge', event, edge);\n          }}\n          onClick={(event, edge) => {\n            console.log('Selecting Edge', event, edge);\n          }}\n          onRemove={(event, edge) => {\n            console.log('Removing Edge', event, edge);\n          }}\n        />\n      }\n      onCanvasClick={(event) => {\n        console.log('Canvas Clicked', event);\n      }}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Styling = () => (\n  <div style={{ border: 'solid 1px #12131e', position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <style>\n      {`\n        body #root > div {\n          background-color: white;\n          background-image: -webkit-repeating-radial-gradient(top center,rgba(0,0,0,.2),rgba(0,0,0,.2) 1px,transparent 0,transparent 100%);\n        }\n        .edge {\n          stroke: #b1b1b7;\n          stroke-dasharray: 5;\n          animation: dashdraw .5s linear infinite;\n          stroke-width: 1;\n        }\n        @keyframes dashdraw {\n          0% { stroke-dashoffset: 10; }\n        }\n      `}\n    </style>\n    <Canvas\n      className=\"canvas\"\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '3',\n          text: 'Node 3',\n          ports: [\n            {\n              id: '3-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '3-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3',\n          fromPort: '1-from',\n          toPort: '3-to'\n        }\n      ]}\n      node={\n        <Node\n          style={{ stroke: '#1a192b', fill: 'white', strokeWidth: 1 }}\n          label={<Label style={{ fill: 'black' }} />}\n          port={<Port style={{ fill: 'blue', stroke: 'white' }} rx={10} ry={10} />}\n        />\n      }\n      arrow={<MarkerArrow style={{ fill: '#b1b1b7' }} />}\n      edge={<Edge className=\"edge\" />}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n",locationsMap:{simple:{startLoc:{col:22,line:21},endLoc:{col:1,line:44},startBody:{col:22,line:21},endBody:{col:1,line:44}},readonly:{startLoc:{col:24,line:46},endLoc:{col:1,line:70},startBody:{col:24,line:46},endBody:{col:1,line:70}},disabled:{startLoc:{col:24,line:72},endLoc:{col:1,line:96},startBody:{col:24,line:72},endBody:{col:1,line:96}},"custom-elements":{startLoc:{col:30,line:98},endLoc:{col:1,line:152},startBody:{col:30,line:98},endBody:{col:1,line:152}},refs:{startLoc:{col:20,line:154},endLoc:{col:1,line:192},startBody:{col:20,line:154},endBody:{col:1,line:192}},events:{startLoc:{col:22,line:194},endLoc:{col:1,line:268},startBody:{col:22,line:194},endBody:{col:1,line:268}},styling:{startLoc:{col:23,line:270},endLoc:{col:1,line:378},startBody:{col:23,line:270},endBody:{col:1,line:378}}}}},title:"Demos/Basic",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.a}};var Simple=function Simple(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{nodes:[{id:"1",text:"1"},{id:"2",text:"2"}],edges:[{id:"1-2",from:"1",to:"2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Simple.displayName="Simple";var Readonly=function Readonly(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{readonly:!0,nodes:[{id:"1",text:"1"},{id:"2",text:"2"}],edges:[{id:"1-2",from:"1",to:"2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Readonly.displayName="Readonly";var Disabled=function Disabled(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{disabled:!0,nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}],edges:[{id:"1-2",from:"1",to:"2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Disabled.displayName="Disabled";var CustomElements=function CustomElements(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{nodes:[{id:"2",text:"Mother",data:{gender:"female"}},{id:"3",text:"Daughter",data:{gender:"female"}},{id:"4",text:"Son",data:{gender:"male"}}],edges:[{id:"2-3",from:"2",to:"3"},{id:"2-4",from:"2",to:"4"}],node:function node(_node){var _node$properties$data;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.g,Object.assign({},_node,{onClick:function onClick(){return console.log(_node.properties.data)},style:{fill:"male"===(null===(_node$properties$data=_node.properties.data)||void 0===_node$properties$data?void 0:_node$properties$data.gender)?"blue":"red"}}))},edge:function edge(_edge){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.c,Object.assign({},_edge,{style:{stroke:"2-4"===_edge.id?"blue":"red"}}))},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};CustomElements.displayName="CustomElements";var Refs=function Refs(){var ref=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){console.log("Reference:",ref)}),[ref]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{style:{position:"absolute",top:10,left:10,zIndex:999},onClick:function onClick(){var _ref$current;return null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.centerCanvas()},children:"Center"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{ref:ref,nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}],edges:[{id:"1-2",from:"1",to:"2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Refs.displayName="Refs";var Events=function Events(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}],edges:[{id:"1-2",from:"1",to:"2"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.g,{port:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.h,{onEnter:function onEnter(event,port){console.log("Enter Port",event,port)},onLeave:function onLeave(event,port){console.log("Leave Port",event,port)}}),onEnter:function onEnter(event,node){console.log("Enter Node",event,node)},onLeave:function onLeave(event,node){console.log("Leave Node",event,node)},onKeyDown:function onKeyDown(event,node){console.log("Keydown Node",event,node)},onClick:function onClick(event,node){console.log("Selecting Node",event,node)},onRemove:function onRemove(event,node){console.log("Remove Node",event,node)}}),edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.c,{onEnter:function onEnter(event,edge){console.log("Enter Edge",event,edge)},onLeave:function onLeave(event,edge){console.log("Leave Edge",event,edge)},onKeyDown:function onKeyDown(event,edge){console.log("Keydown Edge",event,edge)},onClick:function onClick(event,edge){console.log("Selecting Edge",event,edge)},onRemove:function onRemove(event,edge){console.log("Removing Edge",event,edge)}}),onCanvasClick:function onCanvasClick(event){console.log("Canvas Clicked",event)},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Events.displayName="Events";var Styling=function Styling(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:{border:"solid 1px #12131e",position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("style",{children:"\n        body #root > div {\n          background-color: white;\n          background-image: -webkit-repeating-radial-gradient(top center,rgba(0,0,0,.2),rgba(0,0,0,.2) 1px,transparent 0,transparent 100%);\n        }\n        .edge {\n          stroke: #b1b1b7;\n          stroke-dasharray: 5;\n          animation: dashdraw .5s linear infinite;\n          stroke-width: 1;\n        }\n        @keyframes dashdraw {\n          0% { stroke-dashoffset: 10; }\n        }\n      "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{className:"canvas",nodes:[{id:"1",text:"Node 1",ports:[{id:"1-from",width:10,height:10,side:"SOUTH"},{id:"1-to",width:10,height:10,side:"NORTH",hidden:!0}]},{id:"2",text:"Node 2",ports:[{id:"2-from",width:10,height:10,side:"SOUTH"},{id:"2-to",width:10,height:10,side:"NORTH",hidden:!0}]},{id:"3",text:"Node 3",ports:[{id:"3-from",width:10,height:10,side:"SOUTH"},{id:"3-to",width:10,height:10,side:"NORTH",hidden:!0}]}],edges:[{id:"1-2",from:"1",to:"2",fromPort:"1-from",toPort:"2-to"},{id:"1-3",from:"1",to:"3",fromPort:"1-from",toPort:"3-to"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.g,{style:{stroke:"#1a192b",fill:"white",strokeWidth:1},label:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.e,{style:{fill:"black"}}),port:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.h,{style:{fill:"blue",stroke:"white"},rx:10,ry:10})}),arrow:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.f,{style:{fill:"#b1b1b7"}}),edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_4__.c,{className:"edge"}),onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Styling.displayName="Styling",Simple.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Simple.parameters),Readonly.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      readonly={true}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Readonly.parameters),Disabled.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      disabled={true}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Disabled.parameters),CustomElements.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '2',\n          text: 'Mother',\n          data: {\n            gender: 'female'\n          }\n        },\n        {\n          id: '3',\n          text: 'Daughter',\n          data: {\n            gender: 'female'\n          }\n        },\n        {\n          id: '4',\n          text: 'Son',\n          data: {\n            gender: 'male'\n          }\n        },\n      ]}\n      edges={[\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        }\n      ]}\n      node={(node: NodeProps) => (\n        <Node\n          {...node}\n          onClick={() => console.log(node.properties.data)}\n          style={{ fill: node.properties.data?.gender === 'male' ? 'blue' : 'red' }}\n        />\n      )}\n      edge={(edge: EdgeProps) => (\n        <Edge\n          {...edge}\n          style={{ stroke: edge.id === '2-4' ? 'blue' : 'red' }}\n        />\n      )}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},CustomElements.parameters),Refs.parameters=Object.assign({storySource:{source:"() => {\n  const ref = useRef<CanvasRef | null>(null);\n\n  useEffect(() => {\n    console.log('Reference:', ref);\n  }, [ref]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <button\n        style={{ position: 'absolute', top: 10, left: 10, zIndex: 999 }}\n        onClick={() => ref.current?.centerCanvas()}\n      >\n        Center\n      </button>\n      <Canvas\n        ref={ref}\n        nodes={[\n          {\n            id: '1',\n            text: 'Node 1'\n          },\n          {\n            id: '2',\n            text: 'Node 2'\n          }\n        ]}\n        edges={[\n          {\n            id: '1-2',\n            from: '1',\n            to: '2'\n          }\n        ]}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Refs.parameters),Events.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      node={\n        <Node\n          port={\n            <Port\n              onEnter={(event, port) => {\n                console.log('Enter Port', event, port);\n              }}\n              onLeave={(event, port) => {\n                console.log('Leave Port', event, port);\n              }}\n            />\n          }\n          onEnter={(event, node) => {\n            console.log('Enter Node', event, node);\n          }}\n          onLeave={(event, node) => {\n            console.log('Leave Node', event, node);\n          }}\n          onKeyDown={(event, node) => {\n            console.log('Keydown Node', event, node);\n          }}\n          onClick={(event, node) => {\n            console.log('Selecting Node', event, node);\n          }}\n          onRemove={(event, node) => {\n            console.log('Remove Node', event, node);\n          }}\n        />\n      }\n      edge={\n        <Edge\n          onEnter={(event, edge) => {\n            console.log('Enter Edge', event, edge);\n          }}\n          onLeave={(event, edge) => {\n            console.log('Leave Edge', event, edge);\n          }}\n          onKeyDown={(event, edge) => {\n            console.log('Keydown Edge', event, edge);\n          }}\n          onClick={(event, edge) => {\n            console.log('Selecting Edge', event, edge);\n          }}\n          onRemove={(event, edge) => {\n            console.log('Removing Edge', event, edge);\n          }}\n        />\n      }\n      onCanvasClick={(event) => {\n        console.log('Canvas Clicked', event);\n      }}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Events.parameters),Styling.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ border: 'solid 1px #12131e', position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <style>\n      {`\n        body #root > div {\n          background-color: white;\n          background-image: -webkit-repeating-radial-gradient(top center,rgba(0,0,0,.2),rgba(0,0,0,.2) 1px,transparent 0,transparent 100%);\n        }\n        .edge {\n          stroke: #b1b1b7;\n          stroke-dasharray: 5;\n          animation: dashdraw .5s linear infinite;\n          stroke-width: 1;\n        }\n        @keyframes dashdraw {\n          0% { stroke-dashoffset: 10; }\n        }\n      `}\n    </style>\n    <Canvas\n      className=\"canvas\"\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '3',\n          text: 'Node 3',\n          ports: [\n            {\n              id: '3-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '3-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3',\n          fromPort: '1-from',\n          toPort: '3-to'\n        }\n      ]}\n      node={\n        <Node\n          style={{ stroke: '#1a192b', fill: 'white', strokeWidth: 1 }}\n          label={<Label style={{ fill: 'black' }} />}\n          port={<Port style={{ fill: 'blue', stroke: 'white' }} rx={10} ry={10} />}\n        />\n      }\n      arrow={<MarkerArrow style={{ fill: '#b1b1b7' }} />}\n      edge={<Edge className=\"edge\" />}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Styling.parameters)},1175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FixedPosition",(function(){return FixedPosition})),__webpack_require__.d(__webpack_exports__,"Small",(function(){return Small})),__webpack_require__.d(__webpack_exports__,"NonCentered",(function(){return NonCentered})),__webpack_require__.d(__webpack_exports__,"Fit",(function(){return Fit})),__webpack_require__.d(__webpack_exports__,"Zoom",(function(){return Zoom}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useRef, useState } from 'react';\nimport { Canvas, CanvasRef } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add } from '../src/symbols';\n\nexport default {\n  title: 'Demos/Controls',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const FixedPosition = () => (\n  <div style={{ border: 'solid 1px #12131e', height: 450, width: 450, position: 'relative' }}>\n    <Canvas\n      pannable={false}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\n\nexport const Small = () => (\n  <div style={{ border: 'solid 1px #12131e', height: 200, width: 200, position: 'relative' }}>\n    <Canvas\n      height={150}\n      width={150}\n      disabled={true}\n      fit={true}\n      pannable={false}\n      arrow={null}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        },\n        {\n          id: '4',\n          text: '4'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        },\n        {\n          id: '1-4',\n          from: '1',\n          to: '4'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const NonCentered = () => (\n  <div style={{ border: 'solid 1px #12131e', height: 450, width: 450, position: 'relative' }}>\n    <Canvas\n      pannable={false}\n      center={false}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Fit = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      fit={true}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Zoom = () => {\n  const [zoom, setZoom] = useState<number>(0.7);\n  const ref = useRef<CanvasRef | null>(null);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ zIndex: 9, position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        Zoom: {zoom}<br />\n        <button style={{ display: 'block', width: '100%', margin: '5px 0' }} onClick={() => ref.current.zoomIn()}>Zoom In</button>\n        <button style={{ display: 'block', width: '100%', margin: '5px 0' }} onClick={() => ref.current.zoomOut()}>Zoom Out</button>\n        <button style={{ display: 'block', width: '100%' }} onClick={() => ref.current.fitCanvas()}>Fit</button>\n      </pre>\n      <Canvas\n        maxZoom={0.2}\n        minZoom={-0.9}\n        zoom={zoom}\n        ref={ref}\n        nodes={[\n          {\n            id: '1',\n            text: 'Node 1'\n          },\n          {\n            id: '2',\n            text: 'Node 2'\n          },\n          {\n            id: '3',\n            text: 'Node 3'\n          }\n        ]}\n        edges={[\n          {\n            id: '1-2',\n            from: '1',\n            to: '2'\n          },\n          {\n            id: '1-3',\n            from: '1',\n            to: '3'\n          }\n        ]}\n        onZoomChange={z => {\n          console.log('zooming', z);\n          setZoom(z);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n",locationsMap:{"fixed-position":{startLoc:{col:29,line:21},endLoc:{col:1,line:54},startBody:{col:29,line:21},endBody:{col:1,line:54}},small:{startLoc:{col:21,line:57},endLoc:{col:1,line:104},startBody:{col:21,line:57},endBody:{col:1,line:104}},"non-centered":{startLoc:{col:27,line:106},endLoc:{col:1,line:140},startBody:{col:27,line:106},endBody:{col:1,line:140}},fit:{startLoc:{col:19,line:142},endLoc:{col:1,line:175},startBody:{col:19,line:142},endBody:{col:1,line:175}},zoom:{startLoc:{col:20,line:177},endLoc:{col:1,line:228},startBody:{col:20,line:177},endBody:{col:1,line:228}}}}},title:"Demos/Controls",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.a}};var FixedPosition=function FixedPosition(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{border:"solid 1px #12131e",height:450,width:450,position:"relative"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{pannable:!1,nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};FixedPosition.displayName="FixedPosition";var Small=function Small(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{border:"solid 1px #12131e",height:200,width:200,position:"relative"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{height:150,width:150,disabled:!0,fit:!0,pannable:!1,arrow:null,nodes:[{id:"1",text:"1"},{id:"2",text:"2"},{id:"3",text:"3"},{id:"4",text:"4"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"},{id:"1-4",from:"1",to:"4"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Small.displayName="Small";var NonCentered=function NonCentered(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{border:"solid 1px #12131e",height:450,width:450,position:"relative"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{pannable:!1,center:!1,nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};NonCentered.displayName="NonCentered";var Fit=function Fit(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{fit:!0,nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Fit.displayName="Fit";var Zoom=function Zoom(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(.7),2),zoom=_useState2[0],setZoom=_useState2[1],ref=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("pre",{style:{zIndex:9,position:"absolute",bottom:15,right:15,background:"rgba(0, 0, 0, .5)",padding:20,color:"white"},children:["Zoom: ",zoom,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{style:{display:"block",width:"100%",margin:"5px 0"},onClick:function onClick(){return ref.current.zoomIn()},children:"Zoom In"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{style:{display:"block",width:"100%",margin:"5px 0"},onClick:function onClick(){return ref.current.zoomOut()},children:"Zoom Out"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{style:{display:"block",width:"100%"},onClick:function onClick(){return ref.current.fitCanvas()},children:"Fit"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{maxZoom:.2,minZoom:-.9,zoom:zoom,ref:ref,nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"}],onZoomChange:function onZoomChange(z){console.log("zooming",z),setZoom(z)},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Zoom.displayName="Zoom",FixedPosition.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ border: 'solid 1px #12131e', height: 450, width: 450, position: 'relative' }}>\n    <Canvas\n      pannable={false}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},FixedPosition.parameters),Small.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ border: 'solid 1px #12131e', height: 200, width: 200, position: 'relative' }}>\n    <Canvas\n      height={150}\n      width={150}\n      disabled={true}\n      fit={true}\n      pannable={false}\n      arrow={null}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        },\n        {\n          id: '4',\n          text: '4'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        },\n        {\n          id: '1-4',\n          from: '1',\n          to: '4'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Small.parameters),NonCentered.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ border: 'solid 1px #12131e', height: 450, width: 450, position: 'relative' }}>\n    <Canvas\n      pannable={false}\n      center={false}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},NonCentered.parameters),Fit.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      fit={true}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Fit.parameters),Zoom.parameters=Object.assign({storySource:{source:"() => {\n  const [zoom, setZoom] = useState<number>(0.7);\n  const ref = useRef<CanvasRef | null>(null);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ zIndex: 9, position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        Zoom: {zoom}<br />\n        <button style={{ display: 'block', width: '100%', margin: '5px 0' }} onClick={() => ref.current.zoomIn()}>Zoom In</button>\n        <button style={{ display: 'block', width: '100%', margin: '5px 0' }} onClick={() => ref.current.zoomOut()}>Zoom Out</button>\n        <button style={{ display: 'block', width: '100%' }} onClick={() => ref.current.fitCanvas()}>Fit</button>\n      </pre>\n      <Canvas\n        maxZoom={0.2}\n        minZoom={-0.9}\n        zoom={zoom}\n        ref={ref}\n        nodes={[\n          {\n            id: '1',\n            text: 'Node 1'\n          },\n          {\n            id: '2',\n            text: 'Node 2'\n          },\n          {\n            id: '3',\n            text: 'Node 3'\n          }\n        ]}\n        edges={[\n          {\n            id: '1-2',\n            from: '1',\n            to: '2'\n          },\n          {\n            id: '1-3',\n            from: '1',\n            to: '3'\n          }\n        ]}\n        onZoomChange={z => {\n          console.log('zooming', z);\n          setZoom(z);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Zoom.parameters)},1176:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Adding",(function(){return Adding})),__webpack_require__.d(__webpack_exports__,"Removeable",(function(){return Removeable})),__webpack_require__.d(__webpack_exports__,"Disabled",(function(){return Disabled})),__webpack_require__.d(__webpack_exports__,"NoArrows",(function(){return NoArrows})),__webpack_require__.d(__webpack_exports__,"NoEdges",(function(){return NoEdges})),__webpack_require__.d(__webpack_exports__,"Labels",(function(){return Labels}));__webpack_require__(43),__webpack_require__(15),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_src_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(38);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState} from 'react';\nimport { Canvas } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add } from '../src/symbols';\nimport { removeAndUpsertNodes, upsertNode } from '../src/helpers';\nimport { EdgeData, NodeData } from '../src/types';\n\nexport default {\n  title: 'Demos/Edges',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Adding = () => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        edge={\n          <Edge\n            add={<Add hidden={false} />}\n            onAdd={(event, edge) => {\n              const id = `node-${Math.random()}`;\n              const newNode = {\n                id,\n                text: id\n              };\n\n              const results = upsertNode(nodes, edges, edge, newNode);\n              setNodes(results.nodes);\n              setEdges(results.edges);\n            }}\n          />\n        }\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const Removeable = () => {\n  const [selections, setSelections] = useState<string[]>(['1', '1-2']);\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '2-3',\n      from: '2',\n      to: '3'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              setSelections([node.id]);\n            }}\n            onRemove={(event, node) => {\n              console.log('Removing Node', event, node);\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              setSelections([]);\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              setSelections([edge.id]);\n            }}\n            onRemove={(event, edge) => {\n              console.log('Removing Edge', event, edge);\n              setEdges(edges.filter(e => e.id !== edge.id));\n              setSelections([]);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          setSelections([]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const Disabled = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      arrow={null}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          selectionDisabled: true\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3',\n          disabled: true\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const NoArrows = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      arrow={null}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const NoEdges = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Labels = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          text: 'Label 1-2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n",locationsMap:{adding:{startLoc:{col:22,line:23},endLoc:{col:1,line:68},startBody:{col:22,line:23},endBody:{col:1,line:68}},removeable:{startLoc:{col:26,line:70},endLoc:{col:1,line:141},startBody:{col:26,line:70},endBody:{col:1,line:141}},disabled:{startLoc:{col:24,line:143},endLoc:{col:1,line:183},startBody:{col:24,line:143},endBody:{col:1,line:183}},"no-arrows":{startLoc:{col:24,line:185},endLoc:{col:1,line:209},startBody:{col:24,line:185},endBody:{col:1,line:209}},"no-edges":{startLoc:{col:23,line:211},endLoc:{col:1,line:228},startBody:{col:23,line:211},endBody:{col:1,line:228}},labels:{startLoc:{col:22,line:230},endLoc:{col:1,line:254},startBody:{col:22,line:230},endBody:{col:1,line:254}}}}},title:"Demos/Edges",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.a}};var Adding=function Adding(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}]),2),nodes=_useState2[0],setNodes=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState4[0],setEdges=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_6__.c,{add:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_6__.a,{hidden:!1}),onAdd:function onAdd(event,edge){var id="node-".concat(Math.random()),newNode={id:id,text:id},results=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_7__.e)(nodes,edges,edge,newNode);setNodes(results.nodes),setEdges(results.edges)}}),onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Adding.displayName="Adding";var Removeable=function Removeable(){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(["1","1-2"]),2),selections=_useState6[0],setSelections=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}]),2),nodes=_useState8[0],setNodes=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"}]),2),edges=_useState10[0],setEdges=_useState10[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,selections:selections,node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_6__.g,{onClick:function onClick(event,node){console.log("Selecting Node",event,node),setSelections([node.id])},onRemove:function onRemove(event,node){console.log("Removing Node",event,node);var result=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_7__.d)(nodes,edges,node);setEdges(result.edges),setNodes(result.nodes),setSelections([])}}),edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_6__.c,{onClick:function onClick(event,edge){console.log("Selecting Edge",event,edge),setSelections([edge.id])},onRemove:function onRemove(event,edge){console.log("Removing Edge",event,edge),setEdges(edges.filter((function(e){return e.id!==edge.id}))),setSelections([])}}),onCanvasClick:function onCanvasClick(event){console.log("Canvas Clicked",event),setSelections([])},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Removeable.displayName="Removeable";var Disabled=function Disabled(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{arrow:null,nodes:[{id:"1",text:"1"},{id:"2",text:"2"},{id:"3",text:"3"}],edges:[{id:"1-2",from:"1",to:"2",selectionDisabled:!0},{id:"2-3",from:"2",to:"3",disabled:!0},{id:"1-3",from:"1",to:"3"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Disabled.displayName="Disabled";var NoArrows=function NoArrows(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{arrow:null,nodes:[{id:"1",text:"1"},{id:"2",text:"2"}],edges:[{id:"1-2",from:"1",to:"2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};NoArrows.displayName="NoArrows";var NoEdges=function NoEdges(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}],edges:[],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};NoEdges.displayName="NoEdges";var Labels=function Labels(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}],edges:[{id:"1-2",from:"1",to:"2",text:"Label 1-2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Labels.displayName="Labels",Adding.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        edge={\n          <Edge\n            add={<Add hidden={false} />}\n            onAdd={(event, edge) => {\n              const id = `node-${Math.random()}`;\n              const newNode = {\n                id,\n                text: id\n              };\n\n              const results = upsertNode(nodes, edges, edge, newNode);\n              setNodes(results.nodes);\n              setEdges(results.edges);\n            }}\n          />\n        }\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Adding.parameters),Removeable.parameters=Object.assign({storySource:{source:"() => {\n  const [selections, setSelections] = useState<string[]>(['1', '1-2']);\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '2-3',\n      from: '2',\n      to: '3'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              setSelections([node.id]);\n            }}\n            onRemove={(event, node) => {\n              console.log('Removing Node', event, node);\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              setSelections([]);\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              setSelections([edge.id]);\n            }}\n            onRemove={(event, edge) => {\n              console.log('Removing Edge', event, edge);\n              setEdges(edges.filter(e => e.id !== edge.id));\n              setSelections([]);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          setSelections([]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Removeable.parameters),Disabled.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      arrow={null}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          selectionDisabled: true\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3',\n          disabled: true\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Disabled.parameters),NoArrows.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      arrow={null}\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},NoArrows.parameters),NoEdges.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},NoEdges.parameters),Labels.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          text: 'Label 1-2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Labels.parameters)},1177:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple}));__webpack_require__(14),__webpack_require__(15),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),framer_motion__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35),rdk__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(45),_src_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(38);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useRef, useState } from 'react';\nimport { Canvas, CanvasRef } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add } from '../src/symbols';\nimport { motion, useDragControls } from 'framer-motion';\nimport { Portal } from 'rdk';\nimport { EdgeData, NodeData } from '../src/types';\nimport { addNodeAndEdge, useProximity } from '../src/helpers';\nimport classNames from 'classnames';\n\nexport default {\n  title: 'Demos/Editor',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Simple = () => {\n  const dragControls = useDragControls();\n  const [enteredNode, setEnteredNode] = useState<NodeData | null>(null);\n  const [activeDrag, setActiveDrag] = useState<string | null>(null);\n  const [droppable, setDroppable] = useState<boolean>(false);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n      text: '2'\n    }\n  ]);\n\n  const onDragStart =  (event, data) => {\n    console.log('Start of Dragging', event, data);\n    setActiveDrag(data);\n    dragControls.start(event, { snapToCursor: true });\n  };\n\n  const onDragEnd = (event) => {\n    console.log('End of Dragging', event);\n\n    if (droppable) {\n      const id = `${activeDrag}-${Math.floor(Math.random() * (100 - 1 + 1)) + 1}`;\n      const result = addNodeAndEdge(\n        nodes,\n        edges,\n        {\n          id,\n          text: id\n        },\n        enteredNode\n      );\n      setNodes(result.nodes);\n      setEdges(result.edges);\n    }\n\n    setDroppable(false);\n    setActiveDrag(null);\n    setEnteredNode(null);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <style>\n        {`\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        `}\n      </style>\n      <div className=\"left\">\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '1')}>\n          Block 1\n        </motion.div>\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '2')}>\n          Block 2\n        </motion.div>\n      </div>\n      <div className=\"right\">\n        <Canvas\n          nodes={nodes}\n          edges={edges}\n          node={\n            <Node\n              onEnter={(event, node) => setEnteredNode(node)}\n              onLeave={(event, node) => setEnteredNode(null)}\n            />\n          }\n          onMouseEnter={() => setDroppable(true)}\n          onMouseLeave={() => setDroppable(false)}\n          onLayoutChange={layout => console.log('Layout', layout)}\n        />\n      </div>\n      <Portal>\n        <motion.div\n          drag\n          dragControls={dragControls}\n          className=\"dragger\"\n          onDragEnd={onDragEnd}\n        >\n          {activeDrag && (\n            <div className=\"dragInner\">\n              {activeDrag}\n            </div>\n          )}\n        </motion.div>\n      </Portal>\n    </div>\n  );\n};\n",locationsMap:{simple:{startLoc:{col:22,line:26},endLoc:{col:1,line:180},startBody:{col:22,line:26},endBody:{col:1,line:180}}}}},title:"Demos/Editor",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.a}};var Simple=function Simple(){var dragControls=Object(framer_motion__WEBPACK_IMPORTED_MODULE_7__.useDragControls)(),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(null),2),enteredNode=_useState2[0],setEnteredNode=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(null),2),activeDrag=_useState4[0],setActiveDrag=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(!1),2),droppable=_useState6[0],setDroppable=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState8[0],setEdges=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"1"},{id:"2",text:"2"}]),2),nodes=_useState10[0],setNodes=_useState10[1],onDragStart=function onDragStart(event,data){console.log("Start of Dragging",event,data),setActiveDrag(data),dragControls.start(event,{snapToCursor:!0})};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("style",{children:"\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"left",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div,{className:"block",onMouseDown:function onMouseDown(event){return onDragStart(event,"1")},children:"Block 1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div,{className:"block",onMouseDown:function onMouseDown(event){return onDragStart(event,"2")},children:"Block 2"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"right",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_6__.g,{onEnter:function onEnter(event,node){return setEnteredNode(node)},onLeave:function onLeave(event,node){return setEnteredNode(null)}}),onMouseEnter:function onMouseEnter(){return setDroppable(!0)},onMouseLeave:function onMouseLeave(){return setDroppable(!1)},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(rdk__WEBPACK_IMPORTED_MODULE_8__.Portal,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div,{drag:!0,dragControls:dragControls,className:"dragger",onDragEnd:function onDragEnd(event){if(console.log("End of Dragging",event),droppable){var id="".concat(activeDrag,"-").concat(Math.floor(100*Math.random())+1),result=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_9__.a)(nodes,edges,{id:id,text:id},enteredNode);setNodes(result.nodes),setEdges(result.edges)}setDroppable(!1),setActiveDrag(null),setEnteredNode(null)},children:activeDrag&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"dragInner",children:activeDrag})})})]})};Simple.displayName="Simple",Simple.parameters=Object.assign({storySource:{source:"() => {\n  const dragControls = useDragControls();\n  const [enteredNode, setEnteredNode] = useState<NodeData | null>(null);\n  const [activeDrag, setActiveDrag] = useState<string | null>(null);\n  const [droppable, setDroppable] = useState<boolean>(false);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n      text: '2'\n    }\n  ]);\n\n  const onDragStart =  (event, data) => {\n    console.log('Start of Dragging', event, data);\n    setActiveDrag(data);\n    dragControls.start(event, { snapToCursor: true });\n  };\n\n  const onDragEnd = (event) => {\n    console.log('End of Dragging', event);\n\n    if (droppable) {\n      const id = `${activeDrag}-${Math.floor(Math.random() * (100 - 1 + 1)) + 1}`;\n      const result = addNodeAndEdge(\n        nodes,\n        edges,\n        {\n          id,\n          text: id\n        },\n        enteredNode\n      );\n      setNodes(result.nodes);\n      setEdges(result.edges);\n    }\n\n    setDroppable(false);\n    setActiveDrag(null);\n    setEnteredNode(null);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <style>\n        {`\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        `}\n      </style>\n      <div className=\"left\">\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '1')}>\n          Block 1\n        </motion.div>\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '2')}>\n          Block 2\n        </motion.div>\n      </div>\n      <div className=\"right\">\n        <Canvas\n          nodes={nodes}\n          edges={edges}\n          node={\n            <Node\n              onEnter={(event, node) => setEnteredNode(node)}\n              onLeave={(event, node) => setEnteredNode(null)}\n            />\n          }\n          onMouseEnter={() => setDroppable(true)}\n          onMouseLeave={() => setDroppable(false)}\n          onLayoutChange={layout => console.log('Layout', layout)}\n        />\n      </div>\n      <Portal>\n        <motion.div\n          drag\n          dragControls={dragControls}\n          className=\"dragger\"\n          onDragEnd={onDragEnd}\n        >\n          {activeDrag && (\n            <div className=\"dragInner\">\n              {activeDrag}\n            </div>\n          )}\n        </motion.div>\n      </Portal>\n    </div>\n  );\n}"}},Simple.parameters)},1178:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Direction",(function(){return Direction})),__webpack_require__.d(__webpack_exports__,"Circular",(function(){return Circular})),__webpack_require__.d(__webpack_exports__,"Joins",(function(){return Joins})),__webpack_require__.d(__webpack_exports__,"CustomOptions",(function(){return CustomOptions}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_src_Canvas__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(10)),_src_symbols__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport { Canvas } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add } from '../src/symbols';\n\nexport default {\n  title: 'Demos/Layouts',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Direction = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          text: '1-2'\n        }\n      ]}\n      direction=\"RIGHT\"\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Circular = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-2',\n          from: '2',\n          to: '2'\n        },\n        {\n          id: '1-1',\n          from: '1',\n          to: '1'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Joins = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        },\n        {\n          id: '4',\n          text: 'Node 4'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        },\n        {\n          id: '3-4',\n          from: '3',\n          to: '4'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const CustomOptions = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      layoutOptions={{\n        'elk.nodeLabels.placement': 'INSIDE V_CENTER H_RIGHT',\n        'elk.algorithm': 'org.eclipse.elk.layered',\n        'elk.direction': 'DOWN',\n        nodeLayering: 'INTERACTIVE',\n        'org.eclipse.elk.edgeRouting': 'ORTHOGONAL',\n        'elk.layered.unnecessaryBendpoints': 'true',\n        'elk.layered.spacing.edgeNodeBetweenLayers': '20',\n        'org.eclipse.elk.layered.nodePlacement.bk.fixedAlignment': 'BALANCED',\n        'org.eclipse.elk.layered.cycleBreaking.strategy': 'DEPTH_FIRST',\n        'org.eclipse.elk.insideSelfLoops.activate': 'true',\n        separateConnectedComponents: 'false',\n        'spacing.componentComponent': '20',\n        spacing: '25',\n        'spacing.nodeNodeBetweenLayers': '20'\n      }}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        },\n        {\n          id: '4',\n          text: 'Node 4'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        },\n        {\n          id: '3-4',\n          from: '3',\n          to: '4'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n",locationsMap:{direction:{startLoc:{col:25,line:21},endLoc:{col:1,line:46},startBody:{col:25,line:21},endBody:{col:1,line:46}},circular:{startLoc:{col:24,line:48},endLoc:{col:1,line:81},startBody:{col:24,line:48},endBody:{col:1,line:81}},joins:{startLoc:{col:21,line:83},endLoc:{col:1,line:129},startBody:{col:21,line:83},endBody:{col:1,line:129}},"custom-options":{startLoc:{col:29,line:131},endLoc:{col:1,line:193},startBody:{col:29,line:131},endBody:{col:1,line:193}}}}},title:"Demos/Layouts",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_4__.a}};var Direction=function Direction(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{nodes:[{id:"1",text:"1"},{id:"2",text:"2"}],edges:[{id:"1-2",from:"1",to:"2",text:"1-2"}],direction:"RIGHT",onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Direction.displayName="Direction";var Circular=function Circular(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{nodes:[{id:"1",text:"1"},{id:"2",text:"2"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"2-2",from:"2",to:"2"},{id:"1-1",from:"1",to:"1"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Circular.displayName="Circular";var Joins=function Joins(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"},{id:"4",text:"Node 4"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"},{id:"3-4",from:"3",to:"4"},{id:"2-4",from:"2",to:"4"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Joins.displayName="Joins";var CustomOptions=function CustomOptions(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_3__.a,{layoutOptions:{"elk.nodeLabels.placement":"INSIDE V_CENTER H_RIGHT","elk.algorithm":"org.eclipse.elk.layered","elk.direction":"DOWN",nodeLayering:"INTERACTIVE","org.eclipse.elk.edgeRouting":"ORTHOGONAL","elk.layered.unnecessaryBendpoints":"true","elk.layered.spacing.edgeNodeBetweenLayers":"20","org.eclipse.elk.layered.nodePlacement.bk.fixedAlignment":"BALANCED","org.eclipse.elk.layered.cycleBreaking.strategy":"DEPTH_FIRST","org.eclipse.elk.insideSelfLoops.activate":"true",separateConnectedComponents:"false","spacing.componentComponent":"20",spacing:"25","spacing.nodeNodeBetweenLayers":"20"},nodes:[{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"},{id:"4",text:"Node 4"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"},{id:"3-4",from:"3",to:"4"},{id:"2-4",from:"2",to:"4"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};CustomOptions.displayName="CustomOptions",Direction.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          text: '1-2'\n        }\n      ]}\n      direction=\"RIGHT\"\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Direction.parameters),Circular.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n          text: '2'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-2',\n          from: '2',\n          to: '2'\n        },\n        {\n          id: '1-1',\n          from: '1',\n          to: '1'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Circular.parameters),Joins.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        },\n        {\n          id: '4',\n          text: 'Node 4'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        },\n        {\n          id: '3-4',\n          from: '3',\n          to: '4'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Joins.parameters),CustomOptions.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      layoutOptions={{\n        'elk.nodeLabels.placement': 'INSIDE V_CENTER H_RIGHT',\n        'elk.algorithm': 'org.eclipse.elk.layered',\n        'elk.direction': 'DOWN',\n        nodeLayering: 'INTERACTIVE',\n        'org.eclipse.elk.edgeRouting': 'ORTHOGONAL',\n        'elk.layered.unnecessaryBendpoints': 'true',\n        'elk.layered.spacing.edgeNodeBetweenLayers': '20',\n        'org.eclipse.elk.layered.nodePlacement.bk.fixedAlignment': 'BALANCED',\n        'org.eclipse.elk.layered.cycleBreaking.strategy': 'DEPTH_FIRST',\n        'org.eclipse.elk.insideSelfLoops.activate': 'true',\n        separateConnectedComponents: 'false',\n        'spacing.componentComponent': '20',\n        spacing: '25',\n        'spacing.nodeNodeBetweenLayers': '20'\n      }}\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1'\n        },\n        {\n          id: '2',\n          text: 'Node 2'\n        },\n        {\n          id: '3',\n          text: 'Node 3'\n        },\n        {\n          id: '4',\n          text: 'Node 4'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3'\n        },\n        {\n          id: '3-4',\n          from: '3',\n          to: '4'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},CustomOptions.parameters)},1179:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple})),__webpack_require__.d(__webpack_exports__,"Linking",(function(){return Linking})),__webpack_require__.d(__webpack_exports__,"NestedEdges",(function(){return NestedEdges})),__webpack_require__.d(__webpack_exports__,"Edges",(function(){return Edges})),__webpack_require__.d(__webpack_exports__,"Ports",(function(){return Ports})),__webpack_require__.d(__webpack_exports__,"NestedNesting",(function(){return NestedNesting}));__webpack_require__(9),__webpack_require__(19),__webpack_require__(14),__webpack_require__(12),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState } from 'react';\nimport { Canvas } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add, NodeProps } from '../src/symbols';\nimport { EdgeData, NodeData } from '../src/types';\n\nexport default {\n  title: 'Demos/Nested',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Simple = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n        },\n        {\n          id: '2-1-1',\n          text: '2 > 2.1',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Linking = () => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n    },\n    {\n      id: '2.1',\n      text: '2 > 2.1',\n      parent: '2'\n    },\n    {\n      id: '2.2',\n      text: '2 > 2.2',\n      parent: '2'\n    },\n    {\n      id: '3',\n      text: '3'\n    }\n  ]);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '2-3',\n      from: '2',\n      to: '3'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLink={(from: NodeData, to: NodeData) => {\n          const id = `${from.id}-${to.id}`;\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id,\n              parent: to.parent\n            }\n          ]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const NestedEdges = () => {\n  const nodeDimensions : any = {\n    typeA: {\n      width: 190,\n      height: 150\n    },\n    typeB:{\n      width: 80,\n      height: 80\n    }\n  }\n  const nodes: NodeData[]= [\n    {\n      id: '1',\n      text: '1',\n    },\n    {\n      id: '2',\n      label: 'A',\n      name: 'Process XYZ',\n      description: 'Description of XYZ',\n      // describes padding for nested nodes\n      nodePadding: [120, 50, 50, 50],\n      ...nodeDimensions.typeA\n    },\n    {\n      id: '2.1',\n      parent: '2',\n      label: 'B',\n      name: 'Task 1',\n      ...nodeDimensions.typeB\n    },\n    {\n      id: '2.2',\n      parent: '2',\n      label: 'B',\n      name: 'Task 2',\n      ...nodeDimensions.typeB\n    },\n    {\n      id: '3',\n      text: '3'\n    }\n  ];\n  const edges: EdgeData[] = [\n    {\n      id: '1-2.1',\n      from: '1',\n      to: '2.1'\n    },\n    {\n      id: '2.1-2.2',\n      parent: '2',\n      from: '2.1',\n      to: '2.2'\n    },\n    {\n      id: '2.2-3',\n      from: '2.2',\n      to: '3'\n    },\n  ];\n\n  function prepareNode(node){\n    const data = node.properties;\n    switch (data.label){\n      case 'A':\n        return (\n          <Node style={{fill: '#1b1d3c', opacity: 0.8}}>\n            <div style={{textAlign: \"center\"}}>\n              <h4>{data.name}</h4>\n              <p>{data.description}</p>\n            </div>\n          </Node>\n        )\n      case 'B':\n        return (\n          <Node style={{fill: '#0e0f1f'}}>\n            <div style={{textAlign: \"center\"}}>\n              <h4>{data.name}</h4>\n            </div>\n          </Node>\n        )\n      default:\n        return (\n          <Node/>\n        )\n    }\n  }\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        // required to enable edges from/to nested nodes\n        layoutOptions={{'elk.hierarchyHandling':'INCLUDE_CHILDREN'}}\n        direction='RIGHT'\n        nodes={nodes}\n        edges={edges}\n        node={(node: NodeProps) => prepareNode(node)}\n      />\n    </div>\n  );\n};\n\nexport const Edges = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2'\n        },\n        {\n          id: '2-1-1',\n          text: '2 > 1.1',\n          parent: '2'\n        },\n        {\n          id: '2-1-2',\n          text: '2 > 1.2',\n          parent: '2'\n        },\n        {\n          id: '2-1-3',\n          text: '2 > 1.3',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-1-1>2-1-2',\n          from: '2-1-1',\n          to: '2-1-2',\n          parent: '2'\n        },\n        {\n          id: '2-1-1>2-1-3',\n          from: '2-1-1',\n          to: '2-1-3',\n          parent: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Ports = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2-1-1',\n          text: '2 > 1.1',\n          parent: '2',\n          ports: [\n            {\n              id: '211-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            }\n          ]\n        },\n        {\n          id: '2-1-2',\n          text: '2 > 1.2',\n          parent: '2',\n          ports: [\n            {\n              id: '212-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '212-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2-1-3',\n          text: '2 > 1.3',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3',\n          ports: [\n            {\n              id: '3-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '3-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        },\n        {\n          id: '2-1-1>2-1-2',\n          from: '2-1-1',\n          to: '2-1-2',\n          parent: '2',\n          fromPort: '211-from',\n          toPort: '212-to'\n        },\n        {\n          id: '2-1-1>2-1-3',\n          from: '2-1-1',\n          to: '2-1-3',\n          parent: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3',\n          fromPort: '2-from',\n          toPort: '3-to'\n        },\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const NestedNesting = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n        },\n        {\n          id: '2.1',\n          parent: '2'\n        },\n        {\n          id: '2.1.1',\n          text: '2.1.1',\n          parent: '2.1'\n        },\n        {\n          id: '2.1.2',\n          text: '2.1.2',\n          parent: '2.1'\n        },\n        {\n          id: '2.1.3',\n          text: '2.1.3',\n          parent: '2.1'\n        },\n        {\n          id: '2.2',\n          text: '2.2',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n        {\n          id: '2.1>2.2',\n          from: '2.1',\n          to: '2.2',\n          parent: '2'\n        },\n        {\n          id: '2.1.1>2.1.2',\n          from: '2.1.1',\n          to: '2.1.2',\n          parent: '2.1'\n        },\n        {\n          id: '2.1.1>2.1.3',\n          from: '2.1.1',\n          to: '2.1.3',\n          parent: '2.1'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n",locationsMap:{simple:{startLoc:{col:22,line:22},endLoc:{col:1,line:58},startBody:{col:22,line:22},endBody:{col:1,line:58}},linking:{startLoc:{col:23,line:60},endLoc:{col:1,line:118},startBody:{col:23,line:60},endBody:{col:1,line:118}},"nested-edges":{startLoc:{col:27,line:120},endLoc:{col:1,line:222},startBody:{col:27,line:120},endBody:{col:1,line:222}},edges:{startLoc:{col:21,line:224},endLoc:{col:1,line:282},startBody:{col:21,line:224},endBody:{col:1,line:282}},ports:{startLoc:{col:21,line:284},endLoc:{col:1,line:416},startBody:{col:21,line:284},endBody:{col:1,line:416}},"nested-nesting":{startLoc:{col:29,line:418},endLoc:{col:1,line:491},startBody:{col:29,line:418},endBody:{col:1,line:491}}}}},title:"Demos/Nested",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_7__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_8__.a}};var Simple=function Simple(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_7__.a,{nodes:[{id:"1",text:"1"},{id:"2"},{id:"2-1-1",text:"2 > 2.1",parent:"2"},{id:"3",text:"3"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Simple.displayName="Simple";var Linking=function Linking(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([{id:"1",text:"1"},{id:"2"},{id:"2.1",text:"2 > 2.1",parent:"2"},{id:"2.2",text:"2 > 2.2",parent:"2"},{id:"3",text:"3"}]),2),nodes=_useState2[0],_useState4=(_useState2[1],_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"}]),2)),edges=_useState4[0],setEdges=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_7__.a,{nodes:nodes,edges:edges,onNodeLink:function onNodeLink(from,to){var id="".concat(from.id,"-").concat(to.id);setEdges([].concat(_toConsumableArray(edges),[{id:id,from:from.id,to:to.id,parent:to.parent}]))},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Linking.displayName="Linking";var NestedEdges=function NestedEdges(){var nodeDimensions_typeA={width:190,height:150},nodeDimensions_typeB={width:80,height:80},nodes=[{id:"1",text:"1"},Object.assign({id:"2",label:"A",name:"Process XYZ",description:"Description of XYZ",nodePadding:[120,50,50,50]},nodeDimensions_typeA),Object.assign({id:"2.1",parent:"2",label:"B",name:"Task 1"},nodeDimensions_typeB),Object.assign({id:"2.2",parent:"2",label:"B",name:"Task 2"},nodeDimensions_typeB),{id:"3",text:"3"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_7__.a,{layoutOptions:{"elk.hierarchyHandling":"INCLUDE_CHILDREN"},direction:"RIGHT",nodes:nodes,edges:[{id:"1-2.1",from:"1",to:"2.1"},{id:"2.1-2.2",parent:"2",from:"2.1",to:"2.2"},{id:"2.2-3",from:"2.2",to:"3"}],node:function node(_node){return function prepareNode(node){var data=node.properties;switch(data.label){case"A":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_8__.g,{style:{fill:"#1b1d3c",opacity:.8},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{textAlign:"center"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h4",{children:data.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("p",{children:data.description})]})});case"B":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_8__.g,{style:{fill:"#0e0f1f"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{textAlign:"center"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h4",{children:data.name})})});default:return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_8__.g,{})}}(_node)}})})};NestedEdges.displayName="NestedEdges";var Edges=function Edges(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_7__.a,{nodes:[{id:"1",text:"1"},{id:"2"},{id:"2-1-1",text:"2 > 1.1",parent:"2"},{id:"2-1-2",text:"2 > 1.2",parent:"2"},{id:"2-1-3",text:"2 > 1.3",parent:"2"},{id:"3",text:"3"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"2-1-1>2-1-2",from:"2-1-1",to:"2-1-2",parent:"2"},{id:"2-1-1>2-1-3",from:"2-1-1",to:"2-1-3",parent:"2"},{id:"2-3",from:"2",to:"3"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Edges.displayName="Edges";var Ports=function Ports(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_7__.a,{nodes:[{id:"1",text:"1",ports:[{id:"1-from",width:10,height:10,side:"SOUTH"},{id:"1-to",width:10,height:10,side:"NORTH",hidden:!0}]},{id:"2",ports:[{id:"2-from",width:10,height:10,side:"SOUTH"},{id:"2-to",width:10,height:10,side:"NORTH",hidden:!0}]},{id:"2-1-1",text:"2 > 1.1",parent:"2",ports:[{id:"211-from",width:10,height:10,side:"SOUTH"}]},{id:"2-1-2",text:"2 > 1.2",parent:"2",ports:[{id:"212-from",width:10,height:10,side:"SOUTH"},{id:"212-to",width:10,height:10,side:"NORTH",hidden:!0}]},{id:"2-1-3",text:"2 > 1.3",parent:"2"},{id:"3",text:"3",ports:[{id:"3-from",width:10,height:10,side:"SOUTH"},{id:"3-to",width:10,height:10,side:"NORTH",hidden:!0}]}],edges:[{id:"1-2",from:"1",to:"2",fromPort:"1-from",toPort:"2-to"},{id:"2-1-1>2-1-2",from:"2-1-1",to:"2-1-2",parent:"2",fromPort:"211-from",toPort:"212-to"},{id:"2-1-1>2-1-3",from:"2-1-1",to:"2-1-3",parent:"2"},{id:"2-3",from:"2",to:"3",fromPort:"2-from",toPort:"3-to"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Ports.displayName="Ports";var NestedNesting=function NestedNesting(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_7__.a,{nodes:[{id:"1",text:"1"},{id:"2"},{id:"2.1",parent:"2"},{id:"2.1.1",text:"2.1.1",parent:"2.1"},{id:"2.1.2",text:"2.1.2",parent:"2.1"},{id:"2.1.3",text:"2.1.3",parent:"2.1"},{id:"2.2",text:"2.2",parent:"2"},{id:"3",text:"3"}],edges:[{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"},{id:"2.1>2.2",from:"2.1",to:"2.2",parent:"2"},{id:"2.1.1>2.1.2",from:"2.1.1",to:"2.1.2",parent:"2.1"},{id:"2.1.1>2.1.3",from:"2.1.1",to:"2.1.3",parent:"2.1"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};NestedNesting.displayName="NestedNesting",Simple.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n        },\n        {\n          id: '2-1-1',\n          text: '2 > 2.1',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Simple.parameters),Linking.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n    },\n    {\n      id: '2.1',\n      text: '2 > 2.1',\n      parent: '2'\n    },\n    {\n      id: '2.2',\n      text: '2 > 2.2',\n      parent: '2'\n    },\n    {\n      id: '3',\n      text: '3'\n    }\n  ]);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '2-3',\n      from: '2',\n      to: '3'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLink={(from: NodeData, to: NodeData) => {\n          const id = `${from.id}-${to.id}`;\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id,\n              parent: to.parent\n            }\n          ]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Linking.parameters),NestedEdges.parameters=Object.assign({storySource:{source:"() => {\n  const nodeDimensions : any = {\n    typeA: {\n      width: 190,\n      height: 150\n    },\n    typeB:{\n      width: 80,\n      height: 80\n    }\n  }\n  const nodes: NodeData[]= [\n    {\n      id: '1',\n      text: '1',\n    },\n    {\n      id: '2',\n      label: 'A',\n      name: 'Process XYZ',\n      description: 'Description of XYZ',\n      // describes padding for nested nodes\n      nodePadding: [120, 50, 50, 50],\n      ...nodeDimensions.typeA\n    },\n    {\n      id: '2.1',\n      parent: '2',\n      label: 'B',\n      name: 'Task 1',\n      ...nodeDimensions.typeB\n    },\n    {\n      id: '2.2',\n      parent: '2',\n      label: 'B',\n      name: 'Task 2',\n      ...nodeDimensions.typeB\n    },\n    {\n      id: '3',\n      text: '3'\n    }\n  ];\n  const edges: EdgeData[] = [\n    {\n      id: '1-2.1',\n      from: '1',\n      to: '2.1'\n    },\n    {\n      id: '2.1-2.2',\n      parent: '2',\n      from: '2.1',\n      to: '2.2'\n    },\n    {\n      id: '2.2-3',\n      from: '2.2',\n      to: '3'\n    },\n  ];\n\n  function prepareNode(node){\n    const data = node.properties;\n    switch (data.label){\n      case 'A':\n        return (\n          <Node style={{fill: '#1b1d3c', opacity: 0.8}}>\n            <div style={{textAlign: \"center\"}}>\n              <h4>{data.name}</h4>\n              <p>{data.description}</p>\n            </div>\n          </Node>\n        )\n      case 'B':\n        return (\n          <Node style={{fill: '#0e0f1f'}}>\n            <div style={{textAlign: \"center\"}}>\n              <h4>{data.name}</h4>\n            </div>\n          </Node>\n        )\n      default:\n        return (\n          <Node/>\n        )\n    }\n  }\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        // required to enable edges from/to nested nodes\n        layoutOptions={{'elk.hierarchyHandling':'INCLUDE_CHILDREN'}}\n        direction='RIGHT'\n        nodes={nodes}\n        edges={edges}\n        node={(node: NodeProps) => prepareNode(node)}\n      />\n    </div>\n  );\n}"}},NestedEdges.parameters),Edges.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2'\n        },\n        {\n          id: '2-1-1',\n          text: '2 > 1.1',\n          parent: '2'\n        },\n        {\n          id: '2-1-2',\n          text: '2 > 1.2',\n          parent: '2'\n        },\n        {\n          id: '2-1-3',\n          text: '2 > 1.3',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-1-1>2-1-2',\n          from: '2-1-1',\n          to: '2-1-2',\n          parent: '2'\n        },\n        {\n          id: '2-1-1>2-1-3',\n          from: '2-1-1',\n          to: '2-1-3',\n          parent: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Edges.parameters),Ports.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2-1-1',\n          text: '2 > 1.1',\n          parent: '2',\n          ports: [\n            {\n              id: '211-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            }\n          ]\n        },\n        {\n          id: '2-1-2',\n          text: '2 > 1.2',\n          parent: '2',\n          ports: [\n            {\n              id: '212-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '212-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        },\n        {\n          id: '2-1-3',\n          text: '2 > 1.3',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3',\n          ports: [\n            {\n              id: '3-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '3-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              hidden: true\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        },\n        {\n          id: '2-1-1>2-1-2',\n          from: '2-1-1',\n          to: '2-1-2',\n          parent: '2',\n          fromPort: '211-from',\n          toPort: '212-to'\n        },\n        {\n          id: '2-1-1>2-1-3',\n          from: '2-1-1',\n          to: '2-1-3',\n          parent: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3',\n          fromPort: '2-from',\n          toPort: '3-to'\n        },\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Ports.parameters),NestedNesting.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1'\n        },\n        {\n          id: '2',\n        },\n        {\n          id: '2.1',\n          parent: '2'\n        },\n        {\n          id: '2.1.1',\n          text: '2.1.1',\n          parent: '2.1'\n        },\n        {\n          id: '2.1.2',\n          text: '2.1.2',\n          parent: '2.1'\n        },\n        {\n          id: '2.1.3',\n          text: '2.1.3',\n          parent: '2.1'\n        },\n        {\n          id: '2.2',\n          text: '2.2',\n          parent: '2'\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n        {\n          id: '2.1>2.2',\n          from: '2.1',\n          to: '2.2',\n          parent: '2'\n        },\n        {\n          id: '2.1.1>2.1.2',\n          from: '2.1.1',\n          to: '2.1.2',\n          parent: '2.1'\n        },\n        {\n          id: '2.1.1>2.1.3',\n          from: '2.1.1',\n          to: '2.1.3',\n          parent: '2.1'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},NestedNesting.parameters)},118:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return checkNodeLinkable})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCoords}));var kld_affine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);function checkNodeLinkable(curNode,enteredNode,canLinkNode){return null!==canLinkNode&&enteredNode?!1!==canLinkNode||enteredNode.id!==curNode.id:null}function getCoords(_ref){var zoom=_ref.zoom,scrollXY=_ref.scrollXY,layout=_ref.layout,containerWidth=_ref.containerWidth,containerHeight=_ref.containerHeight,containerRef=_ref.containerRef,_containerRef$current=containerRef.current.getBoundingClientRect(),top=_containerRef$current.top,left=_containerRef$current.left,offsetX=scrollXY[0]-containerRef.current.scrollLeft,offsetY=scrollXY[1]-containerRef.current.scrollTop,tx=(containerWidth-layout.width*zoom)/2+offsetX+left,ty=(containerHeight-layout.height*zoom)/2+offsetY+top;return(new kld_affine__WEBPACK_IMPORTED_MODULE_0__.a).translate(tx,ty).scale(zoom).inverse()}},1180:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Disabled",(function(){return Disabled})),__webpack_require__.d(__webpack_exports__,"LabelsAndIcons",(function(){return LabelsAndIcons})),__webpack_require__.d(__webpack_exports__,"Icons",(function(){return Icons})),__webpack_require__.d(__webpack_exports__,"LinkingNodeRestrictions",(function(){return LinkingNodeRestrictions})),__webpack_require__.d(__webpack_exports__,"LinkingNodes",(function(){return LinkingNodes})),__webpack_require__.d(__webpack_exports__,"DynamicNodes",(function(){return DynamicNodes})),__webpack_require__.d(__webpack_exports__,"ForeignObjects",(function(){return ForeignObjects})),__webpack_require__.d(__webpack_exports__,"VariableSizes",(function(){return VariableSizes})),__webpack_require__.d(__webpack_exports__,"LongLabels",(function(){return LongLabels}));__webpack_require__(14),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_src_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(38);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState } from 'react';\nimport { NodeData } from '../src/types';\nimport { Canvas } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add } from '../src/symbols';\nimport { detectCircular, hasLink } from '../src/helpers';\n\nexport default {\n  title: 'Demos/Nodes',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Disabled = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1',\n          disabled: true\n        },\n        {\n          id: '2',\n          text: '2',\n          selectionDisabled: true\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const LabelsAndIcons = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '3',\n          text: 'Node 3',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        }\n      ]}\n      node={\n        <Node\n          icon={<Icon />}\n        />\n      }\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Icons = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          height: 50,\n          width: 50,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '2',\n          height: 50,\n          width: 50,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '3',\n          height: 50,\n          width: 50,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        }\n      ]}\n      node={\n        <Node\n          icon={<Icon />}\n        />\n      }\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const LinkingNodeRestrictions = () => {\n  const [nodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLinkCheck={(from: NodeData, to: NodeData) => {\n          if (from.id === to.id || to.id === '3') {\n            return false;\n          }\n\n          if (hasLink(edges, from, to)) {\n            return false;\n          }\n\n          if (detectCircular(nodes, edges, from, to)) {\n            return false;\n          }\n\n          return true;\n        }}\n        onNodeLink={(from, to) => {\n          const id = `${from.id}-${to.id}`;\n\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id\n            }\n          ]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const LinkingNodes = () => {\n  const [nodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLink={(from: NodeData, to: NodeData) => {\n          const id = `${from.id}-${to.id}`;\n\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id\n            }\n          ]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const DynamicNodes = () => {\n  const [nodes, setNodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <button\n        style={{ position: 'absolute', top: 10, left: 10, zIndex: 999 }}\n        onClick={() => setNodes([...nodes, { id: `a${Math.random()}`, text: `Node ${Math.random()}` }])}\n      >\n        Add Nodes\n      </button>\n      <Canvas\n        nodes={nodes}\n        edges={[\n          {\n            id: '1-2',\n            from: '1',\n            to: '2'\n          },\n          {\n            id: '1-3',\n            from: '1',\n            to: '3'\n          }\n        ]}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const ForeignObjects = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          height: 125,\n          width: 250,\n          data: {\n            value: 50\n          }\n        },\n        {\n          id: '2',\n          height: 125,\n          width: 250,\n          data: {\n            value: 25\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      node={\n        <Node>\n          {event => (\n            <foreignObject height={event.height} width={event.width} x={0} y={0}>\n              <div style={{ padding: 10, textAlign: 'center' }}>\n                <h3 style={{ color: 'white' }}>Age</h3>\n                <input type=\"range\" min=\"1\" max=\"100\" value={event.node.data.value} />\n              </div>\n            </foreignObject>\n          )}\n        </Node>\n      }\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const VariableSizes = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          height: 50,\n          width: 50\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          height: 80,\n          width: 250\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const LongLabels = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '2',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '3',\n          text: 'Node 3 with a long label for testing',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '4',\n          text: 'Node4withalongnobreakingspacelabel',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '5',\n          text: 'asdf asdf asdfddd dssss asdfdsds sdssd'\n        },\n        {\n          id: '6',\n          text: 'normal label'\n        },\n        {\n          id: '7',\n          height: 70,\n          width: 70,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 42,\n            width: 42\n          }\n        },\n        {\n          id: '8',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 42,\n            width: 42\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n        {\n          id: '2-7',\n          from: '2',\n          to: '7'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        },\n        {\n          id: '4-5',\n          from: '4',\n          to: '5'\n        },\n        {\n          id: '4-6',\n          from: '4',\n          to: '6'\n        },\n        {\n          id: '4-8',\n          from: '4',\n          to: '8'\n        }\n      ]}\n      node={\n        <Node\n          icon={<Icon />}\n        />\n      }\n    />\n  </div>\n);\n",locationsMap:{disabled:{startLoc:{col:24,line:23},endLoc:{col:1,line:52},startBody:{col:24,line:23},endBody:{col:1,line:52}},"labels-and-icons":{startLoc:{col:30,line:54},endLoc:{col:1,line:106},startBody:{col:30,line:54},endBody:{col:1,line:106}},icons:{startLoc:{col:21,line:108},endLoc:{col:1,line:163},startBody:{col:21,line:108},endBody:{col:1,line:163}},"linking-node-restrictions":{startLoc:{col:39,line:165},endLoc:{col:1,line:225},startBody:{col:39,line:165},endBody:{col:1,line:225}},"linking-nodes":{startLoc:{col:28,line:227},endLoc:{col:1,line:272},startBody:{col:28,line:227},endBody:{col:1,line:272}},"dynamic-nodes":{startLoc:{col:28,line:274},endLoc:{col:1,line:316},startBody:{col:28,line:274},endBody:{col:1,line:316}},"foreign-objects":{startLoc:{col:30,line:318},endLoc:{col:1,line:361},startBody:{col:30,line:318},endBody:{col:1,line:361}},"variable-sizes":{startLoc:{col:29,line:363},endLoc:{col:1,line:390},startBody:{col:29,line:363},endBody:{col:1,line:390}},"long-labels":{startLoc:{col:26,line:392},endLoc:{col:1,line:502},startBody:{col:26,line:392},endBody:{col:1,line:502}}}}},title:"Demos/Nodes",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.a}};var Disabled=function Disabled(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"1",disabled:!0},{id:"2",text:"2",selectionDisabled:!0},{id:"3",text:"3"}],edges:[{id:"1-2",from:"1",to:"2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Disabled.displayName="Disabled";var LabelsAndIcons=function LabelsAndIcons(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"Node 1",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg",height:25,width:25}},{id:"2",text:"Node 2",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg",height:25,width:25}},{id:"3",text:"Node 3",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg",height:25,width:25}}],edges:[{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,{icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.d,{})}),onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};LabelsAndIcons.displayName="LabelsAndIcons";var Icons=function Icons(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",height:50,width:50,icon:{url:"https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg",height:25,width:25}},{id:"2",height:50,width:50,icon:{url:"https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg",height:25,width:25}},{id:"3",height:50,width:50,icon:{url:"https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg",height:25,width:25}}],edges:[{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,{icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.d,{})}),onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Icons.displayName="Icons";var LinkingNodeRestrictions=function LinkingNodeRestrictions(){var nodes=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}]),1)[0],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState4[0],setEdges=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:nodes,edges:edges,onNodeLinkCheck:function onNodeLinkCheck(from,to){return from.id!==to.id&&"3"!==to.id&&(!Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.c)(edges,from,to)&&!Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.b)(nodes,edges,from,to))},onNodeLink:function onNodeLink(from,to){var id="".concat(from.id,"-").concat(to.id);setEdges([].concat(_toConsumableArray(edges),[{id:id,from:from.id,to:to.id}]))},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};LinkingNodeRestrictions.displayName="LinkingNodeRestrictions";var LinkingNodes=function LinkingNodes(){var nodes=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}]),1)[0],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState8[0],setEdges=_useState8[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:nodes,edges:edges,onNodeLink:function onNodeLink(from,to){var id="".concat(from.id,"-").concat(to.id);setEdges([].concat(_toConsumableArray(edges),[{id:id,from:from.id,to:to.id}]))},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};LinkingNodes.displayName="LinkingNodes";var DynamicNodes=function DynamicNodes(){var _useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}]),2),nodes=_useState10[0],setNodes=_useState10[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{style:{position:"absolute",top:10,left:10,zIndex:999},onClick:function onClick(){return setNodes([].concat(_toConsumableArray(nodes),[{id:"a".concat(Math.random()),text:"Node ".concat(Math.random())}]))},children:"Add Nodes"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:nodes,edges:[{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};DynamicNodes.displayName="DynamicNodes";var ForeignObjects=function ForeignObjects(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",height:125,width:250,data:{value:50}},{id:"2",height:125,width:250,data:{value:25}}],edges:[{id:"1-2",from:"1",to:"2"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,{children:function children(event){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("foreignObject",{height:event.height,width:event.width,x:0,y:0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{padding:10,textAlign:"center"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("h3",{style:{color:"white"},children:"Age"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{type:"range",min:"1",max:"100",value:event.node.data.value})]})})}}),onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};ForeignObjects.displayName="ForeignObjects";var VariableSizes=function VariableSizes(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"Node 1",height:50,width:50},{id:"2",text:"Node 2",height:80,width:250}],edges:[{id:"1-2",from:"1",to:"2"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};VariableSizes.displayName="VariableSizes";var LongLabels=function LongLabels(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"Node 1",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg",height:25,width:25}},{id:"2",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg",height:25,width:25}},{id:"3",text:"Node 3 with a long label for testing",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg",height:25,width:25}},{id:"4",text:"Node4withalongnobreakingspacelabel",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg",height:25,width:25}},{id:"5",text:"asdf asdf asdfddd dssss asdfdsds sdssd"},{id:"6",text:"normal label"},{id:"7",height:70,width:70,icon:{url:"https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg",height:42,width:42}},{id:"8",icon:{url:"https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg",height:42,width:42}}],edges:[{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"},{id:"2-7",from:"2",to:"7"},{id:"2-4",from:"2",to:"4"},{id:"4-5",from:"4",to:"5"},{id:"4-6",from:"4",to:"6"},{id:"4-8",from:"4",to:"8"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,{icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.d,{})})})})};LongLabels.displayName="LongLabels",Disabled.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: '1',\n          disabled: true\n        },\n        {\n          id: '2',\n          text: '2',\n          selectionDisabled: true\n        },\n        {\n          id: '3',\n          text: '3'\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Disabled.parameters),LabelsAndIcons.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '3',\n          text: 'Node 3',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        }\n      ]}\n      node={\n        <Node\n          icon={<Icon />}\n        />\n      }\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},LabelsAndIcons.parameters),Icons.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          height: 50,\n          width: 50,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '2',\n          height: 50,\n          width: 50,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '3',\n          height: 50,\n          width: 50,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        }\n      ]}\n      node={\n        <Node\n          icon={<Icon />}\n        />\n      }\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Icons.parameters),LinkingNodeRestrictions.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLinkCheck={(from: NodeData, to: NodeData) => {\n          if (from.id === to.id || to.id === '3') {\n            return false;\n          }\n\n          if (hasLink(edges, from, to)) {\n            return false;\n          }\n\n          if (detectCircular(nodes, edges, from, to)) {\n            return false;\n          }\n\n          return true;\n        }}\n        onNodeLink={(from, to) => {\n          const id = `${from.id}-${to.id}`;\n\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id\n            }\n          ]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},LinkingNodeRestrictions.parameters),LinkingNodes.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLink={(from: NodeData, to: NodeData) => {\n          const id = `${from.id}-${to.id}`;\n\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id\n            }\n          ]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},LinkingNodes.parameters),DynamicNodes.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes, setNodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <button\n        style={{ position: 'absolute', top: 10, left: 10, zIndex: 999 }}\n        onClick={() => setNodes([...nodes, { id: `a${Math.random()}`, text: `Node ${Math.random()}` }])}\n      >\n        Add Nodes\n      </button>\n      <Canvas\n        nodes={nodes}\n        edges={[\n          {\n            id: '1-2',\n            from: '1',\n            to: '2'\n          },\n          {\n            id: '1-3',\n            from: '1',\n            to: '3'\n          }\n        ]}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},DynamicNodes.parameters),ForeignObjects.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          height: 125,\n          width: 250,\n          data: {\n            value: 50\n          }\n        },\n        {\n          id: '2',\n          height: 125,\n          width: 250,\n          data: {\n            value: 25\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      node={\n        <Node>\n          {event => (\n            <foreignObject height={event.height} width={event.width} x={0} y={0}>\n              <div style={{ padding: 10, textAlign: 'center' }}>\n                <h3 style={{ color: 'white' }}>Age</h3>\n                <input type=\"range\" min=\"1\" max=\"100\" value={event.node.data.value} />\n              </div>\n            </foreignObject>\n          )}\n        </Node>\n      }\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},ForeignObjects.parameters),VariableSizes.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          height: 50,\n          width: 50\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          height: 80,\n          width: 250\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        }\n      ]}\n      onLayoutChange={layout => console.log('Layout', layout)}\n    />\n  </div>\n)"}},VariableSizes.parameters),LongLabels.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '2',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-flashpoint-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '3',\n          text: 'Node 3 with a long label for testing',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '4',\n          text: 'Node4withalongnobreakingspacelabel',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-twitter-logo-bw.svg',\n            height: 25,\n            width: 25\n          }\n        },\n        {\n          id: '5',\n          text: 'asdf asdf asdfddd dssss asdfdsds sdssd'\n        },\n        {\n          id: '6',\n          text: 'normal label'\n        },\n        {\n          id: '7',\n          height: 70,\n          width: 70,\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 42,\n            width: 42\n          }\n        },\n        {\n          id: '8',\n          icon: {\n            url: 'https://s3.amazonaws.com/img.crft.app/package-slack-logo-bw.svg',\n            height: 42,\n            width: 42\n          }\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2'\n        },\n        {\n          id: '2-3',\n          from: '2',\n          to: '3'\n        },\n        {\n          id: '2-7',\n          from: '2',\n          to: '7'\n        },\n        {\n          id: '2-4',\n          from: '2',\n          to: '4'\n        },\n        {\n          id: '4-5',\n          from: '4',\n          to: '5'\n        },\n        {\n          id: '4-6',\n          from: '4',\n          to: '6'\n        },\n        {\n          id: '4-8',\n          from: '4',\n          to: '8'\n        }\n      ]}\n      node={\n        <Node\n          icon={<Icon />}\n        />\n      }\n    />\n  </div>\n)"}},LongLabels.parameters)},1181:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple})),__webpack_require__.d(__webpack_exports__,"Disabled",(function(){return Disabled})),__webpack_require__.d(__webpack_exports__,"Styled",(function(){return Styled})),__webpack_require__.d(__webpack_exports__,"ComplexPorts",(function(){return ComplexPorts})),__webpack_require__.d(__webpack_exports__,"LinkingPortRestrictions",(function(){return LinkingPortRestrictions}));__webpack_require__(14),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState } from 'react';\nimport { Canvas } from '../src/Canvas';\nimport {\n  Node,\n  Edge,\n  MarkerArrow,\n  Port,\n  Icon,\n  Arrow,\n  Label,\n  Remove,\n  Add\n} from '../src/symbols';\nimport { NodeData, PortData } from '../src/types';\n\nexport default {\n  title: 'Demos/Ports',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Simple = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        }\n      ]}\n      node={\n        <Node\n          port={\n            <Port\n              onClick={(e, node) => {\n                console.log('onClick port: ', node);\n              }}\n              onEnter={(e, node) => {\n                console.log('onEnter port: ', node);\n              }}\n              onLeave={(e, node) => {\n                console.log('onLeave port: ', node);\n              }}\n              style={{ fill: 'blue', stroke: 'white' }}\n              rx={10}\n              ry={10}\n            />\n          }\n        />\n      }\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Disabled = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH',\n              disabled: true\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH',\n              disabled: true\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        }\n      ]}\n      node={\n        <Node\n          port={\n            <Port\n              onClick={(e, node) => {\n                console.log('onClick port: ', node);\n              }}\n              onEnter={(e, node) => {\n                console.log('onEnter port: ', node);\n              }}\n              onLeave={(e, node) => {\n                console.log('onLeave port: ', node);\n              }}\n              style={{ fill: 'blue', stroke: 'white' }}\n              rx={10}\n              ry={10}\n            />\n          }\n        />\n      }\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const Styled = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <style>\n      {`\n        .blue {\n          fill: blue;\n        }\n        .green {\n          fill: green;\n        }\n      `}\n    </style>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH',\n              className: 'green'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              className: 'blue'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        }\n      ]}\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const ComplexPorts = () => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from-1',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-from-2',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-from-3',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              hidden: true,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              hidden: true,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '3',\n          text: 'Node 3',\n          ports: [\n            {\n              id: '3-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '3-to',\n              width: 10,\n              height: 10,\n              hidden: true,\n              side: 'NORTH'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from-1',\n          toPort: '2-to'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3',\n          fromPort: '1-from-3',\n          toPort: '3-to'\n        }\n      ]}\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n);\n\nexport const LinkingPortRestrictions = () => {\n  const [nodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1',\n      ports: [\n        {\n          id: '1-from-1',\n          width: 10,\n          height: 10,\n          side: 'SOUTH'\n        },\n        {\n          id: '1-from-2',\n          width: 10,\n          height: 10,\n          side: 'SOUTH'\n        },\n        {\n          id: '1-to',\n          width: 10,\n          height: 10,\n          hidden: true,\n          side: 'NORTH'\n        }\n      ]\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2',\n      fromPort: '1-from-1',\n      toPort: '2-to'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLinkCheck={(from: NodeData, to: NodeData, port: PortData) => {\n          if (from.id === to.id || to.id === '1') {\n            return false;\n          }\n\n          if (port?.id === '1-from-2' && to.id === '3') {\n            return false;\n          }\n\n          return true;\n        }}\n        onNodeLink={(from: NodeData, to: NodeData, port: PortData) => {\n          const id = `${from.id}-${to.id}`;\n\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id,\n              fromPort: port.id,\n              toPort: `${to.id}-to`\n            }\n          ]);\n        }}\n        onLayoutChange={(layout) => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n",locationsMap:{simple:{startLoc:{col:22,line:32},endLoc:{col:1,line:105},startBody:{col:22,line:32},endBody:{col:1,line:105}},disabled:{startLoc:{col:24,line:107},endLoc:{col:1,line:182},startBody:{col:24,line:107},endBody:{col:1,line:182}},styled:{startLoc:{col:22,line:184},endLoc:{col:1,line:249},startBody:{col:22,line:184},endBody:{col:1,line:249}},"complex-ports":{startLoc:{col:28,line:251},endLoc:{col:1,line:344},startBody:{col:28,line:251},endBody:{col:1,line:344}},"linking-port-restrictions":{startLoc:{col:39,line:346},endLoc:{col:1,line:427},startBody:{col:39,line:346},endBody:{col:1,line:427}}}}},title:"Demos/Ports",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_5__.a}};var Simple=function Simple(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"Node 1",ports:[{id:"1-from",width:10,height:10,side:"SOUTH"},{id:"1-to",width:10,height:10,side:"NORTH"}]},{id:"2",text:"Node 2",ports:[{id:"2-from",width:10,height:10,side:"SOUTH"},{id:"2-to",width:10,height:10,side:"NORTH"}]}],edges:[{id:"1-2",from:"1",to:"2",fromPort:"1-from",toPort:"2-to"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,{port:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.h,{onClick:function onClick(e,node){console.log("onClick port: ",node)},onEnter:function onEnter(e,node){console.log("onEnter port: ",node)},onLeave:function onLeave(e,node){console.log("onLeave port: ",node)},style:{fill:"blue",stroke:"white"},rx:10,ry:10})}),onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Simple.displayName="Simple";var Disabled=function Disabled(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"Node 1",ports:[{id:"1-from",width:10,height:10,side:"SOUTH",disabled:!0},{id:"1-to",width:10,height:10,side:"NORTH"}]},{id:"2",text:"Node 2",ports:[{id:"2-from",width:10,height:10,side:"SOUTH",disabled:!0},{id:"2-to",width:10,height:10,side:"NORTH"}]}],edges:[{id:"1-2",from:"1",to:"2",fromPort:"1-from",toPort:"2-to"}],node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.g,{port:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_5__.h,{onClick:function onClick(e,node){console.log("onClick port: ",node)},onEnter:function onEnter(e,node){console.log("onEnter port: ",node)},onLeave:function onLeave(e,node){console.log("onLeave port: ",node)},style:{fill:"blue",stroke:"white"},rx:10,ry:10})}),onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};Disabled.displayName="Disabled";var Styled=function Styled(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("style",{children:"\n        .blue {\n          fill: blue;\n        }\n        .green {\n          fill: green;\n        }\n      "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"Node 1",ports:[{id:"1-from",width:10,height:10,side:"SOUTH"},{id:"1-to",width:10,height:10,side:"NORTH"}]},{id:"2",text:"Node 2",ports:[{id:"2-from",width:10,height:10,side:"SOUTH",className:"green"},{id:"2-to",width:10,height:10,side:"NORTH",className:"blue"}]}],edges:[{id:"1-2",from:"1",to:"2",fromPort:"1-from",toPort:"2-to"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Styled.displayName="Styled";var ComplexPorts=function ComplexPorts(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:[{id:"1",text:"Node 1",ports:[{id:"1-from-1",width:10,height:10,side:"SOUTH"},{id:"1-from-2",width:10,height:10,side:"SOUTH"},{id:"1-from-3",width:10,height:10,side:"SOUTH"},{id:"1-to",width:10,height:10,hidden:!0,side:"NORTH"}]},{id:"2",text:"Node 2",ports:[{id:"2-from",width:10,height:10,side:"SOUTH"},{id:"2-to",width:10,height:10,hidden:!0,side:"NORTH"}]},{id:"3",text:"Node 3",ports:[{id:"3-from",width:10,height:10,side:"SOUTH"},{id:"3-to",width:10,height:10,hidden:!0,side:"NORTH"}]}],edges:[{id:"1-2",from:"1",to:"2",fromPort:"1-from-1",toPort:"2-to"},{id:"1-3",from:"1",to:"3",fromPort:"1-from-3",toPort:"3-to"}],onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};ComplexPorts.displayName="ComplexPorts";var LinkingPortRestrictions=function LinkingPortRestrictions(){var nodes=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([{id:"1",text:"Node 1",ports:[{id:"1-from-1",width:10,height:10,side:"SOUTH"},{id:"1-from-2",width:10,height:10,side:"SOUTH"},{id:"1-to",width:10,height:10,hidden:!0,side:"NORTH"}]},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}]),1)[0],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([{id:"1-2",from:"1",to:"2",fromPort:"1-from-1",toPort:"2-to"}]),2),edges=_useState4[0],setEdges=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:nodes,edges:edges,onNodeLinkCheck:function onNodeLinkCheck(from,to,port){return from.id!==to.id&&"1"!==to.id&&("1-from-2"!==(null==port?void 0:port.id)||"3"!==to.id)},onNodeLink:function onNodeLink(from,to,port){var id="".concat(from.id,"-").concat(to.id);setEdges([].concat(_toConsumableArray(edges),[{id:id,from:from.id,to:to.id,fromPort:port.id,toPort:"".concat(to.id,"-to")}]))},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})})};LinkingPortRestrictions.displayName="LinkingPortRestrictions",Simple.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        }\n      ]}\n      node={\n        <Node\n          port={\n            <Port\n              onClick={(e, node) => {\n                console.log('onClick port: ', node);\n              }}\n              onEnter={(e, node) => {\n                console.log('onEnter port: ', node);\n              }}\n              onLeave={(e, node) => {\n                console.log('onLeave port: ', node);\n              }}\n              style={{ fill: 'blue', stroke: 'white' }}\n              rx={10}\n              ry={10}\n            />\n          }\n        />\n      }\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Simple.parameters),Disabled.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH',\n              disabled: true\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH',\n              disabled: true\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        }\n      ]}\n      node={\n        <Node\n          port={\n            <Port\n              onClick={(e, node) => {\n                console.log('onClick port: ', node);\n              }}\n              onEnter={(e, node) => {\n                console.log('onEnter port: ', node);\n              }}\n              onLeave={(e, node) => {\n                console.log('onLeave port: ', node);\n              }}\n              style={{ fill: 'blue', stroke: 'white' }}\n              rx={10}\n              ry={10}\n            />\n          }\n        />\n      }\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Disabled.parameters),Styled.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <style>\n      {`\n        .blue {\n          fill: blue;\n        }\n        .green {\n          fill: green;\n        }\n      `}\n    </style>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH',\n              className: 'green'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              side: 'NORTH',\n              className: 'blue'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from',\n          toPort: '2-to'\n        }\n      ]}\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n)"}},Styled.parameters),ComplexPorts.parameters=Object.assign({storySource:{source:"() => (\n  <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n    <Canvas\n      nodes={[\n        {\n          id: '1',\n          text: 'Node 1',\n          ports: [\n            {\n              id: '1-from-1',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-from-2',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-from-3',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '1-to',\n              width: 10,\n              height: 10,\n              hidden: true,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '2',\n          text: 'Node 2',\n          ports: [\n            {\n              id: '2-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '2-to',\n              width: 10,\n              height: 10,\n              hidden: true,\n              side: 'NORTH'\n            }\n          ]\n        },\n        {\n          id: '3',\n          text: 'Node 3',\n          ports: [\n            {\n              id: '3-from',\n              width: 10,\n              height: 10,\n              side: 'SOUTH'\n            },\n            {\n              id: '3-to',\n              width: 10,\n              height: 10,\n              hidden: true,\n              side: 'NORTH'\n            }\n          ]\n        }\n      ]}\n      edges={[\n        {\n          id: '1-2',\n          from: '1',\n          to: '2',\n          fromPort: '1-from-1',\n          toPort: '2-to'\n        },\n        {\n          id: '1-3',\n          from: '1',\n          to: '3',\n          fromPort: '1-from-3',\n          toPort: '3-to'\n        }\n      ]}\n      onLayoutChange={(layout) => console.log('Layout', layout)}\n    />\n  </div>\n)"}},ComplexPorts.parameters),LinkingPortRestrictions.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1',\n      ports: [\n        {\n          id: '1-from-1',\n          width: 10,\n          height: 10,\n          side: 'SOUTH'\n        },\n        {\n          id: '1-from-2',\n          width: 10,\n          height: 10,\n          side: 'SOUTH'\n        },\n        {\n          id: '1-to',\n          width: 10,\n          height: 10,\n          hidden: true,\n          side: 'NORTH'\n        }\n      ]\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2',\n      fromPort: '1-from-1',\n      toPort: '2-to'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onNodeLinkCheck={(from: NodeData, to: NodeData, port: PortData) => {\n          if (from.id === to.id || to.id === '1') {\n            return false;\n          }\n\n          if (port?.id === '1-from-2' && to.id === '3') {\n            return false;\n          }\n\n          return true;\n        }}\n        onNodeLink={(from: NodeData, to: NodeData, port: PortData) => {\n          const id = `${from.id}-${to.id}`;\n\n          setEdges([\n            ...edges,\n            {\n              id,\n              from: from.id,\n              to: to.id,\n              fromPort: port.id,\n              toPort: `${to.id}-to`\n            }\n          ]);\n        }}\n        onLayoutChange={(layout) => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},LinkingPortRestrictions.parameters)},1182:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple})),__webpack_require__.d(__webpack_exports__,"Nested",(function(){return Nested}));__webpack_require__(14),__webpack_require__(90),__webpack_require__(15),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),framer_motion__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35),rdk__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(45),_src_helpers__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(38),classnames__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(37),classnames__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useRef, useState } from 'react';\nimport { Canvas, CanvasRef } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add } from '../src/symbols';\nimport { motion, useDragControls } from 'framer-motion';\nimport { Portal } from 'rdk';\nimport { EdgeData, NodeData } from '../src/types';\nimport { addNodeAndEdge, useProximity } from '../src/helpers';\nimport classNames from 'classnames';\n\nexport default {\n  title: 'Demos/Proximity',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Simple = () => {\n  const dragControls = useDragControls();\n  const [enteredNode, setEnteredNode] = useState<NodeData | null>(null);\n  const [activeDrag, setActiveDrag] = useState<string | null>(null);\n  const [droppable, setDroppable] = useState<boolean>(false);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n      text: '2'\n    }\n  ]);\n\n  const canvasRef = useRef<CanvasRef | null>(null);\n\n  const {\n    onDragStart: onProximityDragStart,\n    onDrag: onProximityDrag,\n    onDragEnd: onProximityDragEnd\n  } = useProximity({\n    canvasRef,\n    onIntersects: (match: string) => {\n      console.info('Node Intersected', match);\n    },\n    onDistanceChange: (distance: number | null) => {\n      console.info('Distance Changed', distance);\n    },\n    onMatchChange: (match: string | null) => {\n      console.info('Match Changed!', match);\n\n      let matchNode: NodeData | null = null;\n      if (match) {\n        matchNode = nodes.find(n => n.id === match);\n      }\n\n      setEnteredNode(matchNode);\n      setDroppable(matchNode !== null);\n    }\n  });\n\n  const onDragStart =  (event, data) => {\n    console.info('Start of Dragging', event, data);\n    onProximityDragStart(event);\n    setActiveDrag(data);\n    dragControls.start(event, { snapToCursor: true });\n  };\n\n  const onDrag = (event) => {\n    onProximityDrag(event);\n  };\n\n  const onDragEnd = (event) => {\n    onProximityDragEnd(event);\n\n    if (droppable) {\n      const id = `${activeDrag}-${Math.floor(Math.random() * (100 - 1 + 1)) + 1}`;\n      const result = addNodeAndEdge(\n        nodes,\n        edges,\n        {\n          id,\n          text: id\n        },\n        enteredNode\n      );\n      setNodes(result.nodes);\n      setEdges(result.edges);\n    }\n\n    setDroppable(false);\n    setActiveDrag(null);\n    setEnteredNode(null);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <style>\n        {`\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .closest {\n            stroke: yellow !important;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        `}\n      </style>\n      <div className=\"left\">\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '1')}>\n          Block 1\n        </motion.div>\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '2')}>\n          Block 2\n        </motion.div>\n      </div>\n      <div className=\"right\">\n        <Canvas\n          ref={canvasRef}\n          nodes={nodes}\n          edges={edges}\n          node={\n            (n => (\n              <Node\n                {...n}\n                style={{\n                  strokeWidth: enteredNode?.id === n.id && droppable ? 5 : 1\n                }}\n                className={classNames({ closest: enteredNode?.id === n.id })}\n                onEnter={(event, node) => setEnteredNode(node)}\n                onLeave={(event, node) => setEnteredNode(null)}\n              />\n            ))\n          }\n          onLayoutChange={layout => console.info('Layout', layout)}\n        />\n      </div>\n      <Portal>\n        <motion.div\n          drag\n          dragControls={dragControls}\n          className=\"dragger\"\n          onDrag={onDrag}\n          onDragEnd={onDragEnd}\n        >\n          {activeDrag && (\n            <div className=\"dragInner\">\n              {activeDrag}\n            </div>\n          )}\n        </motion.div>\n      </Portal>\n    </div>\n  );\n};\n\n\nexport const Nested = () => {\n  const dragControls = useDragControls();\n  const [enteredNode, setEnteredNode] = useState<NodeData | null>(null);\n  const [activeDrag, setActiveDrag] = useState<string | null>(null);\n  const [droppable, setDroppable] = useState<boolean>(false);\n\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n    },\n    {\n      id: '2-1-1',\n      text: '2 > 2.1',\n      parent: '2'\n    },\n    {\n      id: '3',\n      text: '3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '2-3',\n      from: '2',\n      to: '3'\n    }\n  ]);\n\n  const canvasRef = useRef<CanvasRef | null>(null);\n\n  const {\n    onDragStart: onProximityDragStart,\n    onDrag: onProximityDrag,\n    onDragEnd: onProximityDragEnd\n  } = useProximity({\n    canvasRef,\n    onDistanceChange: (distance: number | null) => {\n      console.info('Distance Changed', distance);\n    },\n    onIntersects: (match: string) => {\n      console.info('Node Intersected', match);\n    },\n    onMatchChange: (match: string | null) => {\n      console.info('Match Changed!', match);\n\n      let matchNode: NodeData | null = null;\n      if (match) {\n        matchNode = nodes.find(n => n.id === match);\n      }\n\n      setEnteredNode(matchNode);\n      setDroppable(matchNode !== null);\n    }\n  });\n\n  const onDragStart =  (event, data) => {\n    console.info('Start of Dragging', event, data);\n    onProximityDragStart(event);\n    setActiveDrag(data);\n    dragControls.start(event, { snapToCursor: true });\n  };\n\n  const onDrag = (event) => {\n    onProximityDrag(event);\n  };\n\n  const onDragEnd = (event) => {\n    onProximityDragEnd(event);\n\n    if (droppable) {\n      const id = `${activeDrag}-${Math.floor(Math.random() * (100 - 1 + 1)) + 1}`;\n\n      // This is for demonstration purposes, you should\n      // tweak this to fit your business infoic\n      if (enteredNode?.id === '2') {\n        setNodes([\n          ...nodes,\n          {\n            id,\n            text: id,\n            parent: '2'\n          }\n        ]);\n      } else {\n        const result = addNodeAndEdge(\n          nodes,\n          edges,\n          {\n            id,\n            text: id,\n            parent: enteredNode?.parent\n          },\n          enteredNode\n        );\n        setNodes(result.nodes);\n        setEdges(result.edges);\n      }\n    }\n\n    setDroppable(false);\n    setActiveDrag(null);\n    setEnteredNode(null);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <style>\n        {`\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .closest {\n            stroke: yellow !important;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        `}\n      </style>\n      <div className=\"left\">\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '1')}>\n          Block 1\n        </motion.div>\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '2')}>\n          Block 2\n        </motion.div>\n      </div>\n      <div className=\"right\">\n        <Canvas\n          ref={canvasRef}\n          nodes={nodes}\n          edges={edges}\n          node={\n            (n => (\n              <Node\n                {...n}\n                style={{\n                  strokeWidth: enteredNode?.id === n.id && droppable ? 5 : 1\n                }}\n                className={classNames({ closest: enteredNode?.id === n.id })}\n              />\n            ))\n          }\n          onLayoutChange={layout => console.info('Layout', layout)}\n        />\n      </div>\n      <Portal>\n        <motion.div\n          drag\n          dragControls={dragControls}\n          className=\"dragger\"\n          onDrag={onDrag}\n          onDragEnd={onDragEnd}\n        >\n          {activeDrag && (\n            <div className=\"dragInner\">\n              {activeDrag}\n            </div>\n          )}\n        </motion.div>\n      </Portal>\n    </div>\n  );\n};\n",locationsMap:{simple:{startLoc:{col:22,line:26},endLoc:{col:1,line:222},startBody:{col:22,line:26},endBody:{col:1,line:222}},nested:{startLoc:{col:22,line:225},endLoc:{col:1,line:449},startBody:{col:22,line:225},endBody:{col:1,line:449}}}}},title:"Demos/Proximity",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_6__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.a}};var Simple=function Simple(){var dragControls=Object(framer_motion__WEBPACK_IMPORTED_MODULE_8__.useDragControls)(),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(null),2),enteredNode=_useState2[0],setEnteredNode=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(null),2),activeDrag=_useState4[0],setActiveDrag=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),2),droppable=_useState6[0],setDroppable=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState8[0],setEdges=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([{id:"1",text:"1"},{id:"2",text:"2"}]),2),nodes=_useState10[0],setNodes=_useState10[1],canvasRef=Object(react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null),_useProximity=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_10__.f)({canvasRef:canvasRef,onIntersects:function onIntersects(match){console.info("Node Intersected",match)},onDistanceChange:function onDistanceChange(distance){console.info("Distance Changed",distance)},onMatchChange:function onMatchChange(match){console.info("Match Changed!",match);var matchNode=null;match&&(matchNode=nodes.find((function(n){return n.id===match}))),setEnteredNode(matchNode),setDroppable(null!==matchNode)}}),onProximityDragStart=_useProximity.onDragStart,onProximityDrag=_useProximity.onDrag,onProximityDragEnd=_useProximity.onDragEnd,onDragStart=function onDragStart(event,data){console.info("Start of Dragging",event,data),onProximityDragStart(event),setActiveDrag(data),dragControls.start(event,{snapToCursor:!0})};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("style",{children:"\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .closest {\n            stroke: yellow !important;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"left",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div,{className:"block",onMouseDown:function onMouseDown(event){return onDragStart(event,"1")},children:"Block 1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div,{className:"block",onMouseDown:function onMouseDown(event){return onDragStart(event,"2")},children:"Block 2"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"right",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_6__.a,{ref:canvasRef,nodes:nodes,edges:edges,node:function node(n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,Object.assign({},n,{style:{strokeWidth:(null==enteredNode?void 0:enteredNode.id)===n.id&&droppable?5:1},className:classnames__WEBPACK_IMPORTED_MODULE_11___default()({closest:(null==enteredNode?void 0:enteredNode.id)===n.id}),onEnter:function onEnter(event,node){return setEnteredNode(node)},onLeave:function onLeave(event,node){return setEnteredNode(null)}}))},onLayoutChange:function onLayoutChange(layout){return console.info("Layout",layout)}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(rdk__WEBPACK_IMPORTED_MODULE_9__.Portal,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div,{drag:!0,dragControls:dragControls,className:"dragger",onDrag:function onDrag(event){onProximityDrag(event)},onDragEnd:function onDragEnd(event){if(onProximityDragEnd(event),droppable){var id="".concat(activeDrag,"-").concat(Math.floor(100*Math.random())+1),result=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_10__.a)(nodes,edges,{id:id,text:id},enteredNode);setNodes(result.nodes),setEdges(result.edges)}setDroppable(!1),setActiveDrag(null),setEnteredNode(null)},children:activeDrag&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"dragInner",children:activeDrag})})})]})};Simple.displayName="Simple";var Nested=function Nested(){var dragControls=Object(framer_motion__WEBPACK_IMPORTED_MODULE_8__.useDragControls)(),_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(null),2),enteredNode=_useState12[0],setEnteredNode=_useState12[1],_useState14=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(null),2),activeDrag=_useState14[0],setActiveDrag=_useState14[1],_useState16=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),2),droppable=_useState16[0],setDroppable=_useState16[1],_useState18=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([{id:"1",text:"1"},{id:"2"},{id:"2-1-1",text:"2 > 2.1",parent:"2"},{id:"3",text:"3"}]),2),nodes=_useState18[0],setNodes=_useState18[1],_useState20=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([{id:"1-2",from:"1",to:"2"},{id:"2-3",from:"2",to:"3"}]),2),edges=_useState20[0],setEdges=_useState20[1],canvasRef=Object(react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null),_useProximity2=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_10__.f)({canvasRef:canvasRef,onDistanceChange:function onDistanceChange(distance){console.info("Distance Changed",distance)},onIntersects:function onIntersects(match){console.info("Node Intersected",match)},onMatchChange:function onMatchChange(match){console.info("Match Changed!",match);var matchNode=null;match&&(matchNode=nodes.find((function(n){return n.id===match}))),setEnteredNode(matchNode),setDroppable(null!==matchNode)}}),onProximityDragStart=_useProximity2.onDragStart,onProximityDrag=_useProximity2.onDrag,onProximityDragEnd=_useProximity2.onDragEnd,onDragStart=function onDragStart(event,data){console.info("Start of Dragging",event,data),onProximityDragStart(event),setActiveDrag(data),dragControls.start(event,{snapToCursor:!0})};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("style",{children:"\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .closest {\n            stroke: yellow !important;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"left",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div,{className:"block",onMouseDown:function onMouseDown(event){return onDragStart(event,"1")},children:"Block 1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div,{className:"block",onMouseDown:function onMouseDown(event){return onDragStart(event,"2")},children:"Block 2"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"right",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_6__.a,{ref:canvasRef,nodes:nodes,edges:edges,node:function node(n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,Object.assign({},n,{style:{strokeWidth:(null==enteredNode?void 0:enteredNode.id)===n.id&&droppable?5:1},className:classnames__WEBPACK_IMPORTED_MODULE_11___default()({closest:(null==enteredNode?void 0:enteredNode.id)===n.id})}))},onLayoutChange:function onLayoutChange(layout){return console.info("Layout",layout)}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(rdk__WEBPACK_IMPORTED_MODULE_9__.Portal,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div,{drag:!0,dragControls:dragControls,className:"dragger",onDrag:function onDrag(event){onProximityDrag(event)},onDragEnd:function onDragEnd(event){if(onProximityDragEnd(event),droppable){var id="".concat(activeDrag,"-").concat(Math.floor(100*Math.random())+1);if("2"===(null==enteredNode?void 0:enteredNode.id))setNodes([].concat(_toConsumableArray(nodes),[{id:id,text:id,parent:"2"}]));else{var result=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_10__.a)(nodes,edges,{id:id,text:id,parent:null==enteredNode?void 0:enteredNode.parent},enteredNode);setNodes(result.nodes),setEdges(result.edges)}}setDroppable(!1),setActiveDrag(null),setEnteredNode(null)},children:activeDrag&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"dragInner",children:activeDrag})})})]})};Nested.displayName="Nested",Simple.parameters=Object.assign({storySource:{source:"() => {\n  const dragControls = useDragControls();\n  const [enteredNode, setEnteredNode] = useState<NodeData | null>(null);\n  const [activeDrag, setActiveDrag] = useState<string | null>(null);\n  const [droppable, setDroppable] = useState<boolean>(false);\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n      text: '2'\n    }\n  ]);\n\n  const canvasRef = useRef<CanvasRef | null>(null);\n\n  const {\n    onDragStart: onProximityDragStart,\n    onDrag: onProximityDrag,\n    onDragEnd: onProximityDragEnd\n  } = useProximity({\n    canvasRef,\n    onIntersects: (match: string) => {\n      console.info('Node Intersected', match);\n    },\n    onDistanceChange: (distance: number | null) => {\n      console.info('Distance Changed', distance);\n    },\n    onMatchChange: (match: string | null) => {\n      console.info('Match Changed!', match);\n\n      let matchNode: NodeData | null = null;\n      if (match) {\n        matchNode = nodes.find(n => n.id === match);\n      }\n\n      setEnteredNode(matchNode);\n      setDroppable(matchNode !== null);\n    }\n  });\n\n  const onDragStart =  (event, data) => {\n    console.info('Start of Dragging', event, data);\n    onProximityDragStart(event);\n    setActiveDrag(data);\n    dragControls.start(event, { snapToCursor: true });\n  };\n\n  const onDrag = (event) => {\n    onProximityDrag(event);\n  };\n\n  const onDragEnd = (event) => {\n    onProximityDragEnd(event);\n\n    if (droppable) {\n      const id = `${activeDrag}-${Math.floor(Math.random() * (100 - 1 + 1)) + 1}`;\n      const result = addNodeAndEdge(\n        nodes,\n        edges,\n        {\n          id,\n          text: id\n        },\n        enteredNode\n      );\n      setNodes(result.nodes);\n      setEdges(result.edges);\n    }\n\n    setDroppable(false);\n    setActiveDrag(null);\n    setEnteredNode(null);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <style>\n        {`\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .closest {\n            stroke: yellow !important;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        `}\n      </style>\n      <div className=\"left\">\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '1')}>\n          Block 1\n        </motion.div>\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '2')}>\n          Block 2\n        </motion.div>\n      </div>\n      <div className=\"right\">\n        <Canvas\n          ref={canvasRef}\n          nodes={nodes}\n          edges={edges}\n          node={\n            (n => (\n              <Node\n                {...n}\n                style={{\n                  strokeWidth: enteredNode?.id === n.id && droppable ? 5 : 1\n                }}\n                className={classNames({ closest: enteredNode?.id === n.id })}\n                onEnter={(event, node) => setEnteredNode(node)}\n                onLeave={(event, node) => setEnteredNode(null)}\n              />\n            ))\n          }\n          onLayoutChange={layout => console.info('Layout', layout)}\n        />\n      </div>\n      <Portal>\n        <motion.div\n          drag\n          dragControls={dragControls}\n          className=\"dragger\"\n          onDrag={onDrag}\n          onDragEnd={onDragEnd}\n        >\n          {activeDrag && (\n            <div className=\"dragInner\">\n              {activeDrag}\n            </div>\n          )}\n        </motion.div>\n      </Portal>\n    </div>\n  );\n}"}},Simple.parameters),Nested.parameters=Object.assign({storySource:{source:"() => {\n  const dragControls = useDragControls();\n  const [enteredNode, setEnteredNode] = useState<NodeData | null>(null);\n  const [activeDrag, setActiveDrag] = useState<string | null>(null);\n  const [droppable, setDroppable] = useState<boolean>(false);\n\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: '1'\n    },\n    {\n      id: '2',\n    },\n    {\n      id: '2-1-1',\n      text: '2 > 2.1',\n      parent: '2'\n    },\n    {\n      id: '3',\n      text: '3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '2-3',\n      from: '2',\n      to: '3'\n    }\n  ]);\n\n  const canvasRef = useRef<CanvasRef | null>(null);\n\n  const {\n    onDragStart: onProximityDragStart,\n    onDrag: onProximityDrag,\n    onDragEnd: onProximityDragEnd\n  } = useProximity({\n    canvasRef,\n    onDistanceChange: (distance: number | null) => {\n      console.info('Distance Changed', distance);\n    },\n    onIntersects: (match: string) => {\n      console.info('Node Intersected', match);\n    },\n    onMatchChange: (match: string | null) => {\n      console.info('Match Changed!', match);\n\n      let matchNode: NodeData | null = null;\n      if (match) {\n        matchNode = nodes.find(n => n.id === match);\n      }\n\n      setEnteredNode(matchNode);\n      setDroppable(matchNode !== null);\n    }\n  });\n\n  const onDragStart =  (event, data) => {\n    console.info('Start of Dragging', event, data);\n    onProximityDragStart(event);\n    setActiveDrag(data);\n    dragControls.start(event, { snapToCursor: true });\n  };\n\n  const onDrag = (event) => {\n    onProximityDrag(event);\n  };\n\n  const onDragEnd = (event) => {\n    onProximityDragEnd(event);\n\n    if (droppable) {\n      const id = `${activeDrag}-${Math.floor(Math.random() * (100 - 1 + 1)) + 1}`;\n\n      // This is for demonstration purposes, you should\n      // tweak this to fit your business infoic\n      if (enteredNode?.id === '2') {\n        setNodes([\n          ...nodes,\n          {\n            id,\n            text: id,\n            parent: '2'\n          }\n        ]);\n      } else {\n        const result = addNodeAndEdge(\n          nodes,\n          edges,\n          {\n            id,\n            text: id,\n            parent: enteredNode?.parent\n          },\n          enteredNode\n        );\n        setNodes(result.nodes);\n        setEdges(result.edges);\n      }\n    }\n\n    setDroppable(false);\n    setActiveDrag(null);\n    setEnteredNode(null);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <style>\n        {`\n          .left {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: 150px;\n            background: #272626;\n            color: white;\n            padding: 20px;\n            display: flex;\n          }\n          .right {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 150px;\n            right: 0;\n          }\n          .block {\n            height: 50px;\n            width: 50px;\n            cursor: grab;\n            background: black;\n            margin-right: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            flex: 1;\n          }\n          .closest {\n            stroke: yellow !important;\n          }\n          .dragger {\n            z-index: 999;\n            pointer-events: none;\n            user-select: none;\n            cursor: grabbing;\n            height: 70px;\n            width: 150px;\n          }\n          .dragInner {\n            pointer-events: none;\n            margin-left: 80px;\n            border-radius: 5px;\n            background: black;\n            border: solid 1px #00c5be;\n            height: 40px;\n            width: 40px;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        `}\n      </style>\n      <div className=\"left\">\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '1')}>\n          Block 1\n        </motion.div>\n        <motion.div className=\"block\" onMouseDown={event => onDragStart(event, '2')}>\n          Block 2\n        </motion.div>\n      </div>\n      <div className=\"right\">\n        <Canvas\n          ref={canvasRef}\n          nodes={nodes}\n          edges={edges}\n          node={\n            (n => (\n              <Node\n                {...n}\n                style={{\n                  strokeWidth: enteredNode?.id === n.id && droppable ? 5 : 1\n                }}\n                className={classNames({ closest: enteredNode?.id === n.id })}\n              />\n            ))\n          }\n          onLayoutChange={layout => console.info('Layout', layout)}\n        />\n      </div>\n      <Portal>\n        <motion.div\n          drag\n          dragControls={dragControls}\n          className=\"dragger\"\n          onDrag={onDrag}\n          onDragEnd={onDragEnd}\n        >\n          {activeDrag && (\n            <div className=\"dragInner\">\n              {activeDrag}\n            </div>\n          )}\n        </motion.div>\n      </Portal>\n    </div>\n  );\n}"}},Nested.parameters)},1183:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple})),__webpack_require__.d(__webpack_exports__,"Nested",(function(){return Nested})),__webpack_require__.d(__webpack_exports__,"Defaults",(function(){return Defaults})),__webpack_require__.d(__webpack_exports__,"ManualSelection",(function(){return ManualSelection}));__webpack_require__(14),__webpack_require__(15),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_src_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(38),_src_symbols__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState } from 'react';\nimport { Canvas } from '../src/Canvas';\nimport { useSelection, removeAndUpsertNodes } from '../src/helpers';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add } from '../src/symbols';\nimport { EdgeData, NodeData } from '../src/types';\n\nexport default {\n  title: 'Demos/Selections',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Simple = () => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  const { selections, onCanvasClick, onClick, onKeyDown, clearSelections } = useSelection({\n    nodes,\n    edges,\n    onDataChange: (n, e) => {\n      console.info('Data changed', n, e);\n      setNodes(n);\n      setEdges(e);\n    },\n    onSelection: (s) => {\n      console.info('Selection', s);\n    }\n  });\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              onClick(event, node);\n            }}\n            onKeyDown={(event, node) => {\n              console.log('Keydown Event', node, event);\n              onKeyDown(event);\n            }}\n            onRemove={(event, node) => {\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              clearSelections();\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              onClick(event, edge);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          onCanvasClick();\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const Nested = () => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '3',\n      text: 'Node 2',\n      parent: '1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  const { selections, onCanvasClick, onClick, onKeyDown, clearSelections } = useSelection({\n    nodes,\n    edges,\n    onDataChange: (n, e) => {\n      console.info('Data changed', n, e);\n      setNodes(n);\n      setEdges(e);\n    },\n    onSelection: (s) => {\n      console.info('Selection', s);\n    }\n  });\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              onClick(event, node);\n            }}\n            onKeyDown={(event, node) => {\n              console.log('Keydown Event', node, event);\n              onKeyDown(event);\n            }}\n            onRemove={(event, node) => {\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              clearSelections();\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              onClick(event, edge);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          onCanvasClick();\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const Defaults = () => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  const { selections, onCanvasClick, onClick, onKeyDown, clearSelections } = useSelection({\n    nodes,\n    edges,\n    selections: ['1'],\n    onDataChange: (n, e) => {\n      console.info('Data changed', n, e);\n      setNodes(n);\n      setEdges(e);\n    },\n    onSelection: (s) => {\n      console.info('Selection', s);\n    }\n  });\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              onClick(event, node);\n            }}\n            onKeyDown={(event, node) => {\n              console.log('Keydown Event', node, event);\n              onKeyDown(event);\n            }}\n            onRemove={(event, node) => {\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              clearSelections();\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              onClick(event, edge);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          onCanvasClick();\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n\nexport const ManualSelection = () => {\n  const [selections, setSelections] = useState<string[]>([]);\n  const [nodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              setSelections([...selections, node.id]);\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              setSelections([...selections, edge.id]);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          setSelections([]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n",locationsMap:{simple:{startLoc:{col:22,line:23},endLoc:{col:1,line:102},startBody:{col:22,line:23},endBody:{col:1,line:102}},nested:{startLoc:{col:22,line:104},endLoc:{col:1,line:188},startBody:{col:22,line:104},endBody:{col:1,line:188}},defaults:{startLoc:{col:24,line:190},endLoc:{col:1,line:270},startBody:{col:24,line:190},endBody:{col:1,line:270}},"manual-selection":{startLoc:{col:31,line:272},endLoc:{col:1,line:329},startBody:{col:31,line:272},endBody:{col:1,line:329}}}}},title:"Demos/Selections",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_7__.a}};var Simple=function Simple(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}]),2),nodes=_useState2[0],setNodes=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState4[0],setEdges=_useState4[1],_useSelection=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.g)({nodes:nodes,edges:edges,onDataChange:function onDataChange(n,e){console.info("Data changed",n,e),setNodes(n),setEdges(e)},onSelection:function onSelection(s){console.info("Selection",s)}}),selections=_useSelection.selections,_onCanvasClick=_useSelection.onCanvasClick,_onClick=_useSelection.onClick,_onKeyDown=_useSelection.onKeyDown,clearSelections=_useSelection.clearSelections;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("pre",{style:{position:"absolute",bottom:15,right:15,background:"rgba(0, 0, 0, .5)",padding:20,color:"white"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("h3",{style:{padding:0,margin:0},children:"Selections"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("code",{children:JSON.stringify(selections,null,2)})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,selections:selections,node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,{onClick:function onClick(event,node){console.log("Selecting Node",event,node),_onClick(event,node)},onKeyDown:function onKeyDown(event,node){console.log("Keydown Event",node,event),_onKeyDown(event)},onRemove:function onRemove(event,node){var result=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.d)(nodes,edges,node);setEdges(result.edges),setNodes(result.nodes),clearSelections()}}),edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.c,{onClick:function onClick(event,edge){console.log("Selecting Edge",event,edge),_onClick(event,edge)}}),onCanvasClick:function onCanvasClick(event){console.log("Canvas Clicked",event),_onCanvasClick()},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Simple.displayName="Simple";var Nested=function Nested(){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"Node 1"},{id:"3",text:"Node 2",parent:"1"},{id:"2",text:"Node 2"}]),2),nodes=_useState6[0],setNodes=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState8[0],setEdges=_useState8[1],_useSelection2=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.g)({nodes:nodes,edges:edges,onDataChange:function onDataChange(n,e){console.info("Data changed",n,e),setNodes(n),setEdges(e)},onSelection:function onSelection(s){console.info("Selection",s)}}),selections=_useSelection2.selections,_onCanvasClick2=_useSelection2.onCanvasClick,_onClick2=_useSelection2.onClick,_onKeyDown2=_useSelection2.onKeyDown,clearSelections=_useSelection2.clearSelections;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("pre",{style:{position:"absolute",bottom:15,right:15,background:"rgba(0, 0, 0, .5)",padding:20,color:"white"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("h3",{style:{padding:0,margin:0},children:"Selections"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("code",{children:JSON.stringify(selections,null,2)})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,selections:selections,node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,{onClick:function onClick(event,node){console.log("Selecting Node",event,node),_onClick2(event,node)},onKeyDown:function onKeyDown(event,node){console.log("Keydown Event",node,event),_onKeyDown2(event)},onRemove:function onRemove(event,node){var result=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.d)(nodes,edges,node);setEdges(result.edges),setNodes(result.nodes),clearSelections()}}),edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.c,{onClick:function onClick(event,edge){console.log("Selecting Edge",event,edge),_onClick2(event,edge)}}),onCanvasClick:function onCanvasClick(event){console.log("Canvas Clicked",event),_onCanvasClick2()},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Nested.displayName="Nested";var Defaults=function Defaults(){var _useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}]),2),nodes=_useState10[0],setNodes=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"}]),2),edges=_useState12[0],setEdges=_useState12[1],_useSelection3=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.g)({nodes:nodes,edges:edges,selections:["1"],onDataChange:function onDataChange(n,e){console.info("Data changed",n,e),setNodes(n),setEdges(e)},onSelection:function onSelection(s){console.info("Selection",s)}}),selections=_useSelection3.selections,_onCanvasClick3=_useSelection3.onCanvasClick,_onClick3=_useSelection3.onClick,_onKeyDown3=_useSelection3.onKeyDown,clearSelections=_useSelection3.clearSelections;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("pre",{style:{position:"absolute",bottom:15,right:15,background:"rgba(0, 0, 0, .5)",padding:20,color:"white"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("h3",{style:{padding:0,margin:0},children:"Selections"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("code",{children:JSON.stringify(selections,null,2)})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,selections:selections,node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,{onClick:function onClick(event,node){console.log("Selecting Node",event,node),_onClick3(event,node)},onKeyDown:function onKeyDown(event,node){console.log("Keydown Event",node,event),_onKeyDown3(event)},onRemove:function onRemove(event,node){var result=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.d)(nodes,edges,node);setEdges(result.edges),setNodes(result.nodes),clearSelections()}}),edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.c,{onClick:function onClick(event,edge){console.log("Selecting Edge",event,edge),_onClick3(event,edge)}}),onCanvasClick:function onCanvasClick(event){console.log("Canvas Clicked",event),_onCanvasClick3()},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Defaults.displayName="Defaults";var ManualSelection=function ManualSelection(){var _useState14=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),2),selections=_useState14[0],setSelections=_useState14[1],nodes=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"}]),1)[0],edges=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"}]),1)[0];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("pre",{style:{position:"absolute",bottom:15,right:15,background:"rgba(0, 0, 0, .5)",padding:20,color:"white"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("h3",{style:{padding:0,margin:0},children:"Selections"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("code",{children:JSON.stringify(selections,null,2)})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,selections:selections,node:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.g,{onClick:function onClick(event,node){console.log("Selecting Node",event,node),setSelections([].concat(_toConsumableArray(selections),[node.id]))}}),edge:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_symbols__WEBPACK_IMPORTED_MODULE_7__.c,{onClick:function onClick(event,edge){console.log("Selecting Edge",event,edge),setSelections([].concat(_toConsumableArray(selections),[edge.id]))}}),onCanvasClick:function onCanvasClick(event){console.log("Canvas Clicked",event),setSelections([])},onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};ManualSelection.displayName="ManualSelection",Simple.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  const { selections, onCanvasClick, onClick, onKeyDown, clearSelections } = useSelection({\n    nodes,\n    edges,\n    onDataChange: (n, e) => {\n      console.info('Data changed', n, e);\n      setNodes(n);\n      setEdges(e);\n    },\n    onSelection: (s) => {\n      console.info('Selection', s);\n    }\n  });\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              onClick(event, node);\n            }}\n            onKeyDown={(event, node) => {\n              console.log('Keydown Event', node, event);\n              onKeyDown(event);\n            }}\n            onRemove={(event, node) => {\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              clearSelections();\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              onClick(event, edge);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          onCanvasClick();\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Simple.parameters),Nested.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '3',\n      text: 'Node 2',\n      parent: '1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  const { selections, onCanvasClick, onClick, onKeyDown, clearSelections } = useSelection({\n    nodes,\n    edges,\n    onDataChange: (n, e) => {\n      console.info('Data changed', n, e);\n      setNodes(n);\n      setEdges(e);\n    },\n    onSelection: (s) => {\n      console.info('Selection', s);\n    }\n  });\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              onClick(event, node);\n            }}\n            onKeyDown={(event, node) => {\n              console.log('Keydown Event', node, event);\n              onKeyDown(event);\n            }}\n            onRemove={(event, node) => {\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              clearSelections();\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              onClick(event, edge);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          onCanvasClick();\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Nested.parameters),Defaults.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes, setNodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  const { selections, onCanvasClick, onClick, onKeyDown, clearSelections } = useSelection({\n    nodes,\n    edges,\n    selections: ['1'],\n    onDataChange: (n, e) => {\n      console.info('Data changed', n, e);\n      setNodes(n);\n      setEdges(e);\n    },\n    onSelection: (s) => {\n      console.info('Selection', s);\n    }\n  });\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              onClick(event, node);\n            }}\n            onKeyDown={(event, node) => {\n              console.log('Keydown Event', node, event);\n              onKeyDown(event);\n            }}\n            onRemove={(event, node) => {\n              const result = removeAndUpsertNodes(nodes, edges, node);\n              setEdges(result.edges);\n              setNodes(result.nodes);\n              clearSelections();\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              onClick(event, edge);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          onCanvasClick();\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Defaults.parameters),ManualSelection.parameters=Object.assign({storySource:{source:"() => {\n  const [selections, setSelections] = useState<string[]>([]);\n  const [nodes] = useState<NodeData[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    }\n  ]);\n\n  const [edges] = useState<EdgeData[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    }\n  ]);\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <pre style={{ position: 'absolute', bottom: 15, right: 15, background: 'rgba(0, 0, 0, .5)', padding: 20, color: 'white' }}>\n        <h3 style={{ padding: 0, margin: 0 }}>Selections</h3>\n        <code>\n          {JSON.stringify(selections, null, 2)}\n        </code>\n      </pre>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        selections={selections}\n        node={\n          <Node\n            onClick={(event, node) => {\n              console.log('Selecting Node', event, node);\n              setSelections([...selections, node.id]);\n            }}\n          />\n        }\n        edge={\n          <Edge\n            onClick={(event, edge) => {\n              console.log('Selecting Edge', event, edge);\n              setSelections([...selections, edge.id]);\n            }}\n          />\n        }\n        onCanvasClick={(event) => {\n          console.log('Canvas Clicked', event);\n          setSelections([]);\n        }}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},ManualSelection.parameters)},1184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple}));__webpack_require__(14),__webpack_require__(15),__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_src_Canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_src_symbols__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_src_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(38);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState } from 'react';\nimport { Canvas } from '../src/Canvas';\nimport { Node, Edge, MarkerArrow, Port, Icon, Arrow, Label, Remove, Add, NodeProps, EdgeProps } from '../src/symbols';\nimport { UndoRedoEvent, useUndo } from '../src/helpers';\n\nexport default {\n  title: 'Demos/Undo Redo',\n  component: Canvas,\n  subcomponents: {\n    Node,\n    Edge,\n    MarkerArrow,\n    Arrow,\n    Icon,\n    Label,\n    Port,\n    Remove,\n    Add\n  }\n};\n\nexport const Simple = () => {\n  const [nodes, setNodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '1-3',\n      from: '1',\n      to: '3'\n    }\n  ]);\n\n  const { undo, redo, canUndo, canRedo } = useUndo({\n    nodes,\n    edges,\n    onUndoRedo: (state: UndoRedoEvent) => {\n      console.log('Undo / Redo', state);\n      setEdges(state.edges);\n      setNodes(state.nodes);\n    }\n  });\n\n  const addNode = () => {\n    setNodes([\n      ...nodes,\n      {\n        id: `a${Math.random()}`,\n        text: `Node ${Math.random()}`\n      }\n    ]);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <button\n        style={{ position: 'absolute', top: 10, left: 10, zIndex: 999 }}\n        onClick={addNode}\n      >\n        Add Nodes\n      </button>\n      <button\n        style={{ position: 'absolute', top: 10, left: 100, zIndex: 999 }}\n        onClick={undo}\n        disabled={!canUndo}\n      >\n        Undo\n      </button>\n      <button\n        style={{ position: 'absolute', top: 10, left: 160, zIndex: 999 }}\n        onClick={redo}\n        disabled={!canRedo}\n      >\n        Redo\n      </button>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n};\n",locationsMap:{simple:{startLoc:{col:22,line:22},endLoc:{col:1,line:100},startBody:{col:22,line:22},endBody:{col:1,line:100}}}}},title:"Demos/Undo Redo",component:_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,subcomponents:{Node:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.g,Edge:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.c,MarkerArrow:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.f,Arrow:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.b,Icon:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.d,Label:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.e,Port:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.h,Remove:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.i,Add:_src_symbols__WEBPACK_IMPORTED_MODULE_6__.a}};var Simple=function Simple(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1",text:"Node 1"},{id:"2",text:"Node 2"},{id:"3",text:"Node 3"}]),2),nodes=_useState2[0],setNodes=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([{id:"1-2",from:"1",to:"2"},{id:"1-3",from:"1",to:"3"}]),2),edges=_useState4[0],setEdges=_useState4[1],_useUndo=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_7__.h)({nodes:nodes,edges:edges,onUndoRedo:function onUndoRedo(state){console.log("Undo / Redo",state),setEdges(state.edges),setNodes(state.nodes)}}),undo=_useUndo.undo,redo=_useUndo.redo,canUndo=_useUndo.canUndo,canRedo=_useUndo.canRedo;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{style:{position:"absolute",top:10,left:10,zIndex:999},onClick:function addNode(){setNodes([].concat(_toConsumableArray(nodes),[{id:"a".concat(Math.random()),text:"Node ".concat(Math.random())}]))},children:"Add Nodes"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{style:{position:"absolute",top:10,left:100,zIndex:999},onClick:undo,disabled:!canUndo,children:"Undo"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{style:{position:"absolute",top:10,left:160,zIndex:999},onClick:redo,disabled:!canRedo,children:"Redo"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src_Canvas__WEBPACK_IMPORTED_MODULE_5__.a,{nodes:nodes,edges:edges,onLayoutChange:function onLayoutChange(layout){return console.log("Layout",layout)}})]})};Simple.displayName="Simple",Simple.parameters=Object.assign({storySource:{source:"() => {\n  const [nodes, setNodes] = useState<any[]>([\n    {\n      id: '1',\n      text: 'Node 1'\n    },\n    {\n      id: '2',\n      text: 'Node 2'\n    },\n    {\n      id: '3',\n      text: 'Node 3'\n    }\n  ]);\n\n  const [edges, setEdges] = useState<any[]>([\n    {\n      id: '1-2',\n      from: '1',\n      to: '2'\n    },\n    {\n      id: '1-3',\n      from: '1',\n      to: '3'\n    }\n  ]);\n\n  const { undo, redo, canUndo, canRedo } = useUndo({\n    nodes,\n    edges,\n    onUndoRedo: (state: UndoRedoEvent) => {\n      console.log('Undo / Redo', state);\n      setEdges(state.edges);\n      setNodes(state.nodes);\n    }\n  });\n\n  const addNode = () => {\n    setNodes([\n      ...nodes,\n      {\n        id: `a${Math.random()}`,\n        text: `Node ${Math.random()}`\n      }\n    ]);\n  };\n\n  return (\n    <div style={{ position: 'absolute', top: 0, bottom: 0, left: 0, right: 0 }}>\n      <button\n        style={{ position: 'absolute', top: 10, left: 10, zIndex: 999 }}\n        onClick={addNode}\n      >\n        Add Nodes\n      </button>\n      <button\n        style={{ position: 'absolute', top: 10, left: 100, zIndex: 999 }}\n        onClick={undo}\n        disabled={!canUndo}\n      >\n        Undo\n      </button>\n      <button\n        style={{ position: 'absolute', top: 10, left: 160, zIndex: 999 }}\n        onClick={redo}\n        disabled={!canRedo}\n      >\n        Redo\n      </button>\n      <Canvas\n        nodes={nodes}\n        edges={edges}\n        onLayoutChange={layout => console.log('Layout', layout)}\n      />\n    </div>\n  );\n}"}},Simple.parameters)},1189:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(506),__webpack_require__(56),__webpack_require__(13),__webpack_require__(64);var create=__webpack_require__(518),theme=Object(create.create)({base:"dark",brandTitle:"REAFLOW",brandUrl:"https://github.com/reaviz/reaflow"}),order=["introduction-","installing-","getting-started-","basics-","components-","data-shapes-","linking-nodes-","styling-","selection-","hooks-","undo-","helpers-","advanced-","docs-","demos-"],parameters={layout:"centered",docs:{theme:theme},actions:{argTypesRegex:"^on.*"},options:{storySort:function storySort(a,b){var aName=a[0],bName=b[0];return aName.includes("docs-")||bName.includes("docs-")?order.findIndex((function(i){return aName.indexOf(i)>-1}))-order.findIndex((function(i){return bName.indexOf(i)>-1})):aName<bName?-1:1}}}},119:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1155);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},130:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Edge_Edge}));__webpack_require__(14),__webpack_require__(56),__webpack_require__(22),__webpack_require__(4),__webpack_require__(64);var jsx_runtime=__webpack_require__(2),react=__webpack_require__(0),Label=__webpack_require__(145),dist=__webpack_require__(45),classnames=__webpack_require__(37),classnames_default=__webpack_require__.n(classnames);__webpack_require__(15);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getBezierPath(_ref2){var sourceX=_ref2.sourceX,sourceY=_ref2.sourceY,_ref2$sourcePosition=_ref2.sourcePosition,sourcePosition=void 0===_ref2$sourcePosition?"bottom":_ref2$sourcePosition,targetX=_ref2.targetX,targetY=_ref2.targetY,_ref2$targetPosition=_ref2.targetPosition,targetPosition=void 0===_ref2$targetPosition?"top":_ref2$targetPosition,leftAndRight=["left","right"],_getBezierCenter2=_slicedToArray(function getBezierCenter(_ref){var sourceX=_ref.sourceX,sourceY=_ref.sourceY,targetX=_ref.targetX,targetY=_ref.targetY,xOffset=Math.abs(targetX-sourceX)/2,centerX=targetX<sourceX?targetX+xOffset:targetX-xOffset,yOffset=Math.abs(targetY-sourceY)/2;return[centerX,targetY<sourceY?targetY+yOffset:targetY-yOffset,xOffset,yOffset]}({sourceX:sourceX,sourceY:sourceY,targetX:targetX,targetY:targetY}),2),centerX=_getBezierCenter2[0],centerY=_getBezierCenter2[1],path="M".concat(sourceX,",").concat(sourceY," C").concat(sourceX,",").concat(centerY," ").concat(targetX,",").concat(centerY," ").concat(targetX,",").concat(targetY);return leftAndRight.includes(sourcePosition)&&leftAndRight.includes(targetPosition)?path="M".concat(sourceX,",").concat(sourceY," C").concat(centerX,",").concat(sourceY," ").concat(centerX,",").concat(targetY," ").concat(targetX,",").concat(targetY):leftAndRight.includes(targetPosition)?path="M".concat(sourceX,",").concat(sourceY," C").concat(sourceX,",").concat(targetY," ").concat(sourceX,",").concat(targetY," ").concat(targetX,",").concat(targetY):leftAndRight.includes(sourcePosition)&&(path="M".concat(sourceX,",").concat(sourceY," C").concat(targetX,",").concat(sourceY," ").concat(targetX,",").concat(sourceY," ").concat(targetX,",").concat(targetY)),path}function getPathCenter(pathElm,firstPoint,lastPoint){if(!pathElm)return null;var angle=function getAngle(source,target){var dx=source.x-target.x,dy=source.y-target.y,theta=Math.atan2(-dy,-dx);return(theta*=180/Math.PI)<0&&(theta+=360),theta}(firstPoint,lastPoint),point=function getCenter(pathElm){var pieceSize=pathElm.getTotalLength()/2,_pathElm$getPointAtLe=pathElm.getPointAtLength(pieceSize),x=_pathElm$getPointAtLe.x,y=_pathElm$getPointAtLe.y;return{x:x,y:y,angle:180*Math.atan2(x,y)/Math.PI}}(pathElm);return Object.assign({},point,{angle:angle})}var line=__webpack_require__(1198),bundle=__webpack_require__(1199),Remove=__webpack_require__(146),Add=__webpack_require__(236),CanvasProvider=__webpack_require__(73),Edge_module=__webpack_require__(119),Edge_module_default=__webpack_require__.n(Edge_module);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return Edge_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||Edge_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Edge_slicedToArray(arr,i){return function Edge_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Edge_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||Edge_unsupportedIterableToArray(arr,i)||function Edge_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Edge_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return Edge_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Edge_arrayLikeToArray(o,minLen):void 0}}function Edge_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Edge_Edge=function Edge(_ref){var _classNames,_classNames2,sections=_ref.sections,properties=_ref.properties,labels=_ref.labels,className=_ref.className,disabled=_ref.disabled,style=_ref.style,children=_ref.children,_ref$add=_ref.add,add=void 0===_ref$add?Object(jsx_runtime.jsx)(Add.a,{}):_ref$add,_ref$remove=_ref.remove,remove=void 0===_ref$remove?Object(jsx_runtime.jsx)(Remove.a,{}):_ref$remove,_ref$label=_ref.label,label=void 0===_ref$label?Object(jsx_runtime.jsx)(Label.a,{}):_ref$label,_ref$onClick=_ref.onClick,_onClick=void 0===_ref$onClick?function(){}:_ref$onClick,_ref$onKeyDown=_ref.onKeyDown,_onKeyDown=void 0===_ref$onKeyDown?function(){}:_ref$onKeyDown,_ref$onEnter=_ref.onEnter,onEnter=void 0===_ref$onEnter?function(){}:_ref$onEnter,_ref$onLeave=_ref.onLeave,onLeave=void 0===_ref$onLeave?function(){}:_ref$onLeave,_ref$onRemove=_ref.onRemove,onRemove=void 0===_ref$onRemove?function(){}:_ref$onRemove,_ref$onAdd=_ref.onAdd,onAdd=void 0===_ref$onAdd?function(){}:_ref$onAdd,pathRef=Object(react.useRef)(null),_useState2=Edge_slicedToArray(Object(react.useState)(!1),2),deleteHovered=_useState2[0],setDeleteHovered=_useState2[1],_useState4=Edge_slicedToArray(Object(react.useState)(null),2),center=_useState4[0],setCenter=_useState4[1],_useCanvas=Object(CanvasProvider.b)(),selections=_useCanvas.selections,readonly=_useCanvas.readonly,isActive=!(null==selections||!selections.length)&&selections.includes(null==properties?void 0:properties.id),d=Object(react.useMemo)((function(){if(null==sections||!sections.length)return null;if(sections[0].bendPoints){var points=sections?[sections[0].startPoint].concat(_toConsumableArray(sections[0].bendPoints||[]),[sections[0].endPoint]):[];return Object(line.a)().x((function(d){return d.x})).y((function(d){return d.y})).curve(bundle.a.beta(1))(points)}return getBezierPath({sourceX:sections[0].startPoint.x,sourceY:sections[0].startPoint.y,targetX:sections[0].endPoint.x,targetY:sections[0].endPoint.y})}),[sections]);Object(react.useEffect)((function(){(null==sections?void 0:sections.length)>0&&setCenter(getPathCenter(pathRef.current,sections[0].startPoint,sections[0].endPoint))}),[sections]);var edgeChildProps={edge:properties,center:center,pathRef:pathRef};return Object(jsx_runtime.jsxs)("g",{className:classnames_default()(Edge_module_default.a.edge,(_classNames={},_defineProperty(_classNames,Edge_module_default.a.disabled,disabled||(null==properties?void 0:properties.disabled)),_defineProperty(_classNames,Edge_module_default.a.selectionDisabled,null==properties?void 0:properties.selectionDisabled),_classNames)),children:[Object(jsx_runtime.jsx)("path",{ref:pathRef,style:style,className:classnames_default()(className,null==properties?void 0:properties.className,Edge_module_default.a.path,(_classNames2={},_defineProperty(_classNames2,Edge_module_default.a.active,isActive),_defineProperty(_classNames2,Edge_module_default.a.deleteHovered,deleteHovered),_classNames2)),d:d,markerEnd:"url(#end-arrow)"}),Object(jsx_runtime.jsx)("path",{className:Edge_module_default.a.clicker,d:d,tabIndex:-1,onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),_onClick(event,properties)},onKeyDown:function onKeyDown(event){event.preventDefault(),event.stopPropagation(),_onKeyDown(event,properties)},onMouseEnter:function onMouseEnter(event){event.stopPropagation(),onEnter(event,properties)},onMouseLeave:function onMouseLeave(event){event.stopPropagation(),onLeave(event,properties)}}),children&&Object(jsx_runtime.jsx)(react.Fragment,{children:"function"==typeof children?children(edgeChildProps):children}),(null==labels?void 0:labels.length)>0&&labels.map((function(l,index){return Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:label},l),index)})),!disabled&&center&&!readonly&&remove&&Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:remove},center,{hidden:void 0!==remove.props.hidden?remove.props.hidden:!isActive,onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),onRemove(event,properties),setDeleteHovered(!1)},onEnter:function onEnter(){return setDeleteHovered(!0)},onLeave:function onLeave(){return setDeleteHovered(!1)}})),!disabled&&center&&!readonly&&add&&Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:add},center,{onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),onAdd(event,properties)}}))]})};Edge_Edge.displayName="Edge";try{Edge_Edge.displayName="Edge",Edge_Edge.__docgenInfo={description:"",displayName:"Edge",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},source:{defaultValue:null,description:"",name:"source",required:!1,type:{name:"string"}},sourcePort:{defaultValue:null,description:"",name:"sourcePort",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},targetPort:{defaultValue:null,description:"",name:"targetPort",required:!1,type:{name:"string"}},properties:{defaultValue:null,description:"",name:"properties",required:!1,type:{name:"EdgeData<any>"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},sections:{defaultValue:null,description:"",name:"sections",required:!1,type:{name:"EdgeSections[]"}},labels:{defaultValue:null,description:"",name:"labels",required:!1,type:{name:"LabelProps[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},add:{defaultValue:{value:"<Add />"},description:"",name:"add",required:!1,type:{name:"ReactElement<AddProps, FC<Partial<AddProps>>>"}},label:{defaultValue:{value:"<Label />"},description:"",name:"label",required:!1,type:{name:"ReactElement<LabelProps, FC<Partial<LabelProps>>>"}},remove:{defaultValue:{value:"<Remove />"},description:"",name:"remove",required:!1,type:{name:"ReactElement<RemoveProps, FC<Partial<RemoveProps>>>"}},onClick:{defaultValue:{value:"() => undefined"},description:"",name:"onClick",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, data: EdgeData<any>) => void"}},onKeyDown:{defaultValue:{value:"() => undefined"},description:"",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<SVGGElement>, data: EdgeData<any>) => void"}},onEnter:{defaultValue:{value:"() => undefined"},description:"",name:"onEnter",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, node: EdgeData<any>) => void"}},onLeave:{defaultValue:{value:"() => undefined"},description:"",name:"onLeave",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, node: EdgeData<any>) => void"}},onRemove:{defaultValue:{value:"() => undefined"},description:"",name:"onRemove",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, edge: EdgeData<any>) => void"}},onAdd:{defaultValue:{value:"() => undefined"},description:"",name:"onAdd",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, edge: EdgeData<any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Edge/Edge.tsx#Edge"]={docgenInfo:Edge_Edge.__docgenInfo,name:"Edge",path:"src/symbols/Edge/Edge.tsx#Edge"})}catch(__react_docgen_typescript_loader_error){}},144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useNodeDrag}));__webpack_require__(4);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_use_gesture__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(242),_CanvasProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(73),_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(118),useNodeDrag=function useNodeDrag(_ref){var x=_ref.x,y=_ref.y,height=_ref.height,width=_ref.width,onDrag=_ref.onDrag,onDragEnd=_ref.onDragEnd,onDragStart=_ref.onDragStart,node=_ref.node,disabled=_ref.disabled,initial=[width/2+x,height+y],targetRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),_useCanvas=Object(_CanvasProvider__WEBPACK_IMPORTED_MODULE_3__.b)(),zoom=_useCanvas.zoom,scrollXY=_useCanvas.scrollXY,layout=_useCanvas.layout,containerWidth=_useCanvas.containerWidth,containerRef=_useCanvas.containerRef,containerHeight=_useCanvas.containerHeight;return Object(react_use_gesture__WEBPACK_IMPORTED_MODULE_2__.a)((function(state){if("pointerdown"===state.event.type&&(targetRef.current=state.event.currentTarget),state.intentional&&targetRef.current){if(state.first){var memo=[Object(_helpers__WEBPACK_IMPORTED_MODULE_4__.b)({containerRef:containerRef,zoom:zoom,layout:layout,scrollXY:scrollXY,containerHeight:containerHeight,containerWidth:containerWidth})];return onDragStart(Object.assign({},state,{memo:memo}),initial,node),document.body.classList.add("dragging"),memo}onDrag(state,initial,node),state.last&&(targetRef.current=null,onDragEnd(state,initial,node),document.body.classList.remove("dragging"))}}),{enabled:!disabled,triggerAllEvents:!0,threshold:5})}},145:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Label_Label}));__webpack_require__(14);var jsx_runtime=__webpack_require__(2),classnames=(__webpack_require__(0),__webpack_require__(37)),classnames_default=__webpack_require__.n(classnames),Label_module=__webpack_require__(524),Label_module_default=__webpack_require__.n(Label_module),Label_Label=function Label(_ref){var text=_ref.text,x=_ref.x,y=_ref.y,style=_ref.style,className=_ref.className,originalText=_ref.originalText;return Object(jsx_runtime.jsxs)("g",{transform:"translate(".concat(x,", ").concat(y,")"),children:[Object(jsx_runtime.jsx)("title",{children:originalText}),Object(jsx_runtime.jsx)("text",{className:classnames_default()(Label_module_default.a.text,className),style:style,children:text})]})};Label_Label.displayName="Label";try{Label_Label.displayName="Label",Label_Label.__docgenInfo={description:"",displayName:"Label",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},originalText:{defaultValue:null,description:"",name:"originalText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Label/Label.tsx#Label"]={docgenInfo:Label_Label.__docgenInfo,name:"Label",path:"src/symbols/Label/Label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}},146:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Remove_Remove}));var jsx_runtime=__webpack_require__(2),classnames=(__webpack_require__(0),__webpack_require__(37)),classnames_default=__webpack_require__.n(classnames),framer_motion_es=__webpack_require__(35),Remove_module=__webpack_require__(147),Remove_module_default=__webpack_require__.n(Remove_module),Remove_Remove=function Remove(_ref){var _ref$size=_ref.size,size=void 0===_ref$size?15:_ref$size,className=_ref.className,hidden=_ref.hidden,x=_ref.x,y=_ref.y,_ref$onClick=_ref.onClick,_onClick=void 0===_ref$onClick?function(){}:_ref$onClick,_ref$onEnter=_ref.onEnter,onEnter=void 0===_ref$onEnter?function(){}:_ref$onEnter,_ref$onLeave=_ref.onLeave,onLeave=void 0===_ref$onLeave?function(){}:_ref$onLeave;if(hidden)return null;var half=size/2,translateX=x-half,translateY=y-half;return Object(jsx_runtime.jsxs)(framer_motion_es.motion.g,{className:classnames_default()(className,Remove_module_default.a.container),initial:{scale:0,opacity:0,translateX:translateX,translateY:translateY},animate:{scale:1,opacity:1,translateX:translateX,translateY:translateY},whileHover:{scale:1.2},whileTap:{scale:.8},children:[Object(jsx_runtime.jsx)("rect",{height:1.5*size,width:1.5*size,className:Remove_module_default.a.drop,onMouseEnter:onEnter,onMouseLeave:onLeave,onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),_onClick(event)}}),Object(jsx_runtime.jsx)("rect",{height:size,width:size,className:Remove_module_default.a.rect}),Object(jsx_runtime.jsx)("line",{x1:"2",y1:size-2,x2:size-2,y2:"2",className:Remove_module_default.a.deleteX,strokeWidth:"1"}),Object(jsx_runtime.jsx)("line",{x1:"2",y1:"2",x2:size-2,y2:size-2,className:Remove_module_default.a.deleteX,strokeWidth:"1"})]})};Remove_Remove.displayName="Remove";try{Remove_Remove.displayName="Remove",Remove_Remove.__docgenInfo={description:"",displayName:"Remove",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:15},description:"",name:"size",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onEnter:{defaultValue:{value:"() => undefined"},description:"",name:"onEnter",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>) => void"}},onLeave:{defaultValue:{value:"() => undefined"},description:"",name:"onLeave",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>) => void"}},onClick:{defaultValue:{value:"() => undefined"},description:"",name:"onClick",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Remove/Remove.tsx#Remove"]={docgenInfo:Remove_Remove.__docgenInfo,name:"Remove",path:"src/symbols/Remove/Remove.tsx#Remove"})}catch(__react_docgen_typescript_loader_error){}},147:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1153);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},148:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1154);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},179:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return measureText})),__webpack_require__.d(__webpack_exports__,"a",(function(){return formatText}));__webpack_require__(15);var calculate_size__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(521),calculate_size__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(calculate_size__WEBPACK_IMPORTED_MODULE_1__),ellipsize__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(522),ellipsize__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(ellipsize__WEBPACK_IMPORTED_MODULE_2__);function measureText(text){var result={height:0,width:0};return text&&(result=calculate_size__WEBPACK_IMPORTED_MODULE_1___default()(text,{font:"Arial, sans-serif",fontSize:"14px"})),result}function formatText(node){var text=node.text?ellipsize__WEBPACK_IMPORTED_MODULE_2___default()(node.text,35):node.text,labelDim=measureText(text),nodePadding=function parsePadding(padding){var top=50,right=50,bottom=50,left=50;return Array.isArray(padding)?2===padding.length?(top=padding[0],bottom=padding[0],left=padding[1],right=padding[1]):4===padding.length&&(top=padding[0],right=padding[1],bottom=padding[2],left=padding[3]):void 0!==padding&&(top=padding,right=padding,bottom=padding,left=padding),{top:top,right:right,bottom:bottom,left:left}}(node.nodePadding),width=node.width;void 0===width&&(text&&node.icon?width=labelDim.width+node.icon.width+30+10:(text?width=labelDim.width+30:node.icon&&(width=node.icon.width+30),width=Math.max(width,50)));var height=node.height;return void 0===height&&(text&&node.icon?height=labelDim.height+node.icon.height:text?height=labelDim.height+30:node.icon&&(height=node.icon.height+30),height=Math.max(height,50)),{text:text,originalText:node.text,width:width,height:height,nodePadding:nodePadding,labelHeight:labelDim.height,labelWidth:labelDim.width}}},229:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useLayout}));__webpack_require__(15),__webpack_require__(12),__webpack_require__(4);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_elkLayout__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(230),react_cool_dimensions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(523),react_fast_compare__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(240),react_fast_compare__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_fast_compare__WEBPACK_IMPORTED_MODULE_6__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useLayout=function useLayout(_ref){var maxWidth=_ref.maxWidth,maxHeight=_ref.maxHeight,_ref$nodes=_ref.nodes,nodes=void 0===_ref$nodes?[]:_ref$nodes,_ref$edges=_ref.edges,edges=void 0===_ref$edges?[]:_ref$edges,fit=_ref.fit,pannable=_ref.pannable,center=_ref.center,direction=_ref.direction,_ref$layoutOptions=_ref.layoutOptions,layoutOptions=void 0===_ref$layoutOptions?{}:_ref$layoutOptions,zoom=_ref.zoom,setZoom=_ref.setZoom,onLayoutChange=_ref.onLayoutChange,scrolled=Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(!1),_useDimensions=Object(react_cool_dimensions__WEBPACK_IMPORTED_MODULE_5__.a)(),ref=_useDimensions.ref,width=_useDimensions.width,height=_useDimensions.height,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(null),2),layout=_useState2[0],setLayout=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([0,0]),2),xy=_useState4[0],setXY=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([0,0]),2),scrollXY=_useState6[0],setScrollXY=_useState6[1],canvasHeight=pannable?maxHeight:height,canvasWidth=pannable?maxWidth:width;Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){var promise=Object(_elkLayout__WEBPACK_IMPORTED_MODULE_4__.a)(nodes,edges,Object.assign({"elk.direction":direction},layoutOptions));return promise.then((function(result){react_fast_compare__WEBPACK_IMPORTED_MODULE_6___default()(layout,result)||(setLayout(result),onLayoutChange(result))})).catch((function(err){"CancelError"!==err.name&&console.error("Layout Error:",err)})),function(){return promise.cancel()}}),[nodes,edges]);var centerVector=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(){if(center&&layout){var x=(canvasWidth-layout.width*zoom)/2,y=(canvasHeight-layout.height*zoom)/2;setXY([x,y])}}),[canvasWidth,canvasHeight,layout,zoom,center]),centerScroll=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(){pannable&&setScrollXY([(canvasWidth-width)/2,(canvasHeight-height)/2])}),[canvasWidth,canvasHeight,width,height,pannable]),centerCanvas=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(){centerVector(),centerScroll()}),[centerScroll,centerVector]);Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){var _ref$current;null==ref||null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.scrollTo(scrollXY[0],scrollXY[1])}),[scrollXY,ref]),Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){scrolled.current&&centerVector()}),[centerVector,zoom]);var fitCanvas=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(){if(layout){var heightZoom=height/layout.height,widthZoom=width/layout.width,scale=Math.min(heightZoom,widthZoom,1);setZoom(scale-1),centerCanvas()}}),[height,layout,width,setZoom,centerCanvas]);return Object(react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)((function(){ref.current&&!scrolled.current&&layout&&height&&width&&(fit?fitCanvas():centerCanvas(),scrolled.current=!0)}),[canvasWidth,pannable,canvasHeight,layout,height,fit,width,center,centerCanvas,fitCanvas,ref]),Object(react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)((function(){function onResize(){fit?fitCanvas():centerCanvas()}return window.addEventListener("resize",onResize),function(){return window.removeEventListener("resize",onResize)}}),[fit,centerCanvas,fitCanvas]),{xy:xy,containerRef:ref,canvasHeight:canvasHeight,canvasWidth:canvasWidth,containerWidth:width,containerHeight:height,layout:layout,scrollXY:scrollXY,centerCanvas:centerCanvas,fitCanvas:fitCanvas}}},230:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return elkLayout}));__webpack_require__(14),__webpack_require__(43),__webpack_require__(22),__webpack_require__(4);var elkjs_lib_elk_bundled__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(519),elkjs_lib_elk_bundled__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(elkjs_lib_elk_bundled__WEBPACK_IMPORTED_MODULE_4__),p_cancelable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(520),p_cancelable__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(p_cancelable__WEBPACK_IMPORTED_MODULE_5__),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(179);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultLayoutOptions={"elk.nodeLabels.placement":"INSIDE V_CENTER H_RIGHT","elk.algorithm":"org.eclipse.elk.layered","elk.direction":"DOWN","org.eclipse.elk.layered.layering.strategy":"INTERACTIVE","org.eclipse.elk.edgeRouting":"ORTHOGONAL","elk.layered.unnecessaryBendpoints":"true","elk.layered.spacing.edgeNodeBetweenLayers":"50","org.eclipse.elk.layered.nodePlacement.bk.fixedAlignment":"BALANCED","org.eclipse.elk.layered.cycleBreaking.strategy":"DEPTH_FIRST","org.eclipse.elk.insideSelfLoops.activate":"true",separateConnectedComponents:"false","spacing.componentComponent":"70",spacing:"75","spacing.nodeNodeBetweenLayers":"70"};function mapNode(nodes,edges,node){var _formatText=Object(_utils__WEBPACK_IMPORTED_MODULE_6__.a)(node),text=_formatText.text,width=_formatText.width,height=_formatText.height,labelHeight=_formatText.labelHeight,labelWidth=_formatText.labelWidth,nodePadding=_formatText.nodePadding,originalText=_formatText.originalText,children=nodes.filter((function(n){return n.parent===node.id})).map((function(n){return mapNode(nodes,edges,n)})),childEdges=edges.filter((function(e){return e.parent===node.id})).map((function(e){return mapEdge(e)})),nodeLayoutOptions=Object.assign({"elk.padding":"[left=".concat(nodePadding.left,", top=").concat(nodePadding.top,", right=").concat(nodePadding.right,", bottom=").concat(nodePadding.bottom,"]"),portConstraints:"FIXED_ORDER"},node.layoutOptions||{});return{id:node.id,height:height,width:width,children:children,edges:childEdges,ports:node.ports?node.ports.map((function(port){return{id:port.id,properties:Object.assign({},port,{"port.side":port.side,"port.alignment":port.alignment||"CENTER"})}})):[],layoutOptions:nodeLayoutOptions,properties:Object.assign({},node),labels:text?[{width:labelWidth,height:-labelHeight/2,text:text,originalText:originalText}]:[]}}function mapEdge(edge){var labelDim=Object(_utils__WEBPACK_IMPORTED_MODULE_6__.b)(edge.text);return{id:edge.id,source:edge.from,target:edge.to,properties:Object.assign({},edge),sourcePort:edge.fromPort,targetPort:edge.toPort,labels:edge.text?[{width:labelDim.width/2,height:-labelDim.height/2,text:edge.text,layoutOptions:{"elk.edgeLabels.placement":"INSIDE V_CENTER H_CENTER"}}]:[]}}function postProcessNode(nodes){var _step3,_iterator3=_createForOfIteratorHelper(nodes);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _node$labels,node=_step3.value,hasLabels=(null===(_node$labels=node.labels)||void 0===_node$labels?void 0:_node$labels.length)>0;if(hasLabels&&node.properties.icon)_slicedToArray(node.labels,1)[0].x=node.properties.icon.width+25,node.properties.icon.x=25,node.properties.icon.y=node.height/2;else if(hasLabels){var _label=_slicedToArray(node.labels,1)[0];_label.x=(node.width-_label.width)/2}else node.properties.icon&&(node.properties.icon.x=node.width/2,node.properties.icon.y=node.height/2);node.children&&postProcessNode(node.children)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return nodes}var elkLayout=function elkLayout(nodes,edges,options){var graph=new elkjs_lib_elk_bundled__WEBPACK_IMPORTED_MODULE_4___default.a,layoutOptions=Object.assign({},defaultLayoutOptions,options);return new p_cancelable__WEBPACK_IMPORTED_MODULE_5___default.a((function(resolve,reject){graph.layout(Object.assign({id:"root"},function mapInput(nodes,edges){var _step,children=[],mappedEdges=[],_iterator=_createForOfIteratorHelper(nodes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;if(!node.parent){var mappedNode=mapNode(nodes,edges,node);null!==mappedNode&&children.push(mappedNode)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(edges);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var edge=_step2.value;if(!edge.parent){var mappedEdge=mapEdge(edge);null!==mappedEdge&&mappedEdges.push(mappedEdge)}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return{children:children,edges:mappedEdges}}(nodes,edges)),{layoutOptions:layoutOptions}).then((function(data){resolve(Object.assign({},data,{children:postProcessNode(data.children)}))})).catch(reject)}))}},231:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useEdgeDrag}));__webpack_require__(15);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),kld_affine__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useEdgeDrag=function useEdgeDrag(_ref){var onNodeLink=_ref.onNodeLink,onNodeLinkCheck=_ref.onNodeLinkCheck,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),dragNode=_useState2[0],setDragNode=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),dragPort=_useState4[0],setDragPort=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),enteredNode=_useState6[0],setEnteredNode=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),dragCoords=_useState8[0],setDragCoords=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),canLinkNode=_useState10[0],setCanLinkNode=_useState10[1];return{dragCoords:dragCoords,canLinkNode:canLinkNode,dragNode:dragNode,dragPort:dragPort,enteredNode:enteredNode,onDragStart:function onDragStart(_state,_initial,node,port){setDragNode(node),setDragPort(port)},onDrag:function onDrag(_ref2,_ref3){var matrix=_slicedToArray(_ref2.memo,1)[0],_ref2$xy=_slicedToArray(_ref2.xy,2),x=_ref2$xy[0],y=_ref2$xy[1],_ref4=_slicedToArray(_ref3,2),ix=_ref4[0],iy=_ref4[1],endPoint=new kld_affine__WEBPACK_IMPORTED_MODULE_2__.b(x,y).transform(matrix);setDragCoords([{startPoint:{x:ix,y:iy},endPoint:endPoint}])},onDragEnd:function onDragEnd(){dragNode&&enteredNode&&canLinkNode&&onNodeLink(dragNode,enteredNode,dragPort),setDragNode(null),setDragPort(null),setEnteredNode(null),setDragCoords(null)},onEnter:function onEnter(_event,node){if(setEnteredNode(node),dragNode&&node){var canLink=onNodeLinkCheck(dragNode,node,dragPort),result=(void 0===canLink||canLink)&&dragNode.parent===node.parent;setCanLinkNode(result)}},onLeave:function onLeave(){setEnteredNode(null),setCanLinkNode(null)}}}},232:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useZoom}));__webpack_require__(15);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_use_gesture__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(242);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var limit=function limit(scale,min,max){return scale<max?scale>min?scale:min:max},useZoom=function useZoom(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$zoom=_ref.zoom,zoom=void 0===_ref$zoom?1:_ref$zoom,_ref$minZoom=_ref.minZoom,minZoom=void 0===_ref$minZoom?-.5:_ref$minZoom,_ref$maxZoom=_ref.maxZoom,maxZoom=void 0===_ref$maxZoom?1:_ref$maxZoom,onZoomChange=_ref.onZoomChange,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(zoom-1),2),factor=_useState2[0],setFactor=_useState2[1],svgRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);Object(react_use_gesture__WEBPACK_IMPORTED_MODULE_2__.b)({onPinch:function onPinch(_ref2){var d=_slicedToArray(_ref2.offset,1)[0];_ref2.event.preventDefault();var next=limit(d/100,minZoom,maxZoom);setFactor(next),onZoomChange(next+1)}},{enabled:!disabled,domTarget:svgRef,eventOptions:{passive:!1}});var setZoom=function setZoom(f){var next=limit(f,minZoom,maxZoom);setFactor(next),onZoomChange(next+1)};return{svgRef:svgRef,zoom:factor+1,setZoom:setZoom,zoomIn:function zoomIn(){setZoom(factor+.1)},zoomOut:function zoomOut(){setZoom(factor-.1)}}}},233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Arrow_Arrow})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MarkerArrow_MarkerArrow}));__webpack_require__(14);var jsx_runtime=__webpack_require__(2),classnames=(__webpack_require__(0),__webpack_require__(37)),classnames_default=__webpack_require__.n(classnames),Arrow_module=__webpack_require__(525),Arrow_module_default=__webpack_require__.n(Arrow_module),Arrow_Arrow=function Arrow(_ref){var _ref$size=_ref.size,size=void 0===_ref$size?8:_ref$size,_ref$y=_ref.y,y=void 0===_ref$y?0:_ref$y,_ref$x=_ref.x,x=void 0===_ref$x?0:_ref$x,_ref$angle=_ref.angle,angle=void 0===_ref$angle?0:_ref$angle,className=_ref.className,style=_ref.style;return Object(jsx_runtime.jsx)("path",{style:style,transform:"translate(".concat(x,", ").concat(y,") rotate(").concat(angle,")"),className:classnames_default()(Arrow_module_default.a.arrow,className),d:"M0,-".concat(size/2,"L").concat(size,",0L0,").concat(size/2)})};Arrow_Arrow.displayName="Arrow";try{Arrow_Arrow.displayName="Arrow",Arrow_Arrow.__docgenInfo={description:"",displayName:"Arrow",props:{size:{defaultValue:{value:8},description:"",name:"size",required:!1,type:{name:"number"}},x:{defaultValue:{value:0},description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:{value:0},description:"",name:"y",required:!1,type:{name:"number"}},angle:{defaultValue:{value:0},description:"",name:"angle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Arrow/Arrow.tsx#Arrow"]={docgenInfo:Arrow_Arrow.__docgenInfo,name:"Arrow",path:"src/symbols/Arrow/Arrow.tsx#Arrow"})}catch(__react_docgen_typescript_loader_error){}var MarkerArrow_MarkerArrow=function MarkerArrow(_ref){var _ref$size=_ref.size,size=void 0===_ref$size?8:_ref$size,className=_ref.className,style=_ref.style;return Object(jsx_runtime.jsx)("marker",{id:"end-arrow",viewBox:"0 -".concat(size/2," ").concat(size," ").concat(size),refX:"".concat(size),markerWidth:"".concat(size),markerHeight:"".concat(size),orient:"auto",children:Object(jsx_runtime.jsx)(Arrow_Arrow,{size:size,style:style,className:className})},"end-arrow")};MarkerArrow_MarkerArrow.displayName="MarkerArrow";try{MarkerArrow_MarkerArrow.displayName="MarkerArrow",MarkerArrow_MarkerArrow.__docgenInfo={description:"",displayName:"MarkerArrow",props:{size:{defaultValue:{value:8},description:"",name:"size",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Arrow/MarkerArrow.tsx#MarkerArrow"]={docgenInfo:MarkerArrow_MarkerArrow.__docgenInfo,name:"MarkerArrow",path:"src/symbols/Arrow/MarkerArrow.tsx#MarkerArrow"})}catch(__react_docgen_typescript_loader_error){}},234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Node_Node}));__webpack_require__(14),__webpack_require__(43),__webpack_require__(56),__webpack_require__(22),__webpack_require__(4),__webpack_require__(64);var jsx_runtime=__webpack_require__(2),react=__webpack_require__(0),framer_motion_es=__webpack_require__(35),Port=__webpack_require__(235),Label=__webpack_require__(145),dist=__webpack_require__(45),classnames=__webpack_require__(37),classnames_default=__webpack_require__.n(classnames),Remove=__webpack_require__(146),useNodeDrag=__webpack_require__(144),Edge=__webpack_require__(130),CanvasProvider=__webpack_require__(73),helpers=__webpack_require__(118),Node_module=__webpack_require__(106),Node_module_default=__webpack_require__.n(Node_module);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Node_Node=function Node(_ref){var _classNames,id=_ref.id,x=_ref.x,y=_ref.y,ports=_ref.ports,labels=_ref.labels,height=_ref.height,width=_ref.width,properties=_ref.properties,className=_ref.className,_ref$rx=_ref.rx,rx=void 0===_ref$rx?2:_ref$rx,_ref$ry=_ref.ry,ry=void 0===_ref$ry?2:_ref$ry,_ref$offsetX=_ref.offsetX,offsetX=void 0===_ref$offsetX?0:_ref$offsetX,_ref$offsetY=_ref.offsetY,offsetY=void 0===_ref$offsetY?0:_ref$offsetY,icon=_ref.icon,disabled=_ref.disabled,style=_ref.style,children=_ref.children,nodes=_ref.nodes,edges=_ref.edges,_ref$childEdge=_ref.childEdge,childEdge=void 0===_ref$childEdge?Object(jsx_runtime.jsx)(Edge.a,{}):_ref$childEdge,_ref$childNode=_ref.childNode,childNode=void 0===_ref$childNode?Object(jsx_runtime.jsx)(Node,{}):_ref$childNode,_ref$remove=_ref.remove,remove=void 0===_ref$remove?Object(jsx_runtime.jsx)(Remove.a,{}):_ref$remove,_ref$port=_ref.port,port=void 0===_ref$port?Object(jsx_runtime.jsx)(Port.a,{}):_ref$port,_ref$label=_ref.label,label=void 0===_ref$label?Object(jsx_runtime.jsx)(Label.a,{}):_ref$label,_ref$onRemove=_ref.onRemove,onRemove=void 0===_ref$onRemove?function(){}:_ref$onRemove,_ref$onDrag=_ref.onDrag,_onDrag=void 0===_ref$onDrag?function(){}:_ref$onDrag,_ref$onDragStart=_ref.onDragStart,_onDragStart=void 0===_ref$onDragStart?function(){}:_ref$onDragStart,_ref$onDragEnd=_ref.onDragEnd,_onDragEnd=void 0===_ref$onDragEnd?function(){}:_ref$onDragEnd,_ref$onClick=_ref.onClick,_onClick=void 0===_ref$onClick?function(){}:_ref$onClick,_ref$onKeyDown=_ref.onKeyDown,_onKeyDown=void 0===_ref$onKeyDown?function(){}:_ref$onKeyDown,_ref$onEnter=_ref.onEnter,onEnter=void 0===_ref$onEnter?function(){}:_ref$onEnter,_ref$onLeave=_ref.onLeave,onLeave=void 0===_ref$onLeave?function(){}:_ref$onLeave,controls=Object(framer_motion_es.useAnimation)(),_useCanvas=Object(CanvasProvider.b)(),canLinkNode=_useCanvas.canLinkNode,enteredNode=_useCanvas.enteredNode,selections=_useCanvas.selections,readonly=_useCanvas.readonly,canvas=_objectWithoutProperties(_useCanvas,["canLinkNode","enteredNode","selections","readonly"]),_useState2=_slicedToArray(Object(react.useState)(!1),2),deleteHovered=_useState2[0],setDeleteHovered=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),dragging=_useState4[0],setDragging=_useState4[1],isActive=null!=selections&&selections.length?selections.includes(properties.id):null,newX=x+offsetX,newY=y+offsetY,isLinkable=Object(helpers.a)(properties,enteredNode,canLinkNode),isMultiPort=(null==ports?void 0:ports.filter((function(p){var _p$properties;return!(null!==(_p$properties=p.properties)&&void 0!==_p$properties&&_p$properties.hidden)})).length)>1,bind=Object(useNodeDrag.a)({x:newX,y:newY,height:height,width:width,disabled:disabled||isMultiPort||readonly,node:properties,onDrag:function onDrag(){canvas.onDrag.apply(canvas,arguments),_onDrag.apply(void 0,arguments)},onDragStart:function onDragStart(){canvas.onDragStart.apply(canvas,arguments),_onDragStart.apply(void 0,arguments),setDragging(!0)},onDragEnd:function onDragEnd(){canvas.onDragEnd.apply(canvas,arguments),_onDragEnd.apply(void 0,arguments),setDragging(!1)}});Object(react.useEffect)((function(){controls.set({opacity:1,translateX:x,translateY:y})}),[controls,x,y]);var nodeChildProps={height:height,width:width,x:x,y:y,node:properties,nodes:nodes,edges:edges};return Object(jsx_runtime.jsxs)(framer_motion_es.motion.g,{initial:{cursor:"initial",opacity:0,translateX:x,translateY:y},animate:controls,children:[Object(jsx_runtime.jsx)(framer_motion_es.motion.rect,Object.assign({},bind(),{tabIndex:-1,onKeyDown:function onKeyDown(event){event.preventDefault(),_onKeyDown(event,properties)},onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),_onClick(event,properties)},onTouchStart:function onTouchStart(event){event.preventDefault(),event.stopPropagation()},onMouseEnter:function onMouseEnter(event){event.stopPropagation(),canvas.onEnter(event,properties),onEnter(event,properties)},onMouseLeave:function onMouseLeave(event){event.stopPropagation(),canvas.onLeave(event,properties),onLeave(event,properties)},className:classnames_default()(Node_module_default.a.rect,className,null==properties?void 0:properties.className,(_classNames={},_defineProperty(_classNames,Node_module_default.a.active,isActive),_defineProperty(_classNames,Node_module_default.a.disabled,disabled||(null==properties?void 0:properties.disabled)),_defineProperty(_classNames,Node_module_default.a.unlinkable,!1===isLinkable),_defineProperty(_classNames,Node_module_default.a.dragging,dragging),_defineProperty(_classNames,Node_module_default.a.children,(null==nodes?void 0:nodes.length)>0),_defineProperty(_classNames,Node_module_default.a.deleteHovered,deleteHovered),_defineProperty(_classNames,Node_module_default.a.selectionDisabled,null==properties?void 0:properties.selectionDisabled),_classNames)),style:style,height:height,width:width,rx:rx,ry:ry,initial:{opacity:0},animate:{opacity:1}})),children&&Object(jsx_runtime.jsx)(react.Fragment,{children:"function"==typeof children?children(nodeChildProps):children}),icon&&properties.icon&&Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:icon},properties.icon)),label&&(null==labels?void 0:labels.length)>0&&labels.map((function(l,index){return Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:label},l),index)})),port&&(null==ports?void 0:ports.length)>0&&ports.map((function(p){return Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:port,active:!isMultiPort&&dragging,disabled:disabled,offsetX:newX,offsetY:newY,onDragStart:function onDragStart(event,initial,data){canvas.onDragStart(event,initial,properties,data),_onDragStart(event,initial,properties,data),setDragging(!0)},onDrag:function onDrag(event,initial,data){canvas.onDrag(event,initial,properties,data),_onDrag(event,initial,properties,data)},onDragEnd:function onDragEnd(event,initial,data){canvas.onDragEnd(event,initial,properties,data),_onDragEnd(event,initial,properties,data),setDragging(!1)}},p),p.id)})),!disabled&&isActive&&!readonly&&remove&&Object(jsx_runtime.jsx)(dist.CloneElement,{element:remove,y:height/2,x:width,onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),onRemove(event,properties),setDeleteHovered(!1)},onEnter:function onEnter(){return setDeleteHovered(!0)},onLeave:function onLeave(){return setDeleteHovered(!1)}}),Object(jsx_runtime.jsxs)("g",{children:[(null==edges?void 0:edges.length)>0&&edges.map((function(e){var element="function"==typeof childEdge?childEdge(e):childEdge;return Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:element,id:"".concat(id,"-edge-").concat(e.id),disabled:disabled},e),e.id)})),(null==nodes?void 0:nodes.length)>0&&nodes.map((function(_ref2){var children=_ref2.children,n=_objectWithoutProperties(_ref2,["children"]),element="function"==typeof childNode?childNode(n):childNode;return Object(jsx_runtime.jsx)(dist.CloneElement,Object.assign({element:element,id:"".concat(id,"-node-").concat(n.id),disabled:disabled,nodes:children,offsetX:newX,offsetY:newY,children:element.props.children,childNode:childNode,childEdge:childEdge,onDragStart:_onDragStart,onDrag:_onDrag,onDragEnd:_onDragEnd,onClick:_onClick,onEnter:onEnter,onLeave:onLeave,onKeyDown:_onKeyDown,onRemove:onRemove},n),n.id)}))]})]})};Node_Node.displayName="Node";try{Node_Node.displayName="Node",Node_Node.__docgenInfo={description:"",displayName:"Node",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},rx:{defaultValue:{value:2},description:"",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:{value:2},description:"",name:"ry",required:!1,type:{name:"number"}},offsetX:{defaultValue:{value:0},description:"",name:"offsetX",required:!1,type:{name:"number"}},offsetY:{defaultValue:{value:0},description:"",name:"offsetY",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},ports:{defaultValue:null,description:"",name:"ports",required:!1,type:{name:"PortProps[]"}},labels:{defaultValue:null,description:"",name:"labels",required:!1,type:{name:"LabelProps[]"}},properties:{defaultValue:null,description:"",name:"properties",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},parent:{defaultValue:null,description:"",name:"parent",required:!1,type:{name:"string"}},nodes:{defaultValue:null,description:"",name:"nodes",required:!1,type:{name:"NodeData<any>[]"}},edges:{defaultValue:null,description:"",name:"edges",required:!1,type:{name:"EdgeData<any>[]"}},onRemove:{defaultValue:{value:"() => undefined"},description:"",name:"onRemove",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, node: NodeData<any>) => void"}},onClick:{defaultValue:{value:"() => undefined"},description:"",name:"onClick",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, data: NodeData<any>) => void"}},onKeyDown:{defaultValue:{value:"() => undefined"},description:"",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<SVGGElement>, data: NodeData<any>) => void"}},onEnter:{defaultValue:{value:"() => undefined"},description:"",name:"onEnter",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, node: NodeData<any>) => void"}},onLeave:{defaultValue:{value:"() => undefined"},description:"",name:"onLeave",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, node: NodeData<any>) => void"}},childNode:{defaultValue:{value:"<Node />"},description:"",name:"childNode",required:!1,type:{name:"ReactElement<NodeProps, FC<Partial<NodeProps>>> | ((node: NodeProps) => ReactElement<NodeProps, FC<Partial<NodeProps>>>)"}},childEdge:{defaultValue:{value:"<Edge />"},description:"",name:"childEdge",required:!1,type:{name:"ReactElement<EdgeProps, FC<Partial<EdgeProps>>> | ((edge: EdgeProps) => ReactElement<NodeProps, FC<Partial<EdgeProps>>>)"}},remove:{defaultValue:{value:"<Remove />"},description:"",name:"remove",required:!1,type:{name:"ReactElement<RemoveProps, FC<Partial<RemoveProps>>>"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<IconProps, FC<Partial<IconProps>>>"}},label:{defaultValue:{value:"<Label />"},description:"",name:"label",required:!1,type:{name:"ReactElement<LabelProps, FC<Partial<LabelProps>>>"}},port:{defaultValue:{value:"<Port />"},description:"",name:"port",required:!1,type:{name:"ReactElement<PortProps, ForwardRefExoticComponent<Partial<PortProps> & RefAttributes<SVGRectElement>>>"}},onDrag:{defaultValue:{value:"() => undefined"},description:"",name:"onDrag",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: NodeData<any>, extra?: PortData) => void"}},onDragEnd:{defaultValue:{value:"() => undefined"},description:"",name:"onDragEnd",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: NodeData<any>, extra?: PortData) => void"}},onDragStart:{defaultValue:{value:"() => undefined"},description:"",name:"onDragStart",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: NodeData<any>, extra?: PortData) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Node/Node.tsx#Node"]={docgenInfo:Node_Node.__docgenInfo,name:"Node",path:"src/symbols/Node/Node.tsx#Node"})}catch(__react_docgen_typescript_loader_error){}},235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Port_Port}));__webpack_require__(14),__webpack_require__(15),__webpack_require__(4);var jsx_runtime=__webpack_require__(2),react=__webpack_require__(0),framer_motion_es=__webpack_require__(35),useNodeDrag=__webpack_require__(144),classnames=__webpack_require__(37),classnames_default=__webpack_require__.n(classnames),CanvasProvider=__webpack_require__(73),Port_module=__webpack_require__(244),Port_module_default=__webpack_require__.n(Port_module);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Port_Port=Object(react.forwardRef)((function(_ref,ref){var x=_ref.x,y=_ref.y,rx=_ref.rx,ry=_ref.ry,disabled=_ref.disabled,style=_ref.style,children=_ref.children,properties=_ref.properties,offsetX=_ref.offsetX,offsetY=_ref.offsetY,className=_ref.className,active=_ref.active,_ref$onDrag=_ref.onDrag,onDrag=void 0===_ref$onDrag?function(){}:_ref$onDrag,_ref$onDragStart=_ref.onDragStart,onDragStart=void 0===_ref$onDragStart?function(){}:_ref$onDragStart,_ref$onDragEnd=_ref.onDragEnd,onDragEnd=void 0===_ref$onDragEnd?function(){}:_ref$onDragEnd,_ref$onEnter=_ref.onEnter,onEnter=void 0===_ref$onEnter?function(){}:_ref$onEnter,_ref$onLeave=_ref.onLeave,onLeave=void 0===_ref$onLeave?function(){}:_ref$onLeave,_ref$onClick=_ref.onClick,_onClick=void 0===_ref$onClick?function(){}:_ref$onClick,readonly=Object(CanvasProvider.b)().readonly,_useState2=_slicedToArray(Object(react.useState)(!1),2),isDragging=_useState2[0],setIsDragging=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),isHovered=_useState4[0],setIsHovered=_useState4[1],newX=x-properties.width/2,newY=y-properties.height/2,bind=Object(useNodeDrag.a)({x:newX+offsetX,y:newY+offsetY,height:properties.height,width:properties.width,disabled:disabled||readonly||(null==properties?void 0:properties.disabled),node:properties,onDrag:onDrag,onDragStart:function onDragStartInternal(event,initial){onDragStart(event,initial,properties),setIsDragging(!0)},onDragEnd:function onDragEndInternal(event,initial){onDragEnd(event,initial,properties),setIsDragging(!1)}});if(properties.hidden)return null;var obj,key,value,isDisabled=properties.disabled||disabled,portChildProps={port:properties,isDragging:isDragging,isHovered:isHovered,isDisabled:isDisabled,x:x,y:y,rx:rx,ry:ry,offsetX:offsetX,offsetY:offsetY};return Object(jsx_runtime.jsxs)("g",{children:[Object(jsx_runtime.jsx)("rect",Object.assign({},bind(),{ref:ref,height:properties.height+14,width:properties.width+14,x:newX-7,y:newY-7,className:classnames_default()(Port_module_default.a.clicker,(obj={},key=Port_module_default.a.disabled,value=isDisabled,key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj)),onMouseEnter:function onMouseEnter(event){event.stopPropagation(),setIsHovered(!0),onEnter(event,properties)},onMouseLeave:function onMouseLeave(event){event.stopPropagation(),setIsHovered(!1),onLeave(event,properties)},onClick:function onClick(event){event.stopPropagation(),_onClick(event,properties)}})),Object(jsx_runtime.jsx)(framer_motion_es.motion.rect,{style:style,className:classnames_default()(Port_module_default.a.port,className,null==properties?void 0:properties.className),height:properties.height,width:properties.width,rx:rx,ry:ry,initial:{scale:0,opacity:0,x:newX,y:newY},animate:{x:newX,y:newY,scale:(isDragging||active||isHovered)&&!isDisabled?1.5:1,opacity:1}},"".concat(x,"-").concat(y)),children&&Object(jsx_runtime.jsx)(react.Fragment,{children:"function"==typeof children?children(portChildProps):children})]})}));try{Port_Port.displayName="Port",Port_Port.__docgenInfo={description:"",displayName:"Port",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},rx:{defaultValue:null,description:"",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:null,description:"",name:"ry",required:!1,type:{name:"number"}},offsetX:{defaultValue:null,description:"",name:"offsetX",required:!1,type:{name:"number"}},offsetY:{defaultValue:null,description:"",name:"offsetY",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},properties:{defaultValue:null,description:"",name:"properties",required:!1,type:{name:"ElkPortProperties & PortData"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},onEnter:{defaultValue:{value:"() => undefined"},description:"",name:"onEnter",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, port: PortData) => void"}},onLeave:{defaultValue:{value:"() => undefined"},description:"",name:"onLeave",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, port: PortData) => void"}},onClick:{defaultValue:{value:"() => undefined"},description:"",name:"onClick",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, port: PortData) => void"}},onDrag:{defaultValue:{value:"() => undefined"},description:"",name:"onDrag",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: PortData, extra?: any) => void"}},onDragEnd:{defaultValue:{value:"() => undefined"},description:"",name:"onDragEnd",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: PortData, extra?: any) => void"}},onDragStart:{defaultValue:{value:"() => undefined"},description:"",name:"onDragStart",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: PortData, extra?: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Port/Port.tsx#Port"]={docgenInfo:Port_Port.__docgenInfo,name:"Port",path:"src/symbols/Port/Port.tsx#Port"})}catch(__react_docgen_typescript_loader_error){}try{Port.displayName="Port",Port.__docgenInfo={description:"",displayName:"Port",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},rx:{defaultValue:null,description:"",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:null,description:"",name:"ry",required:!1,type:{name:"number"}},offsetX:{defaultValue:null,description:"",name:"offsetX",required:!1,type:{name:"number"}},offsetY:{defaultValue:null,description:"",name:"offsetY",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},properties:{defaultValue:null,description:"",name:"properties",required:!1,type:{name:"ElkPortProperties & PortData"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},onEnter:{defaultValue:{value:"() => undefined"},description:"",name:"onEnter",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, port: PortData) => void"}},onLeave:{defaultValue:{value:"() => undefined"},description:"",name:"onLeave",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, port: PortData) => void"}},onClick:{defaultValue:{value:"() => undefined"},description:"",name:"onClick",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>, port: PortData) => void"}},onDrag:{defaultValue:{value:"() => undefined"},description:"",name:"onDrag",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: PortData, extra?: any) => void"}},onDragEnd:{defaultValue:{value:"() => undefined"},description:"",name:"onDragEnd",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: PortData, extra?: any) => void"}},onDragStart:{defaultValue:{value:"() => undefined"},description:"",name:"onDragStart",required:!1,type:{name:"(event: CommonGestureState & Coordinates & DragState, initial: Position, data: PortData, extra?: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Port/index.tsx#Port"]={docgenInfo:Port.__docgenInfo,name:"Port",path:"src/symbols/Port/index.tsx#Port"})}catch(__react_docgen_typescript_loader_error){}},236:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Add_Add}));var jsx_runtime=__webpack_require__(2),classnames=(__webpack_require__(0),__webpack_require__(37)),classnames_default=__webpack_require__.n(classnames),framer_motion_es=__webpack_require__(35),Add_module=__webpack_require__(148),Add_module_default=__webpack_require__.n(Add_module),Add_Add=function Add(_ref){var x=_ref.x,y=_ref.y,className=_ref.className,_ref$size=_ref.size,size=void 0===_ref$size?15:_ref$size,_ref$hidden=_ref.hidden,hidden=void 0===_ref$hidden||_ref$hidden,_ref$onEnter=_ref.onEnter,onEnter=void 0===_ref$onEnter?function(){}:_ref$onEnter,_ref$onLeave=_ref.onLeave,onLeave=void 0===_ref$onLeave?function(){}:_ref$onLeave,_ref$onClick=_ref.onClick,_onClick=void 0===_ref$onClick?function(){}:_ref$onClick;if(hidden)return null;var half=size/2,translateX=x-half,translateY=y-half;return Object(jsx_runtime.jsxs)(framer_motion_es.motion.g,{className:classnames_default()(className,Add_module_default.a.container),initial:{scale:0,opacity:0,translateX:translateX,translateY:translateY},animate:{scale:1,opacity:1,translateX:translateX,translateY:translateY},whileHover:{scale:1.2},whileTap:{scale:.8},children:[Object(jsx_runtime.jsx)("rect",{height:2*size,width:2*size,className:Add_module_default.a.drop,onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),_onClick(event)},onMouseEnter:onEnter,onMouseLeave:onLeave}),Object(jsx_runtime.jsx)("rect",{height:size,width:size,className:Add_module_default.a.rect}),Object(jsx_runtime.jsx)("line",{x1:"2",x2:size-2,y1:half,y2:half,className:Add_module_default.a.plus,strokeWidth:"1"}),Object(jsx_runtime.jsx)("line",{x1:half,x2:half,y1:"2",y2:size-2,className:Add_module_default.a.plus,strokeWidth:"1"})]})};Add_Add.displayName="Add";try{Add_Add.displayName="Add",Add_Add.__docgenInfo={description:"",displayName:"Add",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},size:{defaultValue:{value:15},description:"",name:"size",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},hidden:{defaultValue:{value:!0},description:"",name:"hidden",required:!1,type:{name:"boolean"}},onEnter:{defaultValue:{value:"() => undefined"},description:"",name:"onEnter",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>) => void"}},onLeave:{defaultValue:{value:"() => undefined"},description:"",name:"onLeave",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>) => void"}},onClick:{defaultValue:{value:"() => undefined"},description:"",name:"onClick",required:!1,type:{name:"(event: MouseEvent<SVGGElement, MouseEvent>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Add/Add.tsx#Add"]={docgenInfo:Add_Add.__docgenInfo,name:"Add",path:"src/symbols/Add/Add.tsx#Add"})}catch(__react_docgen_typescript_loader_error){}},244:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1151);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return Arrow.a})),__webpack_require__.d(__webpack_exports__,"f",(function(){return Arrow.b})),__webpack_require__.d(__webpack_exports__,"c",(function(){return Edge.a})),__webpack_require__.d(__webpack_exports__,"e",(function(){return Label.a})),__webpack_require__.d(__webpack_exports__,"g",(function(){return Node.a})),__webpack_require__.d(__webpack_exports__,"h",(function(){return Port.a})),__webpack_require__.d(__webpack_exports__,"d",(function(){return Icon_Icon})),__webpack_require__.d(__webpack_exports__,"i",(function(){return Remove.a})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Add.a}));var Arrow=__webpack_require__(233),Edge=__webpack_require__(130),Label=__webpack_require__(145),Node=__webpack_require__(234),Port=__webpack_require__(235),jsx_runtime=(__webpack_require__(14),__webpack_require__(2)),classnames=(__webpack_require__(0),__webpack_require__(37)),classnames_default=__webpack_require__.n(classnames),Icon_module=__webpack_require__(526),Icon_module_default=__webpack_require__.n(Icon_module),Icon_Icon=function Icon(_ref){var x=_ref.x,y=_ref.y,url=_ref.url,style=_ref.style,className=_ref.className,_ref$height=_ref.height,height=void 0===_ref$height?40:_ref$height,_ref$width=_ref.width,width=void 0===_ref$width?40:_ref$width;return Object(jsx_runtime.jsx)("g",{className:classnames_default()(Icon_module_default.a.icon,className),transform:"translate(".concat(x-width/2,", ").concat(y-height/2,")"),children:Object(jsx_runtime.jsx)("image",{style:style,xlinkHref:url,width:width,height:height})})};Icon_Icon.displayName="Icon";try{Icon_Icon.displayName="Icon",Icon_Icon.__docgenInfo={description:"",displayName:"Icon",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},height:{defaultValue:{value:40},description:"",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:{value:40},description:"",name:"width",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/symbols/Icon/Icon.tsx#Icon"]={docgenInfo:Icon_Icon.__docgenInfo,name:"Icon",path:"src/symbols/Icon/Icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}var Remove=__webpack_require__(146),Add=__webpack_require__(236)},354:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1158);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},38:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return useSelection_useSelection})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useUndo_useUndo})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useProximity_useProximity})),__webpack_require__.d(__webpack_exports__,"e",(function(){return upsertNode})),__webpack_require__.d(__webpack_exports__,"d",(function(){return removeAndUpsertNodes})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addNodeAndEdge})),__webpack_require__.d(__webpack_exports__,"c",(function(){return hasLink})),__webpack_require__.d(__webpack_exports__,"b",(function(){return detectCircular}));__webpack_require__(14),__webpack_require__(43),__webpack_require__(56),__webpack_require__(15),__webpack_require__(22),__webpack_require__(64);var react=__webpack_require__(0),dist=__webpack_require__(243);__webpack_require__(90),__webpack_require__(506),__webpack_require__(342),__webpack_require__(481),__webpack_require__(4);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function upsertNode(nodes,edges,edge,newNode){var oldEdgeIndex=edges.findIndex((function(e){return e.id===edge.id})),edgeBeforeNewNode=Object.assign({},edge,{id:"".concat(edge.from,"-").concat(newNode.id),to:newNode.id}),edgeAfterNewNode=Object.assign({},edge,{id:"".concat(newNode.id,"-").concat(edge.to),from:newNode.id});return edge.fromPort&&edge.toPort&&(edgeBeforeNewNode.fromPort=edge.fromPort,edgeBeforeNewNode.toPort="".concat(newNode.id,"-to"),edgeAfterNewNode.fromPort="".concat(newNode.id,"-from"),edgeAfterNewNode.toPort=edge.toPort),edges.splice(oldEdgeIndex,1,edgeBeforeNewNode,edgeAfterNewNode),{nodes:[].concat(_toConsumableArray(nodes),[newNode]),edges:_toConsumableArray(edges)}}function removeAndUpsertNodes(nodes,edges,removeNodes,onNodeLinkCheck){Array.isArray(removeNodes)||(removeNodes=[removeNodes]);var _step,nodeIds=removeNodes.map((function(n){return n.id})),newNodes=nodes.filter((function(n){return!nodeIds.includes(n.id)})),newEdges=edges.filter((function(e){return!nodeIds.includes(e.from)&&!nodeIds.includes(e.to)})),_loop=function _loop(nodeId){var _step2,sourceEdges=edges.filter((function(e){return e.to===nodeId})),targetEdges=edges.filter((function(e){return e.from===nodeId})),_loop2=function _loop2(sourceEdge){var _step3,_loop3=function _loop3(targetEdge){var sourceNode=nodes.find((function(n){return n.id===sourceEdge.from})),targetNode=nodes.find((function(n){return n.id===targetEdge.to}));if(sourceNode&&targetNode){var canLink=null==onNodeLinkCheck?void 0:onNodeLinkCheck(newNodes,newEdges,sourceNode,targetNode);(void 0===canLink||canLink)&&newEdges.push({id:"".concat(sourceNode.id,"-").concat(targetNode.id),from:sourceNode.id,to:targetNode.id,parent:null==sourceNode?void 0:sourceNode.parent})}},_iterator3=_createForOfIteratorHelper(targetEdges);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop3(_step3.value)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}},_iterator2=_createForOfIteratorHelper(sourceEdges);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_loop2(_step2.value)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}},_iterator=_createForOfIteratorHelper(nodeIds);try{for(_iterator.s();!(_step=_iterator.n()).done;){_loop(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{edges:newEdges,nodes:newNodes}}function addNodeAndEdge(nodes,edges,node,toNode){return{nodes:[].concat(_toConsumableArray(nodes),[node]),edges:[].concat(_toConsumableArray(edges),_toConsumableArray(toNode?[{id:"".concat(toNode.id,"-").concat(node.id),from:toNode.id,to:node.id,parent:node.parent}]:[]))}}function useSelection_toConsumableArray(arr){return function useSelection_arrayWithoutHoles(arr){if(Array.isArray(arr))return useSelection_arrayLikeToArray(arr)}(arr)||function useSelection_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||useSelection_unsupportedIterableToArray(arr)||function useSelection_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||useSelection_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSelection_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useSelection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useSelection_arrayLikeToArray(o,minLen):void 0}}function useSelection_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useSelection_useSelection=function useSelection(_ref){var _ref$selections=_ref.selections,selections=void 0===_ref$selections?[]:_ref$selections,_ref$nodes=_ref.nodes,nodes=void 0===_ref$nodes?[]:_ref$nodes,_ref$edges=_ref.edges,edges=void 0===_ref$edges?[]:_ref$edges,disabled=_ref.disabled,onSelection=_ref.onSelection,onDataChange=_ref.onDataChange,_useState2=_slicedToArray(Object(react.useState)(selections),2),internalSelections=_useState2[0],setInternalSelections=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),metaKeyDown=_useState4[0],setMetaKeyDown=_useState4[1],addSelection=function addSelection(item){if(!disabled&&!internalSelections.includes(item)){var next=[].concat(useSelection_toConsumableArray(internalSelections),[item]);null==onSelection||onSelection(next),setInternalSelections(next)}},removeSelection=function removeSelection(item){if(!disabled&&internalSelections.includes(item)){var next=internalSelections.filter((function(i){return i!==item}));null==onSelection||onSelection(next),setInternalSelections(next)}},toggleSelection=function toggleSelection(item){internalSelections.includes(item)?removeSelection(item):addSelection(item)},clearSelections=function clearSelections(){var next=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];disabled||(setInternalSelections(next),null==onSelection||onSelection(next))};return Object(dist.useHotkeys)([{name:"Select All",keys:"mod+a",category:"Canvas",description:"Select all nodes and edges",callback:function callback(event){if(event.preventDefault(),!disabled){var next=nodes.map((function(n){return n.id}));null==onDataChange||onDataChange(nodes,edges),null==onSelection||onSelection(next),setInternalSelections(next)}}},{name:"Delete Selections",category:"Canvas",description:"Delete selected nodes and edges",keys:"backspace",callback:function callback(event){if(!disabled){event.preventDefault();var result=function removeNode(nodes,edges,removeNodes){Array.isArray(removeNodes)||(removeNodes=[removeNodes]);var _step4,newNodes=[],newEdges=[],_loop4=function _loop4(node){removeNodes.some((function(n){return n===node.id}))||newNodes.push(node)},_iterator4=_createForOfIteratorHelper(nodes);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){_loop4(_step4.value)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}var _step5,_loop5=function _loop5(edge){removeNodes.some((function(n){return n===edge.from||n===edge.to}))||newEdges.push(edge)},_iterator5=_createForOfIteratorHelper(edges);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){_loop5(_step5.value)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}return{nodes:newNodes,edges:newEdges}}(nodes,edges,internalSelections);null==onDataChange||onDataChange(result.nodes,result.edges),null==onSelection||onSelection([]),setInternalSelections([])}}},{name:"Deselect Selections",category:"Canvas",description:"Deselect selected nodes and edges",keys:"escape",callback:function callback(event){disabled||(event.preventDefault(),null==onSelection||onSelection([]),setInternalSelections([]))}}]),{onClick:function onClick(event,data){event.preventDefault(),event.stopPropagation(),metaKeyDown?toggleSelection(data.id):clearSelections([data.id]),setMetaKeyDown(!1)},onKeyDown:function onKeyDown(event){event.preventDefault(),setMetaKeyDown(event.metaKey||event.ctrlKey)},onCanvasClick:function onCanvasClick(){clearSelections(),setMetaKeyDown(!1)},selections:internalSelections,clearSelections:clearSelections,addSelection:addSelection,removeSelection:removeSelection,toggleSelection:toggleSelection,setSelections:setInternalSelections}},undoo=__webpack_require__(527),undoo_default=__webpack_require__.n(undoo);function useUndo_slicedToArray(arr,i){return function useUndo_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useUndo_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useUndo_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useUndo_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useUndo_arrayLikeToArray(o,minLen)}(arr,i)||function useUndo_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useUndo_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useUndo_useUndo=function useUndo(_ref){var nodes=_ref.nodes,edges=_ref.edges,disabled=_ref.disabled,_ref$maxHistory=_ref.maxHistory,maxHistory=void 0===_ref$maxHistory?20:_ref$maxHistory,onUndoRedo=_ref.onUndoRedo,_useState2=useUndo_slicedToArray(Object(react.useState)(!1),2),canUndo=_useState2[0],setCanUndo=_useState2[1],_useState4=useUndo_slicedToArray(Object(react.useState)(!1),2),canRedo=_useState4[0],setCanRedo=_useState4[1],manager=Object(react.useRef)(new undoo_default.a({maxLength:maxHistory})),callbackRef=Object(react.useRef)(onUndoRedo);Object(react.useEffect)((function(){callbackRef.current=onUndoRedo}),[onUndoRedo]),Object(react.useEffect)((function(){manager.current.save({nodes:nodes,edges:edges}),setCanUndo(manager.current.canUndo()),setCanRedo(manager.current.canRedo())}),[nodes,edges]);var undo=Object(react.useCallback)((function(){manager.current.undo((function(state){var nextUndo=manager.current.canUndo(),nextRedo=manager.current.canRedo();setCanUndo(nextUndo),setCanRedo(nextRedo),callbackRef.current(Object.assign({},state,{type:"undo",canUndo:nextUndo,canRedo:nextRedo}))}))}),[]),redo=Object(react.useCallback)((function(){manager.current.redo((function(state){var nextUndo=manager.current.canUndo(),nextRedo=manager.current.canRedo();setCanUndo(nextUndo),setCanRedo(nextRedo),callbackRef.current(Object.assign({},state,{type:"redo",canUndo:nextUndo,canRedo:nextRedo}))}))}),[]),clear=Object(react.useCallback)((function(){manager.current.clear(),setCanUndo(!1),setCanRedo(!1),callbackRef.current({type:"clear",canUndo:!1,canRedo:!1})}),[]);return Object(dist.useHotkeys)([{name:"Undo",keys:"mod+z",category:"Canvas",description:"Undo changes",callback:function callback(event){event.preventDefault(),!disabled&&canUndo&&undo()}},{name:"Redo",keys:"mod+shift+z",category:"Canvas",description:"Redo changes",callback:function callback(event){event.preventDefault(),!disabled&&canRedo&&redo()}}]),{canUndo:canUndo,canRedo:canRedo,count:manager.current.count,history:manager.current.history,clear:clear,redo:redo,undo:undo}},helpers=__webpack_require__(118),kld_affine=__webpack_require__(7),kld_intersections=__webpack_require__(528);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function useProximity_slicedToArray(arr,i){return function useProximity_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useProximity_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||useProximity_unsupportedIterableToArray(arr,i)||function useProximity_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useProximity_toConsumableArray(arr){return function useProximity_arrayWithoutHoles(arr){if(Array.isArray(arr))return useProximity_arrayLikeToArray(arr)}(arr)||function useProximity_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||useProximity_unsupportedIterableToArray(arr)||function useProximity_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useProximity_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=useProximity_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useProximity_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useProximity_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useProximity_arrayLikeToArray(o,minLen):void 0}}function useProximity_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var distanceFromNode=function distanceFromNode(mousePoint,node){var _node$points=useProximity_slicedToArray(node.points,2),tl=_node$points[0],br=_node$points[1],dx=0,dy=0;return mousePoint.x<tl.x?dx=tl.x-mousePoint.x:mousePoint.x>br.x&&(dx=br.x-mousePoint.x),mousePoint.y<tl.y?dy=tl.y-mousePoint.y:mousePoint.y>br.y&&(dy=br.y-mousePoint.y),Math.floor(Math.sqrt(dx*dx+dy*dy))},useProximity_useProximity=function useProximity(_ref){var canvasRef=_ref.canvasRef,disabled=_ref.disabled,_ref$minDistance=_ref.minDistance,minDistance=void 0===_ref$minDistance?40:_ref$minDistance,rest=_objectWithoutProperties(_ref,["canvasRef","disabled","minDistance"]),lastIntersectRef=Object(react.useRef)(null),lastMatchRef=Object(react.useRef)(null),lastDistance=Object(react.useRef)(null),frame=Object(react.useRef)(0),eventRefs=Object(react.useRef)(rest);Object(react.useEffect)((function(){eventRefs.current=rest}),[rest]);var _useState2=useProximity_slicedToArray(Object(react.useState)(null),2),match=_useState2[0],setMatch=_useState2[1],_useState4=useProximity_slicedToArray(Object(react.useState)(null),2),matrix=_useState4[0],setMatrix=_useState4[1],_useState6=useProximity_slicedToArray(Object(react.useState)(null),2),points=_useState6[0],setPoints=_useState6[1],onDragStart=Object(react.useCallback)((function(){if(!disabled){var ref=canvasRef.current;setMatrix(Object(helpers.b)(ref)),setPoints(function buildPoints(nodes,parent){var results=[];if(null!=nodes&&nodes.length){var _step,_iterator=useProximity_createForOfIteratorHelper(nodes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _node$children,node=_step.value,x=node.x,y=node.y;parent&&(x=parent.x+x,y=parent.y+y);var points=[new kld_affine.b(x,y),new kld_affine.b(x+node.width,y+node.height)];results.push({points:points,node:node}),null!==(_node$children=node.children)&&void 0!==_node$children&&_node$children.length&&results.push.apply(results,useProximity_toConsumableArray(buildPoints(node.children,node)))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return results}(ref.layout.children))}}),[disabled]),onDrag=Object(react.useCallback)((function(event){if(matrix&&!disabled){var _eventRefs$current=eventRefs.current,onMatchChange=_eventRefs$current.onMatchChange,onIntersects=_eventRefs$current.onIntersects,onDistanceChange=_eventRefs$current.onDistanceChange,_findNodeIntersection=function findNodeIntersection(event,matrix,points,minDistance){var _step2,cubes=[],mousePoint=new kld_affine.b(event.x,event.y).transform(matrix),_iterator2=useProximity_createForOfIteratorHelper(points);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var point=_step2.value,intersects=kld_intersections.a.pointInRectangle(mousePoint,point.points[0],point.points[1]),minDist=distanceFromNode(mousePoint,point);cubes.push({node:point.node,minDist:minDist,intersects:intersects})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}for(var foundDist=minDistance,intersectedNodeId=null,foundNodeId=null,_i2=0,_cubes=cubes;_i2<_cubes.length;_i2++){var cube=_cubes[_i2];cube.minDist<foundDist&&!cube.intersects&&(foundNodeId=cube.node.id,foundDist=cube.minDist),cube.intersects&&(intersectedNodeId=cube.node.id)}return intersectedNodeId&&(foundNodeId&&foundNodeId!==intersectedNodeId||(foundNodeId=intersectedNodeId,foundDist=0)),{intersectedNodeId:intersectedNodeId,foundNodeId:foundNodeId,foundDist:foundDist}}(event,matrix,points,minDistance),intersectedNodeId=_findNodeIntersection.intersectedNodeId,foundNodeId=_findNodeIntersection.foundNodeId,foundDist=_findNodeIntersection.foundDist,nextDist=foundDist!==minDistance?foundDist:null;foundNodeId!==lastMatchRef.current&&(null==onMatchChange||onMatchChange(foundNodeId,foundDist)),intersectedNodeId!==lastIntersectRef.current&&(null==onIntersects||onIntersects(intersectedNodeId)),onDistanceChange&&nextDist!==lastDistance.current&&(cancelAnimationFrame(frame.current),frame.current=requestAnimationFrame((function(){onDistanceChange(nextDist)}))),lastIntersectRef.current=intersectedNodeId,lastMatchRef.current=foundNodeId,lastDistance.current=nextDist,setMatch(foundNodeId)}}),[matrix,disabled,minDistance,points]);return Object(react.useEffect)((function(){return function(){return cancelAnimationFrame(frame.current)}})),{match:match,onDragStart:onDragStart,onDrag:onDrag,onDragEnd:Object(react.useCallback)((function(){disabled||(setMatch(null),setMatrix(null),setPoints(null))}),[disabled])}};__webpack_require__(79);function graphHelpers_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function graphHelpers_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return graphHelpers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return graphHelpers_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function graphHelpers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function hasLink(edges,from,to){return edges.some((function(e){return e.from===from.id&&e.to===to.id}))}function getSourceNodesForTargetId(nodes,edges,nodeId){var sourceNodeIds=edges.reduce((function(acc,edge){return edge.to===nodeId&&acc.push(edge.from),acc}),[]),node=nodes.find((function(n){return n.id===nodeId}));return null!=node&&node.parent&&sourceNodeIds.push(node.parent),nodes.filter((function(n){return sourceNodeIds.includes(n.id)}))}function detectCircular(nodes,edges,fromNode,toNode){var found=!1;return function traverse(nodeId){var _step,_iterator=graphHelpers_createForOfIteratorHelper(getSourceNodesForTargetId(nodes,edges,nodeId));try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;if(node.id===toNode.id){found=!0;break}traverse(node.id)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}(fromNode.id),found}},508:function(module,exports){},509:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(144),__webpack_require__(73),__webpack_require__(118),__webpack_require__(232),__webpack_require__(231)},510:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(230),__webpack_require__(229),__webpack_require__(179)},524:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1152);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},525:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1157);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},526:function(module,exports,__webpack_require__){var api=__webpack_require__(104),content=__webpack_require__(1159);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},531:function(module,exports,__webpack_require__){__webpack_require__(532),__webpack_require__(703),__webpack_require__(704),__webpack_require__(860),__webpack_require__(1076),__webpack_require__(1109),__webpack_require__(1121),__webpack_require__(1123),__webpack_require__(1128),__webpack_require__(1130),module.exports=__webpack_require__(1133)},606:function(module,exports){},704:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(396)},73:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CanvasProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useCanvas}));__webpack_require__(4);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_layout_useLayout__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(229),_useEdgeDrag__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(231),_useZoom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(232),CanvasContext=Object(react__WEBPACK_IMPORTED_MODULE_2__.createContext)({}),CanvasProvider=function CanvasProvider(_ref){var selections=_ref.selections,onNodeLink=_ref.onNodeLink,readonly=_ref.readonly,children=_ref.children,nodes=_ref.nodes,edges=_ref.edges,maxHeight=_ref.maxHeight,fit=_ref.fit,maxWidth=_ref.maxWidth,direction=_ref.direction,layoutOptions=_ref.layoutOptions,pannable=_ref.pannable,center=_ref.center,zoomable=_ref.zoomable,zoom=_ref.zoom,minZoom=_ref.minZoom,maxZoom=_ref.maxZoom,onNodeLinkCheck=_ref.onNodeLinkCheck,onLayoutChange=_ref.onLayoutChange,onZoomChange=_ref.onZoomChange,zoomProps=Object(_useZoom__WEBPACK_IMPORTED_MODULE_5__.a)({zoom:zoom,minZoom:minZoom,maxZoom:maxZoom,disabled:!zoomable,onZoomChange:onZoomChange}),layoutProps=Object(_layout_useLayout__WEBPACK_IMPORTED_MODULE_3__.a)({nodes:nodes,edges:edges,maxHeight:maxHeight,maxWidth:maxWidth,direction:direction,pannable:pannable,center:center,fit:fit,layoutOptions:layoutOptions,zoom:zoomProps.zoom,setZoom:zoomProps.setZoom,onLayoutChange:onLayoutChange}),dragProps=Object(_useEdgeDrag__WEBPACK_IMPORTED_MODULE_4__.a)({onNodeLink:onNodeLink,onNodeLinkCheck:onNodeLinkCheck});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CanvasContext.Provider,{value:Object.assign({selections:selections,readonly:readonly,pannable:pannable},layoutProps,zoomProps,dragProps),children:children})};CanvasProvider.displayName="CanvasProvider";var useCanvas=function useCanvas(){var context=Object(react__WEBPACK_IMPORTED_MODULE_2__.useContext)(CanvasContext);if(void 0===context)throw new Error("`useCanvas` hook must be used within a `CanvasContext` component");return context};try{CanvasProvider.displayName="CanvasProvider",CanvasProvider.__docgenInfo={description:"",displayName:"CanvasProvider",props:{selections:{defaultValue:null,description:"",name:"selections",required:!0,type:{name:"any"}},onNodeLink:{defaultValue:null,description:"",name:"onNodeLink",required:!0,type:{name:"any"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"any"}},nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"any"}},edges:{defaultValue:null,description:"",name:"edges",required:!0,type:{name:"any"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!0,type:{name:"any"}},fit:{defaultValue:null,description:"",name:"fit",required:!0,type:{name:"any"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!0,type:{name:"any"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"any"}},layoutOptions:{defaultValue:null,description:"",name:"layoutOptions",required:!0,type:{name:"any"}},pannable:{defaultValue:null,description:"",name:"pannable",required:!0,type:{name:"any"}},center:{defaultValue:null,description:"",name:"center",required:!0,type:{name:"any"}},zoomable:{defaultValue:null,description:"",name:"zoomable",required:!0,type:{name:"any"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"any"}},minZoom:{defaultValue:null,description:"",name:"minZoom",required:!0,type:{name:"any"}},maxZoom:{defaultValue:null,description:"",name:"maxZoom",required:!0,type:{name:"any"}},onNodeLinkCheck:{defaultValue:null,description:"",name:"onNodeLinkCheck",required:!0,type:{name:"any"}},onLayoutChange:{defaultValue:null,description:"",name:"onLayoutChange",required:!0,type:{name:"any"}},onZoomChange:{defaultValue:null,description:"",name:"onZoomChange",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/CanvasProvider.tsx#CanvasProvider"]={docgenInfo:CanvasProvider.__docgenInfo,name:"CanvasProvider",path:"src/utils/CanvasProvider.tsx#CanvasProvider"})}catch(__react_docgen_typescript_loader_error){}},95:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Canvas__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"Canvas",(function(){return _Canvas__WEBPACK_IMPORTED_MODULE_0__.a}));var _symbols__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);__webpack_require__.d(__webpack_exports__,"Add",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.a})),__webpack_require__.d(__webpack_exports__,"Edge",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.c})),__webpack_require__.d(__webpack_exports__,"Icon",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.d})),__webpack_require__.d(__webpack_exports__,"Label",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.e})),__webpack_require__.d(__webpack_exports__,"MarkerArrow",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.f})),__webpack_require__.d(__webpack_exports__,"Node",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.g})),__webpack_require__.d(__webpack_exports__,"Port",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.h})),__webpack_require__.d(__webpack_exports__,"Remove",(function(){return _symbols__WEBPACK_IMPORTED_MODULE_1__.i}));__webpack_require__(508),__webpack_require__(509),__webpack_require__(510),__webpack_require__(38)}},[[531,1,2]]]);
//# sourceMappingURL=main.6d4f0eb46bf64e5dcade.bundle.js.map